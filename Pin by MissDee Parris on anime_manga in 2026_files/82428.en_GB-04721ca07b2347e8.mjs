(self.modernJsonp=self.modernJsonp||[]).push([["82428"],{922442(e,t,n){n.d(t,{A:()=>l});var o=n(979638),i=n(290172),a=n(971289);function l(){let e=(0,o.Zp)(),t=(0,a.qJ)();return n=>{t?(0,i.A)(n,{disableOriginCheck:!0}):e(n)}}},55891(e,t,n){n.d(t,{A:()=>i});var o=n(803489);let i=e=>{if(!e||!e.search)return!1;let t=(0,o.A)(e.search);return"PaidMedia"===t.utm_medium&&"string"==typeof t.creative_id&&t.creative_id.includes("Incentive")}},456251(e,t,n){n.d(t,{A:()=>o});let o=(e,t)=>{let n=new Date;return new Date(1e3*e)<=new Date(n.getFullYear()-(t||18),n.getMonth(),n.getDate())}},532726(e,t,n){n.d(t,{A:()=>l});var o=n(61163),i=n(859471),a=n(562615);let l=({size:e=56})=>((0,i.useEffect)(()=>{(0,o.A)("Google","/app/packages/gestalt-custom-svg/dynamicSVGs/Google.tsx")},[]),(0,a.jsxs)("svg",{display:"block",fill:"none",fillRule:"evenodd",height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,a.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,a.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,a.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,a.jsx)("path",{d:"M20 20h472v472H20V20z"})]}))},79898(e,t,n){n.d(t,{A:()=>i});var o=n(562615);let i=(0,o.jsx)("svg",{height:"40px",version:"1.1",viewBox:"0 0 40 40",width:"40px",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:(0,o.jsx)("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",fill:"#FFFFFF",fillRule:"nonzero",id:"ï£¿"})})})},537536(e,t,n){n.d(t,{M4:()=>r,T$:()=>c,Tp:()=>u,YL:()=>d,rz:()=>s});var o=n(55891),i=n(484409),a=n(803489);let l="validated_campaign_offer",s=e=>{let t=(0,a.A)(e),n=t.utm_campaign,o=t.creative_id;return n&&o&&"string"==typeof n&&"string"==typeof o?{utmCampaign:n,creativeId:o,timestamp:Date.now()}:null},r=e=>{try{i.Ay.setItem(l,JSON.stringify(e))}catch{}},c=()=>{try{let e=i.Ay.getItem(l);if(!e)return null;let t=JSON.parse(e);if(!t.timestamp)return t;if((Date.now()-t.timestamp)/36e5>24){try{i.Ay.removeItem(l)}catch{}return null}return t}catch{return null}},d=(e,t)=>{let n=(0,a.A)(e.search),o=!1;if(t.forEach(e=>{n[e]&&(o=!0,delete n[e])}),!o)return;let i=Object.entries(n).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"),l=i?`?${i}`:"",s=`${e.pathname}${l}${e.hash}`;"u">typeof window&&window.history&&window.history.replaceState({},"",s)},u=e=>{if(!(0,o.A)(e))return e.search;if(!e.search)return"";let t=(e.search.startsWith("?")?e.search.slice(1):e.search).split("&").filter(e=>{let[t]=e.split("=");return"utm_campaign"!==t&&"creative_id"!==t});return t.length>0?`?${t.join("&")}`:""}},86767(e,t,n){n.d(t,{A:()=>o});let o={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9,QR_CODE:10,OTP:11,PHONE_NUMBER:12}},155729(e,t,n){n.d(t,{A:()=>p});var o=n(148867),i=n(706114),a=n(251407),l=n(998556),s=n(208360),r=n(607685),c=n(365910),d=n(803489);let u="u">typeof window,_=u?`${window.location.origin}/oauth/line/redirect`:"";function p(e,t){let n;if(!u)return void t.error?.({message:"Window is undefined"});let p=(0,s.A)(10),g=async e=>{if(!e.isTrusted)return;let s=e instanceof MessageEvent?(({origin:e,data:t})=>t&&e===window.location.origin?String(t):null)(e):(({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==i.BD)return null;let n=(0,l.y1)().getItem(i.BD);return(0,l.y1)().removeItem(i.BD),n})(e),r=(0,d.A)(s);if(r.state&&r.code&&r.state===p){t.fetching?.(),n&&!n.closed&&n.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(a.Jt(o.mh))}`},method:"POST",body:(0,c.A)({code:r.code,redirect_uri:_})}),{id_token:n,access_token:i}=await e.json();n&&i?t.success({line_id_token:n,line_access_token:i}):t.error?.({message:"No tokens returned"})}catch(e){t.error?.(e)}finally{n&&!n.closed&&n.close(),window.removeEventListener("message",g),window.removeEventListener("storage",g),t.complete?.()}}};window.addEventListener("message",g),window.addEventListener("storage",g),n=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${r.DtS}&redirect_uri=${encodeURIComponent(_)}&state=${p}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},515913(e,t,n){n.d(t,{A:()=>o});let o=e=>JSON.parse(decodeURIComponent(atob((e.split(".")[1]||"").replace(/-/g,"+").replace(/_/g,"/")).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},999813(e,t,n){n.d(t,{A:()=>r});var o=n(61163),i=n(859471),a=n(19821),l=n(538329),s=n(562615);let r=({isInModal:e})=>{(0,i.useEffect)(()=>{(0,o.A)("FullPageSpinner","/app/www/FullPageSpinner.tsx")},[]);let t=(0,l.A)();return(0,s.jsx)(a.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new a.rk(1),children:(0,s.jsx)(a.y$,{accessibilityLabel:t.bt("Loading", "Loading", "Full page loading state", undefined, true),show:!0})})}},654557(e,t,n){n.d(t,{A:()=>m});var o=n(61163),i=n(859471),a=n(979638),l=n(586733),s=n(676692),r=n(844255),c=n(752159),d=n(67765),u=n(942795),_=n(210429),p=n(265903),g=n(81920),h=n(562615);function m({children:e,componentType:t,app_upsell_type:n,isShown:m=!0}){(0,i.useEffect)(()=>{(0,o.A)("AppUpsellController","/app/www/appupsell/AppUpsellController.tsx")},[]);let b=(0,a.zy)(),{flushContextEvents:f,logContextEvent:w}=(0,l.o)(),{viewType:A,viewParameter:x}=(0,s.WQ)(),y=(0,d.A)(),{userAgent:{platform:v}}=(0,r._8)();(0,i.useEffect)(()=>{y({action:"view",item:"download-button",within:n})},[b,n,y]);let z=(0,i.useRef)(!1);(0,i.useEffect)(()=>{m&&A&&202!==A?(w({component:t||13106,element:10308,event_type:9976,view_type:A,view_parameter:x,aux_data:{app_upsell_type:n,app_upsell_is_dupe:z.current}}),z.current=!0):(0,g.GV)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:A,view_parameter:x,app_upsell_type:n,app_upsell_is_dupe:z.current}})},[A,x,t,n,w,m]);let j=(0,_.A)();return(0,i.useEffect)(()=>{j||(0,c.PM)(`mweb.app_upsell.forbidden_upsell.${n}`)},[j,n]),(0,h.jsx)(p.A,{children:o=>e({handleOpenApp:e=>{y({action:"click",item:"download-button",within:n}),(0,c.uq)("press_open_app",!0),w({component:t||13106,element:10308,event_type:102,view_type:A||202,view_parameter:x,aux_data:{app_upsell_type:n}}),w({component:t||13106,element:10308,event_type:9977,view_type:A||202,view_parameter:x,aux_data:{app_upsell_type:n}}),f(),o&&(w({component:t||13106,element:10308,event_type:1701,view_type:A||202,view_parameter:x,aux_data:{app_upsell_type:n}}),o(e?.deepLinkUri??(0,u.A)(b,"android"===v),n))}})})}},567584(e,t,n){n.d(t,{A:()=>a});var o=n(957760),i=n(752159);async function a(e){let t=await (0,o.Oe)(),n=t?{user_ids:Object.keys(t)}:{};(0,i.fu)(`mweb_multiple_accounts_${e}`,n)}},402101(e,t,n){n.d(t,{Q:()=>_,q6:()=>g,nB:()=>p});var o=n(607685),i=n(286622),a=n(584469),l=n(201447),s=n(598948),r=n(602719),c=n(479123);let d=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"];var u=n(81920);let _=e=>e&&(0,l.A)(e)&&o.UU5!==e?(0,s.A)(e).relative:"/",p=(e,t)=>{let n,o=(0,i.A)(e);return n=new URL(o,t),d.some(e=>!!(0,c.B6)({path:e,end:!0},n.pathname))||(0,a.A)(o)===r.A.TRUSTED_DIFFERENT_ORIGIN},g=({checkExperiment:e,forceFullPageNavigation:t,isPartner:n,navigate:o,next:a,noLocationReplace:l,origin:s})=>{let r=(0,i.A)(a);if(p(a,s)||!o||t)t&&(0,u.GV)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(r);else{let t=_(r),i="/"===t&&!n&&e?.("mweb_res_user_nudge_to_home").anyEnabled?"/search/":t;l?o(_(i)):o(_(i),{replace:!0})}}},427276(e,t,n){n.d(t,{A:()=>o});function o(e){return e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null}},760771(e,t,n){n.d(t,{A:()=>d});var o=n(61163),i=n(859471),a=n(19821),l=n(79906),s=n(538329),r=n(752159),c=n(562615);function d({onDismiss:e}){(0,i.useEffect)(()=>{(0,o.A)("LoginRateLimitedModal","/app/www/login/duplo/LoginRateLimitedModal.tsx")},[]);let t=(0,s.A)();(0,i.useEffect)(()=>{(0,r.PM)("unauth_mweb.login_rate_limited.view")},[]);let n=t.bt("Too many login attempts", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true);return(0,c.jsxs)(l.Ay,{accessibilityModalLabel:n,heading:(0,c.jsxs)(a.az,{"data-test-id":"login-rate-limited-header",children:[(0,c.jsx)(a.az,{display:"flex",justifyContent:"center",padding:6,children:(0,c.jsx)(a.In,{accessibilityLabel:t.bt("Pinterest logo", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"primary",icon:"pinterest",size:40})}),(0,c.jsx)(a._Y,{accessibilityLevel:1,align:"center",size:"600",children:n})]}),isOpen:!0,onDismiss:e,children:[(0,c.jsx)(a.az,{"data-test-id":"login-rate-limited-text",marginBottom:8,marginTop:4,paddingX:12,children:(0,c.jsx)(a.KJ,{align:"center",children:t.bt("You have reached the maximum number of login attempts. Try again in 30 minutes.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,c.jsx)(a.az,{"data-test-id":"login-rate-limited-footer",marginBottom:8,paddingX:12,children:(0,c.jsx)(a.$n,{color:"primary",fullWidth:!0,onClick:e,text:t.bt("OK", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true)})})]})}},700944(e,t,n){let o;n.d(t,{A:()=>b});var i=n(859471),a=n(19821),l=n(570068),s=n(131094),r=n(909179);let c={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},d="DelightfulBubbles__",u=[`${d}fadeIn {
  to {
    opacity: 1;
  }
}
`,`${d}growShrink {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
`,`${d}swirl {
  0% {
    transform: rotate(0deg) translateX(-50%);
  }
  100% {
    transform: rotate(-360deg) translateX(-50%);
  }
}
`,...(o=(0,r.A)(c)).map(e=>{let t,n,i=(t=o.length,n=o.indexOf(e)+1>=t?0:o.indexOf(e)+1,o[n]);return`${d}colorChange_${e} {
      0% {
        background-color: ${c[e]};
      }
      50% {
        background-color: ${c[i]};
      }
    }
    `})],_=(0,l.m5)(u);var p=n(562615);function g(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=e=>{let{delay:t,diameter:n,height:o,initialColor:i,width:l,xOffset:s,yOffset:r}=e,u=Math.floor(n/2),_={bubblePositionStyles:{position:"absolute",marginLeft:`${l/2-u}px`,marginTop:`${o/2-u}px`,left:`${s}px`,top:`${r}px`},bubbleSwirlStyles:{animation:`${d}swirl 6s ease-in-out ${t}s infinite forwards`,WebkitAnimation:`${d}swirl 6s ease-in-out ${t}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${d}growShrink 6s ease-in-out ${t}s infinite alternate`,WebkitAnimation:`${d}growShrink 6s ease-in-out ${t}s infinite alternate`},bubbleShapeStyles:{height:`${n}px`,width:`${n}px`,borderRadius:"50%",backgroundColor:c[i],opacity:0,animation:`${d}colorChange_${i} 12s steps(1, start) ${t}s infinite forwards,
      ${d}fadeIn 3s linear ${t}s 1 forwards`,WebkitAnimation:`${d}colorChange_${i} 12s steps(1, start) ${t}s infinite forwards,
      ${d}fadeIn 3s linear ${t}s 1 forwards`}};return(0,p.jsx)(a.az,{dangerouslySetInlineStyle:{__style:_.bubblePositionStyles},children:(0,p.jsx)(a.az,{dangerouslySetInlineStyle:{__style:_.bubbleSwirlStyles},children:(0,p.jsx)(a.az,{dangerouslySetInlineStyle:{__style:_.bubbleGrowShrinkStyles},children:(0,p.jsx)(a.az,{dangerouslySetInlineStyle:{__style:_.bubbleShapeStyles}})})})})};class m extends i.Component{constructor(...e){super(...e),g(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return e.numBubbles!==this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){let{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){let{delayFactor:n,delayOffset:o,numBubbles:i,xRadiusAdjustment:a,yRadiusAdjustment:s}=this.props,d=e+2*s,u=t+2*a,_=[],g=(0,r.A)(c);for(let a=0;a<i;a+=1){let i=16+(0,l.hw)(-4,4),s=g[a%g.length],{x:r,y:c}=(0,l.Tw)(d,u);_.push((0,p.jsx)(h,{delay:a*n+o,diameter:i,height:e,initialColor:s,width:t,xOffset:r,yOffset:c},a))}return _}render(){let{isDesktop:e}=this.props,{height:t,width:n}=this.getSize();return(0,p.jsxs)(a.az,{height:t,position:"relative",width:n,children:[(0,p.jsx)(s.A,{unsafeCSS:_}),(0,p.jsxs)(a.az,{ref:e=>{this.containerElement=e},position:e?void 0:"absolute",children:[this.state.isInitialized&&this.createBubbles(t||0,n||0),(0,p.jsx)(a.az,{position:"relative",children:this.props.children})]})]})}}g(m,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});let b=m},553027(e,t,n){n.d(t,{A:()=>g});var o=n(61163),i=n(859471),a=n(19821),l=n(989346),s=n(348681),r=n(538329),c=n(844255),d=n(999813),u=n(700944),_=n(599254),p=n(562615);function g({isReducedHeader:e,progressBarAnimationDuration:t}){(0,i.useEffect)(()=>{(0,o.A)("WelcomeScreen","/app/www/nux/WelcomeScreen.tsx")},[]);let n=(0,r.A)(),{country:g}=(0,c._8)(),h=(0,_.A)(g);return(0,p.jsx)(i.Fragment,{children:h?(0,p.jsx)(s.A,{log:{view_type:10,view_parameter:259},children:(0,p.jsxs)(a.az,{bottom:!0,color:"default",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,p.jsx)(l.A,{color:"washDark",duration:t||3e3,finalProgress:95}),(0,p.jsxs)(a.so,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,p.jsxs)(a.az,{"data-test-id":"account-creation-heading",margin:10,children:[(0,p.jsx)(a._Y,{overflow:"normal",size:e?"600":"700",children:n.bt("Your account is being created.", "Your account is being created!", "account created heading", undefined, true)}),(0,p.jsx)(a.az,{children:(0,p.jsx)(a.KJ,{overflow:"normal",children:n.bt("You can now save ideas, get personalised recommendations and more", "You can now save ideas, get personalized recommendations, and more", "loading state description while waiting for any sign up registration to complete", undefined, true)})})]}),(0,p.jsx)(a.so,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,p.jsx)(u.A,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,p.jsx)(a.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#e2e2e2"}},direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,p.jsx)(a.In,{accessibilityLabel:n.bt("Loading", "Loading", "Loading state for any sign up registration", undefined, true),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,p.jsx)(d.A,{})})}},599254(e,t,n){n.d(t,{A:()=>i});var o=n(637616);let i=e=>new Set([...o.yv,...o.DQ,...o.UT]).has(e)},36217(e,t,n){n.d(t,{s:()=>$,v:()=>R});var o=n(859471),i=n(106386),a=n(148867),l=n(427471),s=n(706114),r=n(743372),c=n(251407),d=n(557704),u=n(926608),_=n(856748),p=n(26530),g=n(769272),h=n(816492),m=n(516750),b=n(583725),f=n(601185),w=n(700481),A=n(34748),x=n(844255),y=n(805863),v=n(998556),z=n(752159),j=n(550813),k=n(986716),C=n(567584),P=n(402101),S=n(82005),E=n(273919),L=n(639650),T=n(81920);let I=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),R=()=>{let e=(0,r.A)(),t=(0,f.A)(),n=(0,i.wA)(),{country:R,countryFromHostName:$,countryFromIp:B,regionFromIp:O,userAgent:{isTablet:D,isMobile:M}}=(0,x._8)(),G=(0,w.A)(),U=(0,j.A)(),F=(0,h.A)(),W=(0,u.YG)();return(0,o.useCallback)(async(o,i,r="/",u={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1,component:"unspecified",container:"unspecified_container"},h)=>{G();let f=!D&&!M,{isAutologin:w,isSwitchAccount:x,noLocationReplace:j,recaptchaV3Token:N,noImmediateRedirect:K,useAlternativeResourceCall:H,trigger:Y,accountUnlinked:J,fingerprintData:V,component:X,container:q}=u;(0,v.y1)().setItem(s.g0,(0,b.Ds)(o));let Z=t=>{e({...h,event_type:t,aux_data:{...h.aux_data,upsell_reason:h.aux_data?.upsell_reason||(w?"autologin":(0,v.y1)().getItem(s.LU)),upsell_view_count:(0,v.y1)().getItem(s.We)??0}}),7536===t&&(0,v.y1)().setItem(s.We,0)},Q=(0,L.q)(),ee=f?5:6,et={get_user:!0,...o,app_type_from_client:ee,recaptchaV3Token:N,fingerprintData:V,autologin:w,ui_component:`${q}.${X}`,handler:Q},en=JSON.stringify(W)||"";en&&(et={...et,visited_pages_before_login:en});let eo=(0,S.w)();if(eo&&(et={...et,referrer:eo}),await (0,g.dC)({fingerprintData:V,source:p.D1.LOGIN,logContextEvent:e}))return Promise.reject({isArkoseChallengeRequired:!0});et=(0,g.Xw)(et);let ei=l.A.create("UserSessionResource",et).callCreate();if(H&&o.username_or_email&&o.password&&!t.checkExperiment("identity_deprecate_alternative_resource").anyEnabled){(0,T.GV)("webapp.authentication.useAlternativeResourceCall",{sampleRate:1,tags:{app_type_from_client:ee,is_autologin:w,is_switch_account:x,handler:Q}});let e=new FormData;e.append("username",o.username_or_email),e.append("password",o.password),e.append("ui_component",`${q}.${X}`),e.append("handler",Q||"useAlternativeResourceCall_unspecified_handler"),N&&e.append("recaptchaV3Token",N),V?.current&&(V.current.sardineSessionKey&&e.append("sardineSessionKey",V.current.sardineSessionKey),V.current.arkoseSessionToken&&e.append("arkoseSessionToken",V.current.arkoseSessionToken)),ei=fetch("/resource/UserSessionResource/create/",{method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,d.Qm)()||"","X-Requested-With":"XMLHttpRequest","X-Pinterest-PWS-Handler":Q||""}}).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>((0,z.OW)({event:"login_api_call_failure",provider:"email"}),Promise.reject(e)))}try{w?(0,z.OW)({event:"login_api_call_start",provider:o.google_open_id_token?"google":"facebook"}):(0,z.XB)({event:"login_api_call_start",provider:(0,b.Ds)(o)}),Z(7534),U({action:w?"autologin":"login",event:"attempt",type:(0,b.Cn)(o),trigger:Y});let e=await ei;w?(0,z.OW)({event:"login_api_call_success",provider:o.google_open_id_token?"google":"facebook"}):(0,z.XB)({event:"login_api_call_success",provider:(0,b.Ds)(o)}),n(I(e.resource_response.data.user));let l=e.client_context,d=e.resource_response.data.user.gatekeeper_experiments;if(d){let{active:e,triggerable:n}=d;e&&n||(0,T.GV)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!e),triggerable:String(!!n)}}),t.updateExperiments(e,n)}else(0,T.GV)("webapp.authentication.updateExperimentsFailed");l&&l.placed_experiences&&n((0,_.vv)(l.placed_experiences)),(0,C.A)("authentication.login_success"),b.Ay.storeLoginCredentialsToBrowser(o),Z(7536),U({action:w?"autologin":"login",event:"success",type:(0,b.Cn)(o),trigger:Y}),F(),c.wC(a.N5.name),c.wC(a.vS.name),(0,v.y1)().setItem(s.b$,1),"/"!==r&&(0,E.h)(!0),x?(0,y.A)().then(()=>{let t=`/${e.resource_response.data?.user.username||""}`+(J?`?message=${m.B5}`:"");window.location.href=t}):w&&!f||K||(!o.google_open_id_token&&f&&t.checkExperiment("dweb_arr_modal_post_fb_login").anyEnabled&&(0,k.VY)(),(0,P.q6)({checkExperiment:t.checkExperiment,forceFullPageNavigation:f,navigate:i,next:r,noLocationReplace:j,origin:window.location.toString()})),"facebook"===(0,b.Ds)(o)&&!f&&t.checkExperiment("mweb_arr_modal_post_fb_login").anyEnabled&&(0,k.VY)(),(0,A.A)({country:R,countryFromHostName:$,countryFromIp:B,regionFromIp:O,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(w?(0,z.OW)({event:"login_api_call_failure",provider:o.google_open_id_token?"google":"facebook"}):(0,z.XB)({event:"login_api_call_failure",provider:(0,b.Ds)(o)}),1201!==e.api_error_code||w||f)throw Z(7535),U({action:w?"autologin":"login",event:"fail",type:(0,b.Cn)(o),trigger:Y}),x&&(0,C.A)("authentication.login_error"),e;i&&i("/login/mfa/",{state:{creds:o,next:r,phoneNumber:e?.data?.phone_number_end}})}},[n,R,$,B,G,t,M,D,e,O,U,F,W])},$=()=>{let e=(0,f.A)(),t=(0,i.wA)(),n=(0,w.A)();return({client_context:o,resource_response:i})=>{let{data:a}=i;a&&(n(),t(I(a.user)));let l=a.user.gatekeeper_experiments;if(l){let{active:t,triggerable:n}=l;t&&n||(0,T.GV)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,T.GV)("webapp.crossDomainAutologin.updateExperimentsFailed");o&&t((0,_.vv)(o.placed_experiences))}}},300187(e,t,n){n.d(t,{L:()=>T});var o=n(106386),i=n(148867),a=n(427471),l=n(706114),s=n(458345),r=n(743372),c=n(251407),d=n(926608),u=n(457315),_=n(856748),p=n(26530),g=n(769272),h=n(816492),m=n(464755),b=n(173832),f=n(261943),w=n(601185),A=n(700481),x=n(34748),y=n(844255),v=n(805863),z=n(998556),j=n(752159),k=n(550813),C=n(406054),P=n(567584),S=n(82005),E=n(599254),L=n(81920);let T=()=>{let e=(0,w.A)(),t=(0,o.wA)(),{country:n,countryFromHostName:T,countryFromIp:I,regionFromIp:R,isAuthenticated:$}=(0,y._8)(),B=(0,A.A)(),O=(0,r.A)(),D=(0,k.A)(),{isRequirementEnabled:M}=(0,C.AE)(),G=(0,h.A)(),U=(0,d.YG)();return(o,{signupAttemptContextEvent:r})=>{let d=(0,f.yh)(o),h=(0,z.y1)(),w=e=>{O({...r,event_type:e,aux_data:{...r.aux_data,upsell_reason:r.aux_data?.upsell_reason||h.getItem(l.LU)||null,upsell_view_count:h.getItem(l.We)||0}}),7487===e&&h.setItem(l.We,0)};w(7537),D({action:"signup",event:"attempt",type:d}),B();let A=0,y=(0,E.A)(n),k=new Promise(e=>{y?setTimeout(()=>{e(void 0)},3e3):e(void 0)});return new Promise((l,r)=>{let h=async()=>{let y=JSON.stringify(U)||"",z=(0,S.w)(),C={...o,user_behavior_data:JSON.stringify({}),visited_pages:y},E=(0,m.A)({isComplianceFeatureRequired:M,viewType:10});return(E.length>0&&(C={...C,privacy_disclaimer_acknowledge:E}),z&&(C={...C,referrer:z}),(0,L.GV)("webapp.debug_signup_type.redux_registration",{sampleRate:1,tags:{CHECK_TYPE:(0,f.$O)(C,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,f.$O)(C,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,f.$O)(C,"DEPRECATED_CHECK_TRUTHY")}}),"email"===d&&await (0,g.dC)({fingerprintData:C.fingerprintData,source:p.D1.SIGNUP,logContextEvent:O}))?r({isArkoseChallengeRequired:!0}):(C=(0,g.Xw)(C),a.A.create("UserRegisterResource",{...C,get_user:!0}).callCreate().then(i=>k.then(()=>{let a=i.client_context;t({type:"REGISTER_USER",payload:{user:i.resource_response.data.user}});let r=i.resource_response.data.user.gatekeeper_experiments;if(r){let{active:t,triggerable:n}=r;t&&n||(0,L.GV)("webapp.registration.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,L.GV)("webapp.registration.updateExperimentsFailed");a&&a.placed_experiences&&t((0,_.vv)(a.placed_experiences)),$&&(0,P.A)("registration.signup_success");let{email:c,username:u,password:p}=o,g=c||u||null,h=p||null,{credentials:m}=navigator;if(m&&g&&h)try{let e=new window.PasswordCredential({id:g,password:h});(0,j.PM)("unauth_mweb.navigatorCredentials.store.attempt"),m.store(e).then(()=>{(0,j.PM)("unauth_mweb.navigatorCredentials.store.success")})}catch(e){(0,j.PM)("unauth_mweb.navigatorCredentials.store.error")}w(7487),D({action:"signup",event:"success",type:d}),(0,s.A)(),G({isRegister:!0}),$&&(0,v.A)(),(0,x.A)({country:n,countryFromHostName:T,countryFromIp:I,regionFromIp:R,deviceType:"Mobile",eventCategory:"NewUsers"}),l()})).catch(e=>{let t=(0,u.A)(e,"api_error_code");t===b.AT&&((0,j.PM)("multi_step_set_age_restrict_cookie"),c.hZ(i.W$,"1",(0,c.N_)(i.W$))),A<3&&[b.AY,b.L$].includes(t??0)?(A+=1,h()):(w(7488),D({action:"signup",event:"fail",type:d}),$&&(0,P.A)("registration.signup_error"),r(e))}))};h()})}}},348079(e,t,n){n.d(t,{A:()=>c});var o=n(61163),i=n(859471),a=n(19821),l=n(79906),s=n(538329),r=n(562615);function c({type:e,onDismiss:t}){(0,i.useEffect)(()=>{(0,o.A)("SocialAuthDisabledModal","/app/www/settings/duplo/SocialAuthDisabledModal.tsx")},[]);let n=(0,s.A)(),c="facebook"===e?n.bt("Facebook isn't available", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):n.bt("Google isn't available", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),d="facebook"===e?n.bt("It looks as though Facebook isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):n.bt("It looks as though Google isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,r.jsx)(l.Ay,{accessibilityModalLabel:"",isOpen:!0,mobileHideCloseIcon:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,r.jsxs)(a.az,{padding:5,children:[(0,r.jsx)(a.az,{marginBottom:3,children:(0,r.jsx)(a._Y,{accessibilityLevel:1,size:"600",children:c})}),(0,r.jsx)(a.az,{marginBottom:3,children:(0,r.jsx)(a.KJ,{children:d})}),(0,r.jsx)(a.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,r.jsx)(a.az,{paddingY:1,children:(0,r.jsx)(a.$n,{accessibilityLabel:n.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true),color:"primary",onClick:t,size:"lg",text:n.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true)})})})]})})}},991289(e,t,n){n.d(t,{A:()=>er});var o=n(61163),i=n(859471),a=n(106386),l=n(979638),s=n(19821),r=n(401691),c=n(922442),d=n(743372),u=n(456251),_=n(143539),p=n(457315),g=n(567176),h=n(693154),m=n(538329),b=n(542975),f=n(537536),w=n(173832),A=n(641467),x=n(261943),y=n(86767),v=n(601185),z=n(205392),j=n(844255),k=n(575851),C=n(484409),P=n(752159),S=n(67765),E=n(811154),L=n(706466),T=n(971289),I=n(999813),R=n(706114),$=n(871292),B=n(79898),O=n(998556),D=n(427276),M=n(36217),G=n(562615);let U="id_token=";function F({container:e}){(0,i.useEffect)(()=>{(0,o.A)("AppleConnectButton","/app/www/login/duplo/AppleConnectButton.tsx")},[]);let t=(0,m.A)(),n=(0,l.zy)(),a=(0,M.v)(),r=(0,l.Zp)(),{showToast:c}=(0,L.CG)(),[d,u]=(0,i.useState)(!1),_=(0,S.A)(),p=n.hash.indexOf(U),h=p>=0?n.hash.substring(p+U.length):null,b=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let o=async o=>{(0,P.PM)("in_app_oauth.login.siwa.returned_with_token"),u(!0),a({apple_token:o},r,n.pathname,{noImmediateRedirect:!0,component:"AppleConnectButton",container:e},{event_type:7534,view_type:10}).then(()=>{u(!1),(0,P.PM)("in_app_oauth.login.siwa.login_success");let e=(0,O.y1)().getItem(R.ZH);(0,O.y1)().removeItem(R.ZH),(0,$.A)(e||"/")}).catch(()=>{u(!1),(0,P.PM)("in_app_oauth.login.siwa.login_failure"),c(({hideToast:e})=>(0,G.jsx)(g.A,{onHide:e,text:t.bt("Sorry. You do not have an account connected with Apple. Please try another method.", "Oops! You do not have an account connected with Apple. Please try another method.", "mweb.unauth.oauth_apple_login.login_failure_toast", undefined, true),type:"error"}))})};b.current!==h&&h&&o(h),b.current=h},[r,t,h,n,a,c,e]),d?(0,G.jsx)(s.y$,{accessibilityLabel:t.bt("Loading...", "Loading...", "Loading", undefined, true),show:!0}):(0,G.jsx)(s.Rp,{onTap:()=>{_({action:"click",item:"apple-connect-button"});let e=n.state?.next||(0,D.A)(n),t=e?decodeURIComponent(e):null;(0,O.y1)().setItem(R.ZH,t),(0,$.A)(`https://appleid.apple.com/auth/authorize?client_id=com.pinterest.signinwithapple&redirect_uri=${encodeURIComponent(window.location.origin.toString()+"/oauth/login")}&response_type=${encodeURIComponent("code id_token")}&response_mode=fragment`)},children:(0,G.jsxs)(s.az,{alignItems:"center",color:"washDark",display:"flex",height:40,paddingX:2,paddingY:1,rounding:"pill",width:"100%",children:[(0,G.jsx)(s.az,{marginStart:-3,marginTop:-2,children:B.A}),(0,G.jsx)(s.az,{marginEnd:"auto",marginStart:"auto",children:(0,G.jsx)(s.KJ,{color:"light",weight:"bold",children:t.bt("Continue with Apple", "Continue with Apple", "mweb.unauth.oauth_apple_login.login_button", undefined, true)})})]})})}var W=n(155729);function N(e){(0,i.useEffect)(()=>{(0,o.A)("LineConnectButton","/app/www/login/duplo/LineConnectButton.tsx")},[]);let t=(0,m.A)(),{locale:n}=(0,j._8)();return(0,G.jsx)(s.Rp,{fullWidth:!0,onTap:()=>{e.onTouch(),(0,W.A)(n,{success:t=>"line_id_token"in t?e.onConnectSuccess(t,{...t,type:"line"}):null,error:e.onConnectError})},children:(0,G.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#00C300"}},"data-test-id":"LineConnectContainer",height:40,paddingX:3,rounding:"pill",children:(0,G.jsxs)(s.so,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,G.jsx)(s.az,{height:32,width:32,children:(0,G.jsx)(s._V,{alt:t.bt("line", "line", "accessible label for line icon", undefined, true),naturalHeight:32,naturalWidth:32,src:"https://s.pinimg.com/webapp/btn_base-c86c43dd.png"})}),(0,G.jsx)(s.KJ,{color:"light",size:"300",weight:"bold",children:t.bt("Continue with LINE", "Continue with LINE", "Login page button", undefined, true)})]})})})}var K=n(760771),H=n(515913),Y=n(416437),J=n(205756),V=n(532726),X=n(30764),q=n(348079);function Z(){(0,i.useEffect)(()=>{(0,o.A)("MobileGoogleConnectButtonWithDisabledSDK","/app/www/login/duplo/MobileGoogleConnectButtonWithDisabledSDK.tsx")},[]);let e=(0,m.A)(),[t,n]=(0,i.useState)();return(0,X.p)()?null:(0,G.jsxs)(s.az,{position:"relative",children:[(0,G.jsx)(s.Rp,{onTap:()=>n(!0),children:(0,G.jsxs)(s.az,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",position:"relative",rounding:"pill",children:[(0,G.jsx)(s.az,{height:24,marginTop:1,width:24,children:(0,G.jsx)(V.A,{size:20})}),(0,G.jsx)(s.az,{marginStart:2,children:(0,G.jsx)(s.KJ,{weight:"bold",children:e.bt("Connect with Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)})})]})}),t&&(0,G.jsx)(q.A,{onDismiss:()=>n(!1),type:"google"})]})}function Q({onGoogleConnectSuccess:e,onTouch:t}){let{locale:n}=(0,j._8)(),o=(0,i.useRef)(null),a=(0,J.Y)(),l=(0,i.useRef)(e),r=(0,S.A)();return(0,i.useEffect)(()=>{l.current=e},[e]),(0,i.useEffect)(()=>{let e=({credential:e,select_by:t})=>{(0,P.PM)(`unauth_mweb.gsi_button.select_by.${t}`),(0,P.uq)("press_google_connect_button");let n=(0,H.A)(e);l.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:n.given_name,last_name:n.family_name,image_url:n.picture})};return(async()=>{await a?.ensureInit("button",e),(0,Y.wq)({buttonRef:o,isDesktop:!1,locale:n,onTouch:t})})(),()=>{a?.removeButtonCallback(e)}},[a,n]),(0,G.jsx)(s.az,{position:"relative",children:(0,G.jsx)(s.Rp,{onTap:()=>{r({action:"click",item:"google-connect-button"}),(0,P.XB)({event:"start",provider:"google"})},children:(0,G.jsx)(s.az,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,G.jsx)(s.az,{ref:o,width:"100%"})})})})}function ee({onGoogleConnectSuccess:e,onTouch:t}){(0,i.useEffect)(()=>{(0,o.A)("MobileGoogleConnectButton","/app/www/login/duplo/MobileGoogleConnectButton.tsx")},[]);let{checkExperiment:n}=(0,v.A)(),{anyEnabled:a}=n("mweb_google_disabled");return a?(0,G.jsx)(Z,{}):(0,G.jsx)(Q,{onGoogleConnectSuccess:e,onTouch:t})}function et({onTap:e}){(0,i.useEffect)(()=>{(0,o.A)("PhoneNumberButton","/app/www/login/duplo/PhoneNumberButton.tsx")},[]);let t=(0,m.A)(),{trackConversionUpsell:n}=(0,E.A)();return(0,G.jsx)(s.Rp,{accessibilityHaspopup:!0,accessibilityLabel:"Phone number authentication button",onTap:()=>{n({eventType:14689,element:161}),(0,P.PM)("mweb.phone_number_authentication.click"),e()},children:(0,G.jsxs)(s.az,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",color:"default",display:"flex",height:36,marginBottom:2,padding:4,position:"relative",rounding:300,width:"100%",children:[(0,G.jsx)(s.In,{accessibilityLabel:"Phone",color:"default",icon:"phone",inline:!0,size:"18"}),(0,G.jsx)(s.az,{marginEnd:"auto",marginStart:"auto",children:(0,G.jsx)(s.KJ,{align:"center",size:"200",weight:"bold",children:t.bt("Use phone number", "Use phone number", "unauth.mobileWeb.loginPage.phoneNumberButton", undefined, true)})})]})})}var en=n(553027),eo=n(300187),ei=n(654657),ea=n(629172),el=n(831184),es=n(215731);function er({apple:e,container:t,fbConnectHandler:n,footer:R,from:$,google:B,phoneNumber:O,isBusiness:D,line:U,next:W="/",noImmediateRedirect:H,onLoginTouch:Y,onSignupTouch:J,showAppInstallButton:V,showEmailButton:X,showTextDivider:q,viewParameter:Z,app_upsell_type:Q,attributionLabel:er,disableGoogleSignup:ec,redirectEmailButtonTouchToLogin:ed,isNavigationUpsellExperiment:eu,buttonSize:e_="lg",openDesktopLoginModal:ep}){(0,i.useEffect)(()=>{(0,o.A)("LoginButtons","/app/www/signup/LoginButtons.tsx")},[]);let eg=(0,l.Zp)(),eh=(0,l.zy)(),{country:em}=(0,j._8)(),eb=(0,m.A)(),{showToast:ef}=(0,L.CG)(),ew=(0,d.A)(),eA=(0,S.A)(),ex=(0,a.wA)(),ey=(0,M.v)(),ev=(0,es.p)(),{checkExperiment:ez,flush:ej}=(0,v.A)(),ek=(0,eo.L)(),eC=(0,c.A)(),{isAuth:eP,isLimitedLogin:eS}=(0,h.A)(),[eE,eL]=(0,i.useState)(null),[eT,eI]=(0,i.useState)(!1),[eR,e$]=(0,i.useState)("default"),{trackConversionUpsell:eB}=(0,E.A)(),eO=(0,k.A)(),eD=(0,T.qJ)(),eM=(0,_.C)(),eG="facebook"===eR&&5e3||"google"===eR&&4e3||void 0,eU=C.Ay.getItem(r.IV),eF=ed&&(er?.includes("navigation")||er?.includes("save")||"floating-conversion-upsell"===er);(0,i.useEffect)(()=>{ev&&((R||ed)&&ev.preload?.((0,el.DS)("login.js")),X&&ev.preload?.((0,el.DS)("signup.js")))},[]),(0,i.useEffect)(()=>{X&&(0,z.Uy)("ContinueWithEmailButtonRendered")},[X]);let eW=eP?{login_state:eS?A.A.LIMITED:A.A.DEFAULT}:Object.freeze({}),eN=e=>{ew({view_type:10,view_parameter:Z,element:e,event_type:102,aux_data:eW})},eK=e=>{eB({viewType:10,viewParameter:Z,eventType:14689,element:e})},eH=(e,t)=>{let n,o;switch(t){case"facebook":n=3205,o=y.A.FACEBOOK;break;case"google":n=3204,o=y.A.GPLUS;break;case"line":n=3556,o=y.A.LINE}return{event_type:e,view_type:10,view_parameter:n,element:o===y.A.GPLUS?12981:void 0,aux_data:{...eW,signup_login_method:o,upsell_reason:er}}},eY=e=>(o,i)=>{let a="google"===e?"gsi_btn":"other",l=eh.state,s={trigger:a,container:t,component:"LoginButtons"},r=l?.switch_account==="true"?{...s,isSwitchAccount:!0}:{...s,noImmediateRedirect:H};"facebook"===e&&(n?.("success"),(0,P.XB)({event:"receive_credential_response_from_provider",provider:e})),(0,P.uq)(e+"_login_success"),ey(o,eg,W,r,eH(7534,e)).catch(t=>{((e,t,n,o)=>{eL(null);let i=()=>ef(({hideToast:e})=>(0,G.jsx)(g.A,{onHide:e,text:(0,p.A)(t,"api_error_code")&&(0,p.A)(t,"message")||eb.bt("Sorry, we can't log you in.", "Sorry, we can't log you in.", "Error message when user having trouble login in.", undefined, true)}));if(t){if((0,P.PM)(`unauth_mweb.login_error.api_error_code.${String((0,p.A)(t,"api_error_code"))}`),[w.lk,w.Fu,w.dl].includes((0,p.A)(t,"api_error_code")??-1)){if(ec&&"google"===n.type){(0,P.PM)("unauth_mweb.account_recovery.google_account_already_not_linked"),ef(({hideToast:e})=>(0,G.jsx)(g.A,{onHide:e,text:eb.bt("This Google account is not linked to Pinterest. Try another one", "This Google account is not linked to Pinterest. Try another one", "account_recovery.error.google_account_not_linked", undefined, true),type:"error"}));return}(0,P.mY)({event:"start",provider:o}),(()=>{(0,P.PM)("unauth_mweb.facebook_signup_attempt"),n.gender||(0,P.PM)("unauth_mweb.facebook_signup_attempt.nogender");let{birthday:e}=n;if(void 0===e||!(0,u.A)(e)){ej(),eg("/signup/thirdpartyage/",{state:{signupOptions:"facebook"===n.type?{...n,email_source_site:x.IL.FACEBOOK}:n,progressBarAnimationDuration:eG,attributionLabel:er}});return}eL("signup"),e$(o);let t="facebook"===n.type?{...n,email_source_site:x.IL.FACEBOOK,birthday_source_site:x.IL.FACEBOOK,birthday:e}:{...n,birthday:e};(0,P.mY)({event:"signup_api_call_start",provider:o}),ek(t,{signupAttemptContextEvent:eH(7537,o)}).then(()=>{(0,P.uq)("signup_via_login_buttons"),(0,P.mY)({event:"signup_api_call_success",provider:o}),["facebook","google"].includes(o)&&eC(W||"/"),eL(null)},e=>{(0,P.mY)({event:"signup_api_call_failure",provider:o});let t=(0,p.A)(e,"api_error_code");"line"===n.type&&(t===w.gE?eg("/signup/line-email-collect/",{state:{signupOptions:n,attributionLabel:er}}):t===w.YP&&eg("/signup/thirdpartyage/",{state:{signupOptions:n,attributionLabel:er}})),ef(({hideToast:n})=>(0,G.jsx)(g.A,{onHide:n,text:t&&(0,p.A)(e,"message")||eb.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "Error logging on", undefined, true)})),eL(null)})})()}else w.oI.includes((0,p.A)(t,"api_error_code")??0)&&eI(!0);i()}else(0,P.PM)("unauth_mweb.login.unexpected_error"),i()})(0,t,i,e)}),eL("login"),e$(e)},eJ=({event:e})=>{e.stopPropagation(),e.preventDefault(),Y?.(),$&&ex((0,ei.sd)($)),eA({action:"click",item:"login-button"}),eN(30),(0,P.PM)(`unauth_mweb.login_buttons.footer.${R?.type||"button"}`),(0,P.uq)("press_login"),eB({eventType:14689,element:30,viewType:10,viewParameter:Z}),eB({eventType:14688,component:14213,upsellReason:er,incrementUpsellReasonCounter:!1});let t=(0,f.Tp)(eh);eg(`${D?"/business/login/":"/login/"}${t}`,{state:{next:W,attributionLabel:er}})};return(0,G.jsxs)(s.az,{"data-test-id":"LoginButtonsContainer",marginEnd:"auto",marginStart:"auto",marginTop:D?-5:0,maxWidth:ec?502:400,children:[eT&&(0,G.jsx)(K.A,{onDismiss:()=>eI(!1)}),q&&(0,G.jsx)(s.az,{marginBottom:3,marginTop:3,children:(0,G.jsx)(s.KJ,{align:"center",size:"100",weight:"bold",children:eb.bt("Or", "OR", "Separator for email login button and social login button", undefined, true)})}),(0,G.jsx)(s.az,{marginBottom:R?.type==="member_link"&&R.hideMemberLink?2:6,children:(0,G.jsxs)(i.Fragment,{children:[V&&(0,G.jsx)(ea.A,{app_upsell_type:Q}),X&&!eU&&(0,G.jsx)(s.az,{"data-test-id":"continue-email-button",marginBottom:D?-2:2,children:(0,G.jsx)(s.$n,{color:V?"secondary":"primary",fullWidth:!0,onClick:({event:e})=>{if(e&&(e.stopPropagation(),e.preventDefault()),(0,P.uq)("press_email_signup"),(0,P.mY)({event:"start",provider:"email"}),eA({action:"click",item:"email-signup-button"}),J?.(),$&&ex((0,ei.sd)($)),eK(13506),eN(31),eB({eventType:14688,component:14215,upsellReason:er,incrementUpsellReasonCounter:!1}),ep&&eM)return void eM.showDesktopSignupModal({attributionLabel:er??"login_buttons_email",source:"login",container:t,reason:"CLICK_LOGIN_OR_SIGNUP",signupFlow:{type:"login"}});let n=(0,f.Tp)(eh);eg(`${D?"/business/signup/step1/":ed?"/login/":"/signup/step1/"}${n}`,{state:{next:W,attributionLabel:er}})},size:e_,text:D?eb.bt("Create account", "Create account", "Button text for creating a business account", undefined, true):eb.bt("Continue with email", "Continue with email", "Sign up button", undefined, true)})}),O&&ez("mweb_unauth_phone_number_authentication_v0").anyEnabled&&(0,G.jsx)(et,{onTap:()=>{eg("/signup/step1/",{state:{next:W,attributionLabel:er,isFromPhoneNumberButton:!0}})}}),B&&!eU&&(0,G.jsx)(s.az,{"data-test-id":"google-connect-button",marginBottom:2,children:(0,G.jsx)(ee,{onGoogleConnectSuccess:eY("google"),onTouch:()=>{eK(13504),ec&&ew({event_type:15392,component:15214,element:13504})}})}),U&&"JP"===em&&!eU&&(0,G.jsx)(s.az,{"data-test-id":"line-connect-button",marginBottom:2,children:(0,G.jsx)(N,{onConnectError:()=>ef(({hideToast:e})=>(0,G.jsx)(g.A,{onHide:e,text:eb.bt("Unable to connect to LINE", "Unable to connect to Line", "Error logging on with Line", undefined, true)})),onConnectSuccess:eY("line"),onTouch:()=>{eK(13507),eN(12277),eA({action:"click",item:"line-connect-button"})}})}),e&&(0,G.jsx)(s.az,{"data-test-id":"apple-connect-button",marginBottom:2,children:(0,G.jsx)(F,{})})]})}),R?.type==="signup_link"&&!eU&&(0,G.jsx)(s.az,{"data-test-id":"signup-member",marginTop:-6,children:(0,G.jsx)(s.Rp,{onTap:({event:e})=>{if(e.stopPropagation(),e.preventDefault(),J?.(),$&&ex((0,ei.sd)($)),eA({action:"click",item:"signup-link"}),eN(31),eB({eventType:14689,element:31,viewType:10,viewParameter:Z}),eD)eO({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:er??"login_buttons_signup_link",desktopOptions:{modalType:"signup"}});else{let e=(0,f.Tp)(eh);eg(`/signup/step1/${e}`,{state:{next:W,attributionLabel:er}})}},tapStyle:"none",children:(0,G.jsx)(s.az,{paddingY:4,children:(0,G.jsx)(s.KJ,{align:"center",size:"200",children:(0,b.$w)({text:eb.bt("New to Pinterest? <a id=\"signupLink\">Join for free</a>", "New to Pinterest? <a id=\"signupLink\">Join for free</a>", "unauth.login_gradient_upsell.signup_prompt", undefined, true),jsxReplacements:{signupLink:({innerHtmlStrings:e})=>(0,G.jsx)(s.Wu,{color:"link",inline:!0,size:"200",children:e},"signup-link")}})})})})}),R&&!eU&&"signup_link"!==R.type&&("member_link"===R.type?!eF&&!R.hideMemberLink&&(0,G.jsx)(s.az,{"data-test-id":"login-member",marginTop:R.isUnauthHomepageOnMobile?10:-4,children:(0,G.jsx)(s.Rp,{onTap:({event:e})=>eJ({event:e}),tapStyle:"none",children:(0,G.jsx)(s.az,{marginBottom:R.increasedSpaceBelow?-1:-2,paddingY:4*!R.noPadding,children:(0,G.jsx)(s.KJ,{align:"center",color:R.textColorIsLight?"light":"default",size:"200",children:(0,G.jsxs)(i.Fragment,{children:[(0,G.jsxs)(s.KJ,{color:R.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"normal",children:[eb.bt("Already a member?", "Already a member?", "Prompt for logging in", undefined, true)," "]}),R.loginTextUnderline?(0,G.jsx)("span",{style:{textDecoration:"underline"},children:(0,G.jsx)(s.KJ,{color:R.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"normal",children:eb.bt("Log in", "Log in", "login.link.text", undefined, true)})}):(0,G.jsx)(s.KJ,{color:R.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"bold",children:eb.bt("Log in", "Log in", "login.link.text", undefined, true)})]})})})})}):(0,G.jsx)(s.az,{"data-test-id":"login-button",marginBottom:5,children:(0,G.jsx)(s.$n,{color:"transparent",fullWidth:!0,onClick:eJ,text:eb.bt("Log in", "Log in", "Login page button", undefined, true)})})),eE&&("signup"===eE?(0,G.jsx)(en.A,{progressBarAnimationDuration:eG}):(0,G.jsx)(I.A,{}))]})}},629172(e,t,n){n.d(t,{A:()=>m});var o=n(61163),i=n(859471),a=n(979638),l=n(19821),s=n(401691),r=n(538329),c=n(675201),d=n(844255),u=n(484409),_=n(67765),p=n(811154),g=n(654557),h=n(562615);function m({app_upsell_type:e}){(0,i.useEffect)(()=>{(0,o.A)("MobileSignupModalAppInstallButton","/app/www/signup/MobileSignupModalAppInstallButton.tsx")},[]);let t=(0,r.A)(),n=(0,a.zy)(),{userAgent:{platform:m}}=(0,d._8)(),b=(0,_.A)(),{trackConversionUpsell:f}=(0,p.A)(),{pathname:w}=n,A=u.Ay.getItem(s.IV);return(0,h.jsx)(l.az,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,h.jsx)(g.A,{app_upsell_type:e??"unauth-signup-modal",componentType:13858,children:({handleOpenApp:o})=>(0,h.jsx)(l.$n,{color:"primary",fullWidth:!0,onClick:()=>{f({element:10308,eventType:14689}),b({action:"click",item:"handle-open-app-button",within:"homepage_top_module"===e?"homepage-top-section":"homepage-bottom-section"}),w&&o({deepLinkUri:"/"===w?"/":(0,c.A)(n)&&("ios"===m||"ipad"===m)?"user"+w:w.substr(1)})},size:"lg",text:A?t.bt("Join Pinterest", "Join Pinterest", "unauth.modal.continue_to_pinterest.button_text", undefined, true):t.bt("Get Pinterest app", "Get Pinterest app", "unauth.modal.get_app.button_text", undefined, true)})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/82428.en_GB-04721ca07b2347e8.mjs.map