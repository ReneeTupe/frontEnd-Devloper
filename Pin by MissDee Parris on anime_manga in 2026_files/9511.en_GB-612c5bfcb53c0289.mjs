(self.modernJsonp=self.modernJsonp||[]).push([["9511"],{127413(e,t,n){n.d(t,{A:()=>o});var a=n(570068);let i=`pulsing {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
}`,o={css:(0,a.m5)([i]),animation:"pulsing 2s infinite"}},119381(e,t,n){n.d(t,{A:()=>h});var a=n(61163),i=n(859471),o=n(19821),r=n(562615);let s={nw_horizontal:"inset(0 0 0 50%)",nw_vertical:"inset(50% 0 0 0)",ne_horizontal:"inset(0 50% 0 0)",ne_vertical:"inset(50% 0 0 0)",sw_horizontal:"inset(0 0 0 50%)",sw_vertical:"inset(0 0 50% 0)",se_horizontal:"inset(0 50% 0 0)",se_vertical:"inset(0 0 50% 0)"};function l({top:e,left:t,bottom:n,right:l,size:u,transition:c,opacity:p}){(0,i.useEffect)(()=>{(0,a.A)("AnchorStrokeCap","/app/packages/Cropper/AnchorStrokeCap.tsx")},[]);let d=(0,i.useMemo)(()=>{let a,i,o,r,s=(a=void 0!==e,i=void 0!==n,o=void 0!==t,r=void 0!==l,a&&o&&!i&&!r?"nw":a&&r&&!i&&!o?"ne":i&&o&&!a&&!r?"sw":i&&r&&!a&&!o?"se":"none"),u=0===e||0===n?"horizontal":0===t||0===l?"vertical":"none";return`${s}_${u}`},[e,t,n,l]),h=s[d]||"none";return(0,r.jsx)(o.az,{color:"default",dangerouslySetInlineStyle:{__style:{top:e,left:t,right:l,bottom:n,clipPath:h,transition:c,opacity:p}},"data-test-id":d,height:u,position:"absolute",rounding:"circle",width:u})}var u=n(733577);function c({anchorSize:e,corner:t,maxTouchSize:n}){(0,i.useEffect)(()=>{(0,a.A)("AnchorTouchArea","/app/packages/Cropper/AnchorTouchArea.tsx")},[]);let s=u.sU[t],l=`anchor ${t}`,c=Math.min(40,n),p=(c-e)/2,d=t.includes("n")?-p:void 0,h=t.includes("w")?-p:void 0,m=t.includes("s")?-p:void 0,y=t.includes("e")?-p:void 0;return(0,r.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{top:d,left:h,bottom:m,right:y,cursor:s,pointerEvents:"auto"}},"data-test-id":`cropper-corner-${t}`,height:c,id:l,position:"absolute",width:c})}var p=n(782534);let d=({x:e,y:t,size:n})=>`linear-gradient(black, black) ${e}px ${t}px / ${n}px ${n}px no-repeat`;function h({anchorSelection:e,h:t,handleCount:n,size:s,transition:u,visibility:h,w:m,x:y,y:x}){(0,i.useEffect)(()=>{(0,a.A)("CropperAnchors","/app/packages/Cropper/CropperAnchors.tsx")},[]);let g=2===n,f=g?.75:1,b=s/2,v=6-!g-3+(0,p.A)({w:m,h:t,minSize:3,maxSize:0}),_=m+2*b-2*v,w=t+2*b-2*v,M=Math.max(16-(20-s),10),S=s-2,A=S-2,z=(Math.min(_,w)-8)/2,$="ne"===e?1:f,k=d({x:_-S,y:0,size:S}),j="nw"===e?1:f,C=d({x:0,y:0,size:S}),R="sw"===e?1:f,I=d({x:0,y:w-S,size:S}),E="se"===e?1:f,W=d({x:_-S,y:w-S,size:S});return(0,r.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{top:x-b+v,left:y-b+v,pointerEvents:"none",visibility:h,transition:u}},height:w,position:"absolute",width:_,children:[(0,r.jsx)(o.az,{color:"transparent",dangerouslySetInlineStyle:{__style:{border:"4px solid white",borderRadius:`${M}px`,mask:k,pointerEvents:"none",transition:u,opacity:$}},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,r.jsx)(l,{opacity:$,right:0,size:4,top:A,transition:u}),(0,r.jsx)(l,{opacity:$,right:A,size:4,top:0,transition:u}),(0,r.jsx)(c,{anchorSize:s,corner:"ne",maxTouchSize:z}),(0,r.jsx)(o.az,{color:"transparent",dangerouslySetInlineStyle:{__style:{border:"4px solid white",borderRadius:`${M}px`,mask:I,pointerEvents:"none",transition:u,opacity:R}},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,r.jsx)(l,{bottom:0,left:A,opacity:R,size:4,transition:u}),(0,r.jsx)(l,{bottom:A,left:0,opacity:R,size:4,transition:u}),(0,r.jsx)(c,{anchorSize:s,corner:"sw",maxTouchSize:z}),!g&&(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(o.az,{color:"transparent",dangerouslySetInlineStyle:{__style:{border:"4px solid white",borderRadius:`${M}px`,mask:C,pointerEvents:"none",transition:u,opacity:j}},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,r.jsx)(l,{left:0,opacity:j,size:4,top:A,transition:u}),(0,r.jsx)(l,{left:A,opacity:j,size:4,top:0,transition:u}),(0,r.jsx)(c,{anchorSize:s,corner:"nw",maxTouchSize:z}),(0,r.jsx)(o.az,{color:"transparent",dangerouslySetInlineStyle:{__style:{border:"4px solid white",borderRadius:`${M}px`,mask:W,pointerEvents:"none",transition:u,opacity:E}},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,r.jsx)(l,{bottom:0,opacity:E,right:A,size:4,transition:u}),(0,r.jsx)(l,{bottom:A,opacity:E,right:0,size:4,transition:u}),(0,r.jsx)(c,{anchorSize:s,corner:"se",maxTouchSize:z})]})]})}},788284(e,t,n){n.d(t,{A:()=>g});var a=n(61163),i=n(859471),o=n(19821),r=n(743372),s=n(733577),l=n(119381),u=n(526131),c=n(470451),p=n(789106),d=n(782534),h=n(33658),m=n(156128),y=n(931509),x=n(562615);function g({children:e,cropArea:{x:t,y:n,w:g,h:f},cropSource:b,handleCount:v=2,hoveredCutoutIndex:_,imageContainerX:w,imageContainerY:M,imageSize:{width:S=1,height:A=1},objectDetection:z,onChange:$,pinId:k,setHoveredCutoutIndex:j,setSelectedCutoutIndex:C,viewParameter:R,viewType:I}){(0,i.useEffect)(()=>{(0,a.A)("CropperV2","/app/packages/Cropper/CropperV2.tsx")},[]);let E=(0,r.A)(),W=(0,i.useRef)(null),O=(0,i.useMemo)(()=>({x:0,y:0,w:S,h:A}),[A,S]),F=(0,i.useMemo)(()=>(0,c.A)({cropArea:{x:t,y:n,w:g,h:f},imageSize:{width:S,height:A}}),[f,g,t,n,A,S]),[T,P]=(0,i.useState)(()=>(0,h.Ay)({x:t,y:n,w:g,h:f},O)?O:F),L=(0,i.useMemo)(()=>(0,h.Ay)(T,O),[T,O]),[B,V]=(0,i.useState)("none"),[D,U]=(0,i.useState)("none"),[N,G]=(0,i.useState)(!1),[H,J]=(0,i.useState)(!1),[q,X]=(0,i.useState)(!1),[Y,K]=(0,i.useState)(0),[Z,Q]=(0,i.useState)(0),{x:ee,y:et,w:en,h:ea}=T,ei=(0,i.useMemo)(()=>(0,d.A)({w:en,h:ea,minSize:14,maxSize:20}),[ea,en]),eo=S-16,er=A-16,es="number"==typeof _,el=H?"none":"0.3s cubic-bezier(0.42, 0, 0.58, 1.2)",eu=(0,u.A)({cropperSelection:B,anchorSelection:D,hasMouseMoved:H}),ec=function({cropperSelection:e,cropSource:t,hasClickedOnObject:n,isTargetOnObject:a}){return("none"===e||a)&&(9===t||n)?.2:0}({cropperSelection:B,isTargetOnObject:N,cropSource:b,hasClickedOnObject:q}),ep=e=>{e.preventDefault();let{clientX:t,clientY:n,target:a}=e,i=t-w,o=n-M;J(!1),X(!1),K(i),Q(o);let{id:r}=a,[s,l="none"]=r.split(" "),u="anchor"==`${s}`,c=r===m.z,p=r===y.J4;u?(V("anchor"),U(l)):(!(ee<i&&i<ee+en&&et<o&&o<et+ea)||L?V("background"):V("cropbox"),G(c||p))},ed=e=>{if("none"===B)return;let{clientX:t,clientY:n}=e,a=t-w,i=n-M;if(!(2>Math.abs(a-Y)&&2>Math.abs(i-Z)&&!H&&["cropbox","background"].includes(B)))switch(J(!0),G(!1),j?.(null),C?.(-1),B){case"anchor":{let e=["nw","sw"].includes(D),t=["nw","ne"].includes(D),n=Math.max(Math.min(a,eo),16),o=Math.max(Math.min(i,er),16);P({x:e?Math.min(n,ee+en-20):ee,y:t?Math.min(o,et+ea-20):et,w:e?Math.max(ee+en-n,20):Math.max(n-ee,20),h:t?Math.max(et+ea-o,20):Math.max(o-et,20)});break}case"cropbox":{let e=Math.max(Math.min(ee+(a-Y),S-en-16),16),t=Math.max(Math.min(et+(i-Z),A-ea-16),16);K(a),Q(i),P({x:e,y:t,w:en,h:ea});break}case"background":{let e=Math.max(Math.min(a,S),0),t=Math.max(Math.min(i,A),0),n=e-Y,o=t-Z;P({x:Math.min(Y,e),y:Math.min(Z,t),w:Math.abs(n),h:Math.abs(o)})}}},eh=()=>{if(V("none"),U("none"),G(!1),J(!1),"none"===B)return;if(N&&("cutouts"===z&&es||"dots"===z))return void X(!0);let e=(e,t)=>{$({cropArea:e,cropSource:t}),P(e)};if(H){let t=Math.max(Math.min(ee,S-20-16),16),n=Math.max(Math.min(et,A-20-16),16),a=ea<20?20:n+ea>A-16?A-n-16:ea,i=en<20?20:t+en>S-16?S-t-16:en;e({x:t,y:n,w:i,h:a},6),"cropbox"===B?E({event_type:7603,view_type:I,view_parameter:R,...k&&{object_id_str:k}}):"anchor"===B?E({event_type:7604,view_type:I,view_parameter:R,...k&&{object_id_str:k}}):"background"===B&&E({event_type:16584,view_type:I,view_parameter:R,...k&&{object_id_str:k}})}else L||"background"===B?(e((0,p.A)({mouseX:Y,mouseY:Z,cropSize:120,minBound:16,imageWidth:S,imageHeight:A}),6),E({event_type:16585,view_type:I,view_parameter:R,...k&&{object_id_str:k}})):"cropbox"===B&&(e(O,5),E({event_type:16586,view_type:I,view_parameter:R,...k&&{object_id_str:k}}))};return(0,i.useEffect)(()=>{q&&P(F)},[F,q]),(0,i.useEffect)(()=>{let e=W.current;return e?.addEventListener("mousedown",ep),window.addEventListener("mousemove",ed),window.addEventListener("mouseup",eh),()=>{e?.removeEventListener("mousedown",ep),window.removeEventListener("mousemove",ed),window.removeEventListener("mouseup",eh)}}),(0,x.jsxs)(o.az,{ref:W,bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:eu}},"data-test-id":"visual-search-cropper",left:!0,position:"absolute",right:!0,top:!0,children:[(0,x.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{border:"0px solid rgba(255, 255, 255, 0.20)",borderRadius:`${10-ei}px`,boxShadow:"0 0 0 99999px rgba(0, 0, 0, 0.35)",left:ee,top:et,transition:el,backgroundColor:`rgba(0, 0, 0, ${ec})`}},height:ea,position:"absolute",width:en}),(0,x.jsx)(o.az,{bottom:!0,id:s.zu,left:!0,position:"absolute",right:!0,top:!0}),(0,x.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{visibility:L?"hidden":"visible",left:ee,top:et}},"data-test-id":"cropper-section",height:ea,id:s._c,position:"absolute",width:en}),e,(0,x.jsx)(l.A,{anchorSelection:D,h:ea,handleCount:v,size:20-ei,transition:el,visibility:L||"background"===B&&H?"hidden":"visible",w:en,x:ee,y:et})]})}},526131(e,t,n){n.d(t,{A:()=>a});function a({cropperSelection:e,anchorSelection:t,hasMouseMoved:n}){if("background"===e&&n)return"crosshair";if("cropbox"===e&&n)return"move";if("anchor"===e){if("nw"===t||"se"===t)return"nwse-resize";else if("ne"===t||"sw"===t)return"nesw-resize"}return"auto"}},470451(e,t,n){function a({cropArea:e,imageSize:t}){let{x:n,y:a,w:i,h:o}=e,{height:r,width:s}=t;if(!r||!s)return e;let l=n,u=a,c=i,p=o;return l<16&&(l=16,c-=16-n),l+c>s-16&&(c-=l+c-s+16),u<16&&(u=16,p-=16-a),u+p>r-16&&(p-=u+p-r+16),{x:l,y:u,w:c,h:p}}n.d(t,{A:()=>a}),n(733577)},789106(e,t,n){n.d(t,{A:()=>i});let a=({coordinate:e,cropSize:t,maxBound:n,minBound:a})=>e<=a?a:n<=e+t?n-t:e;function i({cropSize:e,imageHeight:t,imageWidth:n,minBound:i,mouseX:o,mouseY:r}){let s=o-e/2,l=r-e/2,u=n-i,c=t-i;return{x:a({coordinate:s,minBound:i,maxBound:u,cropSize:e}),y:a({coordinate:l,minBound:i,maxBound:c,cropSize:e}),w:e,h:e}}},782534(e,t,n){function a({w:e,h:t,minSize:n,maxSize:a}){let i=Math.min(e,t);return i<=20?a-n:i<32?(a-n)/12*(32-i):0}n.d(t,{A:()=>a}),n(733577)},156128(e,t,n){n.d(t,{A:()=>p,z:()=>l});var a=n(61163),i=n(859471),o=n(19821),r=n(538329),s=n(562615);let l="flashlight-dot-style",u=16,c=32,p=({icon:e,onClick:t,onMouseDown:n,onMouseEnter:p,onMouseLeave:d,onMouseUp:h,selected:m,style:y,text:x,x:g,y:f,zIndex:b,backdropDiameter:v=c,dotDiameter:_=u,containerRef:w})=>{(0,i.useEffect)(()=>{(0,a.A)("Dot","/app/packages/Flashlight/Dot.tsx")},[]);let[M,S]=(0,i.useState)(!1),A=(0,r.A)(),z=M?v+4:v;return(0,s.jsx)(o.az,{ref:w,dangerouslySetInlineStyle:{__style:{top:f-z/2,left:g-z/2,outline:"none"}},position:"absolute",zIndex:new o.rk(b||0),children:(0,s.jsx)(o.Rp,{accessibilityLabel:A.bt("Search for this item", "Search this item", "flashlight.dot.a11ylabel", undefined, true),dataTestId:"flashlight-dot",onMouseDown:n,onMouseEnter:({event:e})=>{S(!0),p?.({event:e})},onMouseLeave:({event:e})=>{S(!1),d?.({event:e})},onMouseUp:h,onTap:t,tabIndex:0,children:(0,s.jsxs)(o.az,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:m?"0 0 0 3px #e60023":"none",borderRadius:_,top:(z-_)/2,left:(z-_)/2,...y}},"data-test-id":l,display:"flex",height:_,id:l,justifyContent:"center",padding:0,position:"absolute",width:_,children:[!!x&&(0,s.jsx)(o.KJ,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:x}),e&&(0,s.jsx)(o.In,{accessibilityLabel:A.bt("Tag anchor", "Tag anchor", "accessibility label for an anchor for an object in a pin", undefined, true),color:"error",icon:e,inline:!0,size:_/2})]})})})}},210909(e,t,n){n.r(t),n.d(t,{default:()=>j});var a=n(61163),i=n(859471),o=n(19821),r=n(182267),s=n(586733),l=n(489630);function u(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c={},p=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class d{constructor(){u(this,"idMap",new Map),u(this,"objMap",new WeakMap)}get(e){let t=p(e);return this.objMap.get(e)??(t?this.idMap.get(t):void 0)}has(e){let t=p(e);return this.objMap.has(e)??(!!t&&this.idMap.has(t))}set(e,t){let n=p(e);n&&this.idMap.set(n,t),this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new WeakMap}}var h=n(909179);function m(e,t){return"number"==typeof e?e:"lg1"===t?e[t]??e.lg??1:e[t]??1}var y=n(411805),x=n(11978),g=n(127413),f=n(131094),b=n(562615);let{css:v,animation:_}=g.A,w={backgroundColor:"var(--sema-color-background-secondary)",animation:_,borderRadius:"var(--sema-rounding-400)"};function M({data:e}){(0,i.useEffect)(()=>{(0,a.A)("SkeletonPin","/app/common/react/components/SkeletonLoadingStates/SkeletonPin.tsx")},[]);let{height:t}=e;return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(f.A,{unsafeCSS:v}),(0,b.jsx)(o.az,{dangerouslySetInlineStyle:{__style:w},"data-test-id":"skeleton-pin",children:(0,b.jsx)(o.az,{height:t})})]})}var S=n(601185),A=n(844255),z=n(971289),$=n(81920),k=n(912849);function j(e){(0,i.useEffect)(()=>{(0,a.A)("Masonry","/app/packages/gestaltExtensions/Masonry/Masonry.tsx")},[]);let{align:t,cacheKey:n,id:u,isFetching:p,isGridCentered:g=!0,items:v,layout:_,loadItems:w,masonryRef:j,optOutFluidGridExperiment:C=!1,renderItem:R,scrollContainerRef:I,virtualize:E=!0,getColumnSpanConfig:W,_getResponsiveModuleConfigForSecondItem:O,isLoadingStateEnabled:F,initialLoadingStatePinCount:T,isLoadingAccessibilityLabel:P,isLoadedAccessibilityLabel:L}=e,B=(0,z.Ay)(),{isAuthenticated:V,isRTL:D,userAgent:U,stage:N}=(0,A._8)(),{browserName:G,platform:H}=U,{logContextEvent:J}=(0,s.o)(),q=(0,S.A)(),X="desktop"===B,Y=(0,k.AJ)(),K=((0,i.useRef)(v.map(()=>({fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}))),X&&!C),{experimentalColumnWidth:Z,experimentalGutter:Q}=(0,y.A)(K),ee=e.serverRender??!!X,et="flexible"===_||"uniformRowFlexible"===_||"desktop"!==B||K,en=(et&&_?.startsWith("uniformRow")?"uniformRowFlexible":void 0)??(ee?"serverRenderedFlexible":"flexible"),ea=e.columnWidth??Z??236;et&&(ea=Math.floor(ea));let ei=e.gutterWidth??Q??(X?16:1),eo=e.minCols??2,er=((0,i.useRef)(0),ea+ei),es=function(e){let t;if(null==e)return;let n=((t=c[e])&&t.screenWidth===window.innerWidth||(c[e]={screenWidth:window.innerWidth}),c[e]);return n.measurementCache||(n.measurementCache=new d),n.measurementCache}(n),el=(0,i.useCallback)(()=>I?.current||window,[I]),eu=(0,i.useRef)(!0),{anyEnabled:ec}=q.checkExperiment("visual_search_stl_eligibility_check_migration_gss_css",{dangerouslySkipActivation:!0}),{group:ep}=q.checkExperiment("web_nav_sidebar",{dangerouslySkipActivation:!0}),ed=ep.startsWith("enabled_autoclose_reduce_debounce")?Number(ep.split("enabled_autoclose_reduce_debounce_")[1]):void 0,eh=g&&eu.current?"centered":"",{className:em,styles:ey}=function(e){let t=`m_${(0,h.A)(e).sort().reduce((t,n)=>{let a=e[n];return null==a||"object"==typeof a||"function"==typeof a?t:"boolean"==typeof a?t+(a?"t":"f"):t+a},"").replace(/\:/g,"\\:")}`,{flexible:n,gutterWidth:a,isRTL:i,itemWidth:o,maxColumns:r,minColumns:s,items:l,getColumnSpanConfig:u,_getResponsiveModuleConfigForSecondItem:c}=e,p=u?l.map((e,t)=>({index:t,columnSpanConfig:u(e)??1})).filter(e=>1!==e.columnSpanConfig):[],d=o+a,y=Array.from({length:r+1-s},(e,t)=>t+s).map(e=>{let h,y,x=e===s?0:e*d,g=e===r?null:(e+1)*d-.01;u&&c&&l.length>1&&(h=u(l[0]),y=c(l[1]));let{styles:f,numberOfVisibleItems:b}=p.reduce((i,r)=>{let{columnSpanConfig:s}=r,u=Math.min(function({columnCount:e,columnSpanConfig:t,firstItemColumnSpanConfig:n,isFlexibleWidthItem:a,secondItemResponsiveModuleConfig:i}){let o=e<=2?"sm":e<=4?"md":e<=6?"lg1":e<=8?"lg":"xl",r=m(t,o);if(a){let t=m(n,o);r="number"==typeof i?i:i?Math.max(i.min,Math.min(i.max,e-t)):1}return r}({columnCount:e,columnSpanConfig:s,isFlexibleWidthItem:!!y&&r===l[1],firstItemColumnSpanConfig:h??1,secondItemResponsiveModuleConfig:y??1}),e),c=null!=r.index&&i.numberOfVisibleItems>=u+r.index,p=n?100/e*u:o*u+a*(u-1),{numberOfVisibleItems:d}=i;return c?d-=u-1:r.index<d&&(d+=1),{styles:i.styles.concat(function({className:e,index:t,columnSpanConfig:n,visible:a,width:i,flexible:o}){let r="number"==typeof n?n:btoa(JSON.stringify(n));return o?`
      .${e} .static[data-column-span="${r}"]:nth-child(${t+1}) {
        visibility: ${a?"visible":"hidden"} !important;
        position: ${a?"inherit":"absolute"} !important;
        width: ${i}% !important;
      }`:`
      .${e} .static[data-column-span="${r}"]:nth-child(${t+1}) {
        visibility: ${a?"visible":"hidden"} !important;
        position: ${a?"inherit":"absolute"} !important;
        width: ${i}px !important;
      }`}({className:t,index:r.index,columnSpanConfig:s,visible:c,width:p,flexible:n})),numberOfVisibleItems:d}},{styles:"",numberOfVisibleItems:e}),v=n?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*d}px;
      }

      .${t} .static {
        width: ${o}px !important;
      }
    `;return{minWidth:x,maxWidth:g,styles:`
      .${t} .static:nth-child(-n+${b}) {
        position: static !important;
        visibility: visible !important;
        float: ${i?"right":"left"};
        display: block;
      }

      .${t} .static {
        padding: 0 ${a/2}px;
      }

      ${v}

      ${f}
    `}}),x=y.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @container (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),g=y.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),f=`
    ${x.join("")}
    @supports not (container-type: inline-size) {
      ${g.join("")}
    }
  `;return{className:t,styles:`
    .masonryContainer:has(.${t}) {
      container-type: inline-size;
    }

    .masonryContainer > .centered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${f}
  `}}({gutterWidth:ei,flexible:et,items:v,isRTL:D,itemWidth:ea,maxColumns:e.maxColumns??Math.max(v.length,16),minColumns:eo,getColumnSpanConfig:W,_getResponsiveModuleConfigForSecondItem:O}),ex=`${eh} ${em}`.trim(),{anyEnabled:eg,expName:ef,group:eb,isMeasureAllEnabled:ev}=(0,x.A)(),e_=((0,i.useRef)(void 0),(0,i.useRef)(v.length)),ew=(0,i.useRef)(0),eM=(0,i.useRef)(null);(0,i.useEffect)(()=>{e_.current=v.length,ew.current+=1},[v]),(0,i.useEffect)(()=>{eu.current&&(eu.current=!1)},[]),(0,i.useEffect)(()=>()=>{},[]);let eS=(0,i.useCallback)(e=>{let t=e.reduce((e,t)=>e+t),n=t/e.length,a={experimentalMasonryGroup:eb||"unknown",handlerId:Y,isAuthenticated:V,multiColumnItemSpan:e.length,browserName:G,platform:H,stage:N||"unknown"};(0,$.GV)("webapp.masonry.multiColumnWhitespace.count",{sampleRate:1,tags:a}),(0,$.uI)("webapp.masonry.multiColumnWhitespace.average",n,{sampleRate:1,tags:{...a,minCols:eo}}),J({event_type:15878,component:14468,aux_data:{total_whitespace_px:t}}),J({event_type:16062,component:14468,aux_data:{average_whitespace_px:n}}),J({event_type:16063,component:14468,aux_data:{max_whitespace_px:Math.max(...e)}}),e.forEach(e=>{e>=50&&((0,$.GV)("webapp.masonry.multiColumnWhitespace.over50",{sampleRate:1,tags:a}),J({event_type:16261,component:14468})),e>=100&&((0,$.GV)("webapp.masonry.multiColumnWhitespace.over100",{sampleRate:1,tags:a}),J({event_type:16262,component:14468}))})},[G,eb,Y,V,J,eo,H,N]),{_items:eA,_renderItem:ez}=function({initialLoadingStatePinCount:e=50,infiniteScrollPinCount:t=10,isFetching:n,items:a=[],renderItem:o,isLoadingStateEnabled:r}){let s=+(a.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&"closeup_module"===e.type).length>0),l=r&&n,u=(0,i.useMemo)(()=>Array.from({length:a.length>s?t:e}).reduce((e,t,n)=>[...e,{height:n%2==0?356:236,key:`skeleton-pin-${n}`,isSkeleton:!0}],[]),[a.length,s,t,e]);return{_items:(0,i.useMemo)(()=>l?[...a,...u]:a,[l,a,u]),_renderItem:(0,i.useMemo)(()=>r?e=>{let{itemIdx:t,data:n}=e;return t>=a.length&&n&&"object"==typeof n&&"key"in n&&"height"in n?(0,b.jsx)(M,{data:n},n.key):o(e)}:o,[r,o,a.length])}}({isLoadingStateEnabled:F,items:v,renderItem:(0,i.useCallback)(e=>(0,b.jsx)(l.A,{name:"MasonryItem",children:R(e)}),[R]),isFetching:p,initialLoadingStatePinCount:T}),e$=F&&p,ek=(0,i.useRef)(new Set);(0,i.useEffect)(()=>{let e={isAuthenticated:V,isDesktop:"desktop"===B,handlerId:Y,experimentalMasonryGroup:eb||"unknown",visualSearchSTLexperiment:ec?"true":"false",browserName:G,platform:H,stage:N||"unknown"},t=setTimeout(()=>{requestAnimationFrame(()=>{let t=Array.from(eM.current?.querySelectorAll("[data-grid-item-idx]")??[]);if(0===t.length)return;let n=t.map(e=>{let t=e.getAttribute("data-grid-item-idx");return{rect:e.getBoundingClientRect(),itemIdx:t}}),a=0,i=0,o=0,r=0,s=0,l=0;for(let e=0;e<n.length;e+=1){let t=n[e]?.rect,u=n[e]?.itemIdx;for(let c=e+1;c<n.length;c+=1){let e=n[c]?.rect,p=n[c]?.itemIdx;if(t&&e&&u&&p){let n=[u,p].sort().join("|");if(!ek.current.has(n)&&t.right>=e.left&&t.left<=e.right&&t.bottom>=e.top&&t.top<=e.bottom&&t.height>0&&e.height>0){ek.current.add(n),a+=1;let u=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top));u>8e4?l+=1:u>4e4?s+=1:u>1e4?r+=1:u>5e3?o+=1:u>2500&&(i+=1)}}}}a>0&&(0,$.U9)("webapp.masonry.pinOverlapHits",a,{tags:e,sampleRate:.02}),i>0&&(0,$.U9)("webapp.masonry.pinOverlap.AreaPx.over2500",i,{tags:e,sampleRate:.02}),o>0&&(0,$.U9)("webapp.masonry.pinOverlap.AreaPx.over5000",o,{tags:e,sampleRate:.02}),r>0&&(0,$.U9)("webapp.masonry.pinOverlap.AreaPx.over10000",r,{tags:e,sampleRate:.02}),s>0&&(0,$.U9)("webapp.masonry.pinOverlap.AreaPx.over40000",s,{tags:e,sampleRate:.02}),l>0&&(0,$.U9)("webapp.masonry.pinOverlap.AreaPx.over80000",l,{tags:e,sampleRate:.02});let u="none";u=n.length<=10?"0-10":n.length<=20?"11-20":">20";let c="none";c=a>0&&a<=5?"1-5":a>5&&a<=20?"6-20":a>20&&a<=100?"21-100":">100",(0,$.GV)("webapp.masonry.pinOverlap.onOverlapCalculation",{tags:{...e,hasAnyOverlap:a>0?"true":"false",hasOverlapAreaOver2500:i>0?"true":"false",hasOverlapAreaOver5000:o>0?"true":"false",hasOverlapAreaOver10000:r>0?"true":"false",hasOverlapAreaOver40000:s>0?"true":"false",hasOverlapAreaOver80000:l>0?"true":"false",itemsMeasured:u,overlapPairs:c},sampleRate:.02})})},1e3);return()=>{clearTimeout(t)}},[G,B,eb,V,Y,H,N,ec]);let ej=(0,r.A)(),eC=(0,i.useCallback)(e=>{j&&(j.current=e)},[j]);return(0,b.jsxs)(i.Fragment,{children:[F&&!eu.current&&(0,b.jsx)(o.az,{"aria-live":"polite",display:"visuallyHidden",children:e$?P:L}),(0,b.jsx)("div",{ref:eM,"aria-busy":F?!!e$:void 0,className:"masonryContainer","data-test-id":"masonry-container",id:u,style:K?{padding:`0 ${ei/2}px`}:void 0,children:(0,b.jsxs)("div",{className:ex,children:[ee&&eu.current?(0,b.jsx)(f.A,{"data-test-id":"masonry-ssr-styles",unsafeCSS:ey}):null,(0,b.jsx)(o.az,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?er*e.maxColumns:void 0,children:eg?(0,b.jsx)(o._6,{ref:ej?eC:e=>{j&&(j.current=e)},_dynamicHeights:!0,_getResponsiveModuleConfigForSecondItem:O,_logTwoColWhitespace:eS,_measureAll:ev,align:t,columnWidth:ea,getColumnSpanConfig:W,gutterWidth:ei,items:eA,layout:et?en:_??"basic",loadItems:w,measurementStore:es,minCols:eo,renderItem:ez,scrollContainer:el,virtualBufferFactor:.3,virtualize:E}):(0,b.jsx)(o.a,{ref:ej?eC:e=>{j&&(j.current=e)},_dynamicHeights:!0,_experimentalFluidResizeDebounce:void 0!==ed&&ed>=0?ed:void 0,_fluidResize:!0,_getResponsiveModuleConfigForSecondItem:O,_logTwoColWhitespace:eS,align:t,columnWidth:ea,getColumnSpanConfig:W,gutterWidth:ei,items:eA,layout:et?en:_??"basic",loadItems:w,measurementStore:es,minCols:eo,renderItem:ez,scrollContainer:el,virtualBufferFactor:.3,virtualize:E})})]})})]})}},937092(e,t,n){n.d(t,{A:()=>a});function a(e,t){let n=0,a=!1,i=-1;return e.forEach((e,o)=>{let{x:r=0,y:s=0,h:l=0,w:u=0}=e,c=function(e,t){let{x:n,y:a,w:i,h:o}=e,{x:r,y:s,w:l,h:u}=t,c=Math.max(n,r),p=Math.min(n+i,r+l),d=Math.max(a,s),h=Math.min(a+o,s+u),m=c<p&&d<h?(p-c)*(h-d):0;return m/(i*o+l*u-m)}(t,{x:r,y:s,h:l,w:u});c>=.9&&c>n&&(n=c,a=!0,i=o)}),{isCropAreaOnDotArea:a,indexToHide:i}}},476410(e,t,n){n.d(t,{A:()=>a});function a({cropArea:{x:e,y:t,w:n,h:a},scaledWidth:i,scaledHeight:o}){return{x:e/i,y:t/o,w:n/i,h:a/o}}},931509(e,t,n){n.d(t,{CI:()=>i,J4:()=>a,PI:()=>o});let a="stela-cutout",i="cutout-fade",o=`
  .${i}-appear {
    opacity: 0;
  }
  .${i}-appear-active {
    opacity: 1;
    transition: opacity 2000ms;
  }
  .${i}-appear-done {
    opacity: 1;
  }

  .${i}-enter {
    opacity: 0;
  }
  .${i}-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }
  .${i}-enter-done {
    opacity: 1;
  }

  .${i}-exit {
    opacity: 1;
  }
  .${i}-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }
  .${i}-exit-done {
    opacity: 0;
  }
`},627012(e,t,n){n.d(t,{A:()=>o});var a=n(859471),i=n(601185);function o(){let{checkExperiment:e}=(0,i.A)(),{group:t}=e("dtn_exp6_uve4a");return(0,a.useMemo)(()=>{let e={client:"visual_cutout",cleanup_masks:!0};return"enabled"===t?{...e,detection_model:"dtn_exp6_yolov8"}:"enabled_dtn_exp5_skip_gss"===t?{...e,use_gss:!1,write_to_galaxy:!1}:e},[t])}},676791(e,t,n){n.d(t,{B1:()=>o,LG:()=>a,gy:()=>r,wq:()=>i});let a=(e,t,n)=>{let{maskX:a,maskY:i,maskWidth:o,maskHeight:r}=n;return e>=a&&e<=a+o&&t>=i&&t<=i+r},i=(e,t,n)=>{if(t<0||n<0||t>=e.canvas.width||n>=e.canvas.height)return!1;try{let a=e.getImageData(t,n,1,1).data[0];return void 0!==a&&a>0}catch{return!1}},o=e=>{let{id:t,mask_image:n,mask_bounds:a}=e;if(!t||!n||!a||2!==a.length)return!1;let[i,o]=a;if(!i||!o||2!==i.length||2!==o.length)return!1;let[r,s]=i,[l,u]=o;return[r,s,l,u].every(e=>"number"==typeof e&&!Number.isNaN(e))},r=(e,t,n)=>{if(!o(e))return null;let{id:a,mask_image:i,mask_bounds:r,is_hidden:s}=e,[l,u]=r[0],[c,p]=r[1],d=(e=>{try{let t=atob(e),n=Uint8Array.from(t,e=>e.charCodeAt(0)),a=new Blob([n],{type:"image/png"});return URL.createObjectURL(a)}catch{return null}})(i);return d?{maskData:{id:a,isHidden:!!s,maskHeight:p*n,maskHeightRatio:p,maskUrl:d,maskWidth:c*t,maskWidthRatio:c,maskX:l*t,maskXRatio:l,maskY:u*n,maskYRatio:u},maskUrl:d}:null}},860176(e,t,n){n.d(t,{A:()=>o});var a=n(859471),i=n(431802);function o(e){return(0,a.useMemo)(()=>{let[t,n]=(0,i.Rv)({hexColor:e||"#FFFFFF",saturationMultiplier:3,brightnessMultiplier:1.6,minSaturationClamp:.15,mixVal:.3,minBrightnessClamp:0}),a=`rgba(${n[0]}, ${n[1]}, ${n[2]}, 0.8)`,o=`rgba(${t[0]}, ${t[1]}, ${t[2]}, 0.8)`,r=(0,i.hh)((0,i.I0)((0,i.t8)("rgba(117, 117, 112, 0.2)"),(0,i.t8)(a))),s=(0,i.hh)((0,i.I0)((0,i.t8)("rgba(117, 117, 112, 0.4)"),(0,i.t8)(a)));return{defaultColor:a,selectedColor:o,hoveredColor:r,pressedColor:s}},[e])}},307273(e,t,n){n.d(t,{A:()=>h});var a=n(61163),i=n(859471),o=n(979638),r=n(19821),s=n(586733),l=n(662449),u=n(538329),c=n(337492),p=n(385800),d=n(562615);function h({defaultPillColor:e,hoveredPillColor:t,isLens:n,pressedPillColor:h,viewParameter:m,viewType:y}){(0,i.useEffect)(()=>{(0,a.A)("VisualSearchCancelButton","/app/www/VisualSearch/VisualSearchCancelButton.tsx")},[]);let x=(0,u.A)(),g=(0,o.Zp)(),{id:f}=(0,o.g)(),{active:b,focused:v,hovered:_,onBlur:w,onFocus:M,onMouseDown:S,onMouseEnter:A,onMouseLeave:z,onMouseUp:$}=(0,p.A)(),{pinId:k}=(0,c.A)(f||""),{previous:j}=(0,l.qD)(),{logContextEvent:C}=(0,s.o)();return(0,d.jsx)(r.az,{"data-test-id":"go-back-button",children:(0,d.jsx)(r.Rp,{onBlur:w,onFocus:M,onMouseDown:S,onMouseEnter:A,onMouseLeave:z,onMouseUp:$,onTap:()=>{(C({event_type:101,view_type:y,element:34,view_parameter:m}),n)?g("/",{replace:!0}):0===j.length?g(k?`/pin/${k}/`:"/",{replace:!0}):g(-1)},tapStyle:"compress",children:(0,d.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{background:b?h:v||_?t:e,backdropFilter:"blur(80px)"}},padding:3,rounding:400,children:(0,d.jsx)(r.In,{accessibilityLabel:x.bt("Go back", "Go back", "imageSearch.cancelButton", undefined, true),color:"default",icon:"close",size:24})})})})}},292815(e,t,n){n.d(t,{A:()=>o});var a=n(859471),i=n(284966);function o({scrollContainerRef:e}){let t=(0,a.useCallback)(t=>{let n=e.current,{buttons:a,clientY:i}=t;if(!n||1!==a||!i)return;let{top:o,bottom:r}=n.getBoundingClientRect(),s=window.innerHeight-o,l=n.scrollHeight,u=Math.max(0,o+20-i),c=Math.max(0,i-(r-20));if(u>0){let e=Math.min(u,100);n.scrollTop-=e}else if(c>0&&!(l<=s)){let e=Math.min(c,100);n.scrollTop+=e}},[e]);return{scrollCropperInView:(0,a.useMemo)(()=>(0,i.A)(t,16),[t])}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/9511.en_GB-612c5bfcb53c0289.mjs.map