(self.modernJsonp=self.modernJsonp||[]).push([["97432"],{335616(e,t,o){var i=o(768002);function a(e){this.mode=i.MODE_8BIT_BYTE,this.data=e}a.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=a},597304(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var o=0;o<t;o++)this.putBit((e>>>t-o-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},85543(e){e.exports={L:1,M:0,Q:3,H:2}},189363(e,t,o){var i=o(186023);function a(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var o=0;o<e.length&&0==e[o];)o++;this.num=Array(e.length-o+t);for(var i=0;i<e.length-o;i++)this.num[i]=e[i+o]}a.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),o=0;o<this.getLength();o++)for(var s=0;s<e.getLength();s++)t[o+s]^=i.gexp(i.glog(this.get(o))+i.glog(e.get(s)));return new a(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=i.glog(this.get(0))-i.glog(e.get(0)),o=Array(this.getLength()),s=0;s<this.getLength();s++)o[s]=this.get(s);for(var s=0;s<e.getLength();s++)o[s]^=i.gexp(i.glog(e.get(s))+t);return new a(o,0).mod(e)}},e.exports=a},71135(e,t,o){var i=o(335616),a=o(3249),s=o(597304),l=o(819049),n=o(189363);function r(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var d=r.prototype;d.addData=function(e){var t=new i(e);this.dataList.push(t),this.dataCache=null},d.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},d.getModuleCount=function(){return this.moduleCount},d.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=a.getRSBlocks(e,this.errorCorrectLevel),o=new s,i=0,n=0;n<t.length;n++)i+=t[n].dataCount;for(var n=0;n<this.dataList.length;n++){var r=this.dataList[n];o.put(r.mode,4),o.put(r.getLength(),l.getLengthInBits(r.mode,e)),r.write(o)}if(o.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},d.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[o][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},d.setupPositionProbePattern=function(e,t){for(var o=-1;o<=7;o++)if(!(e+o<=-1)&&!(this.moduleCount<=e+o))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(0<=o&&o<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=i&&i<=4?this.modules[e+o][t+i]=!0:this.modules[e+o][t+i]=!1)},d.getBestMaskPattern=function(){for(var e=0,t=0,o=0;o<8;o++){this.makeImpl(!0,o);var i=l.getLostPoint(this);(0==o||e>i)&&(e=i,t=o)}return t},d.createMovieClip=function(e,t,o){var i=e.createEmptyMovieClip(t,o);this.make();for(var a=0;a<this.modules.length;a++)for(var s=+a,l=0;l<this.modules[a].length;l++){var n=+l;this.modules[a][l]&&(i.beginFill(0,100),i.moveTo(n,s),i.lineTo(n+1,s),i.lineTo(n+1,s+1),i.lineTo(n,s+1),i.endFill())}return i},d.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},d.setupPositionAdjustPattern=function(){for(var e=l.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var o=0;o<e.length;o++){var i=e[t],a=e[o];if(null==this.modules[i][a])for(var s=-2;s<=2;s++)for(var n=-2;n<=2;n++)-2==s||2==s||-2==n||2==n||0==s&&0==n?this.modules[i+s][a+n]=!0:this.modules[i+s][a+n]=!1}},d.setupTypeNumber=function(e){for(var t=l.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var i=!e&&(t>>o&1)==1;this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=i}for(var o=0;o<18;o++){var i=!e&&(t>>o&1)==1;this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=i}},d.setupTypeInfo=function(e,t){for(var o=this.errorCorrectLevel<<3|t,i=l.getBCHTypeInfo(o),a=0;a<15;a++){var s=!e&&(i>>a&1)==1;a<6?this.modules[a][8]=s:a<8?this.modules[a+1][8]=s:this.modules[this.moduleCount-15+a][8]=s}for(var a=0;a<15;a++){var s=!e&&(i>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=s:a<9?this.modules[8][15-a-1+1]=s:this.modules[8][15-a-1]=s}this.modules[this.moduleCount-8][8]=!e},d.mapData=function(e,t){for(var o=-1,i=this.moduleCount-1,a=7,s=0,n=this.moduleCount-1;n>0;n-=2)for(6==n&&n--;;){for(var r=0;r<2;r++)if(null==this.modules[i][n-r]){var d=!1;s<e.length&&(d=(e[s]>>>a&1)==1),l.getMask(t,i,n-r)&&(d=!d),this.modules[i][n-r]=d,-1==--a&&(s++,a=7)}if((i+=o)<0||this.moduleCount<=i){i-=o,o=-o;break}}},r.PAD0=236,r.PAD1=17,r.createData=function(e,t,o){for(var i=a.getRSBlocks(e,t),n=new s,d=0;d<o.length;d++){var c=o[d];n.put(c.mode,4),n.put(c.getLength(),l.getLengthInBits(c.mode,e)),c.write(n)}for(var _=0,d=0;d<i.length;d++)_+=i[d].dataCount;if(n.getLengthInBits()>8*_)throw Error("code length overflow. ("+n.getLengthInBits()+">"+8*_+")");for(n.getLengthInBits()+4<=8*_&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*_)&&(n.put(r.PAD0,8),!(n.getLengthInBits()>=8*_));)n.put(r.PAD1,8);return r.createBytes(n,i)},r.createBytes=function(e,t){for(var o=0,i=0,a=0,s=Array(t.length),r=Array(t.length),d=0;d<t.length;d++){var c=t[d].dataCount,_=t[d].totalCount-c;i=Math.max(i,c),a=Math.max(a,_),s[d]=Array(c);for(var u=0;u<s[d].length;u++)s[d][u]=255&e.buffer[u+o];o+=c;var h=l.getErrorCorrectPolynomial(_),g=new n(s[d],h.getLength()-1).mod(h);r[d]=Array(h.getLength()-1);for(var u=0;u<r[d].length;u++){var p=u+g.getLength()-r[d].length;r[d][u]=p>=0?g.get(p):0}}for(var m=0,u=0;u<t.length;u++)m+=t[u].totalCount;for(var f=Array(m),A=0,u=0;u<i;u++)for(var d=0;d<t.length;d++)u<s[d].length&&(f[A++]=s[d][u]);for(var u=0;u<a;u++)for(var d=0;d<t.length;d++)u<r[d].length&&(f[A++]=r[d][u]);return f},e.exports=r},3249(e,t,o){var i=o(85543);function a(e,t){this.totalCount=e,this.dataCount=t}a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(e,t){var o=a.getRsBlockTable(e,t);if(void 0==o)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=o.length/3,s=[],l=0;l<i;l++)for(var n=o[3*l+0],r=o[3*l+1],d=o[3*l+2],c=0;c<n;c++)s.push(new a(r,d));return s},a.getRsBlockTable=function(e,t){switch(t){case i.L:return a.RS_BLOCK_TABLE[(e-1)*4+0];case i.M:return a.RS_BLOCK_TABLE[(e-1)*4+1];case i.Q:return a.RS_BLOCK_TABLE[(e-1)*4+2];case i.H:return a.RS_BLOCK_TABLE[(e-1)*4+3];default:return}},e.exports=a},186023(e){for(var t={glog:function(e){if(e<1)throw Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},o=0;o<8;o++)t.EXP_TABLE[o]=1<<o;for(var o=8;o<256;o++)t.EXP_TABLE[o]=t.EXP_TABLE[o-4]^t.EXP_TABLE[o-5]^t.EXP_TABLE[o-6]^t.EXP_TABLE[o-8];for(var o=0;o<255;o++)t.LOG_TABLE[t.EXP_TABLE[o]]=o;e.exports=t},768002(e){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},819049(e,t,o){var i=o(768002),a=o(189363),s=o(186023),l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;l.getBCHDigit(t)-l.getBCHDigit(l.G15)>=0;)t^=l.G15<<l.getBCHDigit(t)-l.getBCHDigit(l.G15);return(e<<10|t)^l.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;l.getBCHDigit(t)-l.getBCHDigit(l.G18)>=0;)t^=l.G18<<l.getBCHDigit(t)-l.getBCHDigit(l.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return l.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,o){switch(e){case 0:return(t+o)%2==0;case 1:return t%2==0;case 2:return o%3==0;case 3:return(t+o)%3==0;case 4:return(Math.floor(t/2)+Math.floor(o/3))%2==0;case 5:return t*o%2+t*o%3==0;case 6:return(t*o%2+t*o%3)%2==0;case 7:return(t*o%3+(t+o)%2)%2==0;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new a([1],0),o=0;o<e;o++)t=t.multiply(new a([1,s.gexp(o)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw Error("mode:"+e)}if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw Error("mode:"+e)}if(t<41)switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw Error("mode:"+e)}throw Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),o=0,i=0;i<t;i++)for(var a=0;a<t;a++){for(var s=0,l=e.isDark(i,a),n=-1;n<=1;n++)if(!(i+n<0)&&!(t<=i+n))for(var r=-1;r<=1;r++)!(a+r<0)&&!(t<=a+r)&&(0!=n||0!=r)&&l==e.isDark(i+n,a+r)&&s++;s>5&&(o+=3+s-5)}for(var i=0;i<t-1;i++)for(var a=0;a<t-1;a++){var d=0;e.isDark(i,a)&&d++,e.isDark(i+1,a)&&d++,e.isDark(i,a+1)&&d++,e.isDark(i+1,a+1)&&d++,(0==d||4==d)&&(o+=3)}for(var i=0;i<t;i++)for(var a=0;a<t-6;a++)e.isDark(i,a)&&!e.isDark(i,a+1)&&e.isDark(i,a+2)&&e.isDark(i,a+3)&&e.isDark(i,a+4)&&!e.isDark(i,a+5)&&e.isDark(i,a+6)&&(o+=40);for(var a=0;a<t;a++)for(var i=0;i<t-6;i++)e.isDark(i,a)&&!e.isDark(i+1,a)&&e.isDark(i+2,a)&&e.isDark(i+3,a)&&e.isDark(i+4,a)&&!e.isDark(i+5,a)&&e.isDark(i+6,a)&&(o+=40);for(var c=0,a=0;a<t;a++)for(var i=0;i<t;i++)e.isDark(i,a)&&c++;return o+10*(Math.abs(100*c/t/t-50)/5)}};e.exports=l},519495(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},a=n(o(102736)),s=o(859471),l=n(s);function n(e){return e&&e.__esModule?e:{default:e}}var r={bgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,bgD:a.default.string.isRequired,fgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,fgD:a.default.string.isRequired,size:a.default.number.isRequired,title:a.default.string,viewBoxSize:a.default.number.isRequired,xmlns:a.default.string},d=(0,s.forwardRef)(function(e,t){var o=e.bgColor,a=e.bgD,s=e.fgD,n=e.fgColor,r=e.size,d=e.title,c=e.viewBoxSize,_=e.xmlns,u=function(e,t){var o={};for(var i in e)!(t.indexOf(i)>=0)&&Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=e[i]);return o}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return l.default.createElement("svg",i({},u,{height:r,ref:t,viewBox:"0 0 "+c+" "+c,width:r,xmlns:void 0===_?"http://www.w3.org/2000/svg":_}),d?l.default.createElement("title",null,d):null,l.default.createElement("path",{d:a,fill:o}),l.default.createElement("path",{d:s,fill:n}))});d.displayName="QRCodeSvg",d.propTypes=r,t.default=d},919280(e,t,o){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},a=c(o(102736)),s=c(o(85543)),l=c(o(71135)),n=o(859471),r=c(n),d=c(o(519495));function c(e){return e&&e.__esModule?e:{default:e}}var _={bgColor:a.default.oneOfType([a.default.object,a.default.string]),fgColor:a.default.oneOfType([a.default.object,a.default.string]),level:a.default.string,size:a.default.number,value:a.default.string.isRequired},u=(0,n.forwardRef)(function(e,t){var o=e.bgColor,a=e.fgColor,n=e.level,c=e.size,_=e.value,u=function(e,t){var o={};for(var i in e)!(t.indexOf(i)>=0)&&Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=e[i]);return o}(e,["bgColor","fgColor","level","size","value"]),h=new l.default(-1,s.default[void 0===n?"L":n]);h.addData(_),h.make();var g=h.modules;return r.default.createElement(d.default,i({},u,{bgColor:void 0===o?"#FFFFFF":o,bgD:g.map(function(e,t){return e.map(function(e,o){return e?"":"M "+o+" "+t+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:void 0===a?"#000000":a,fgD:g.map(function(e,t){return e.map(function(e,o){return e?"M "+o+" "+t+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:void 0===c?256:c,viewBoxSize:g.length}))});u.displayName="QRCode",u.propTypes=_,t.default=u},189319(e,t,o){var i,a,s,l,n,r;o.r(t),o.d(t,{default:()=>c});let d={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},n={alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},r={alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,n,r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"53030f92f7d03604eb082cefe5e71aaa8baa6890a53f4f4c84699f1a2d35f7bd",metadata:{},name:"FullPageSignupIconPinQuery",operationKind:"query",text:null}};d.hash="5f53c7f6e34730854eb309458abe8f05";let c=d},550005(e,t,o){o.d(t,{A:()=>n});var i=o(61163),a=o(859471),s=o(538329),l=o(562615);function n({fillColor:e,size:t,noCircle:o}){(0,a.useEffect)(()=>{(0,i.A)("LogoSvg","/app/packages/LogoSvg.tsx")},[]);let n=(0,s.A)();return(0,l.jsxs)("svg",{"aria-labelledby":"fullpage-modal-pinterest-logo",height:t,role:"img",style:{display:"block"},viewBox:o?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,l.jsx)("title",{id:"fullpage-modal-pinterest-logo",children:n.bt("Pinterest logo", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true)}),o?null:(0,l.jsx)("circle",{cx:"38",cy:"38",fill:e?"transparent":"white",r:"40"}),(0,l.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:e??"var(--base-color-red-300)",fillRule:"evenodd"})]})}},623120(e,t,o){o.d(t,{A:()=>c});var i=o(61163),a=o(859471),s=o(19821),l=o(538329),n=o(752159),r=o(168079),d=o(562615);function c({onClick:e}){(0,a.useEffect)(()=>{(0,i.A)("BackToLoginButton","/app/packages/authentication/login/BackToLoginButton.tsx")},[]);let t=(0,l.A)();return(0,r.A)(()=>{(0,n.PM)("unauth.back_to_login_button.view")}),(0,d.jsx)(s.$n,{accessibilityLabel:"Back to login button",color:"secondary",fullWidth:!0,onClick:()=>{(0,n.PM)("unauth.back_to_login_button.click"),e?.()},text:t.bt("Back to login", "Back to login", "unauth.loginForm.backToLoginButton", undefined, true)})}},624431(e,t,o){o.d(t,{h:()=>v,A:()=>L});var i=o(61163),a=o(859471),s=o(19821),l=o(432235),n=o(538329),r=o(752159),d=o(562615);function c({onClose:e,socialButtons:t}){(0,a.useEffect)(()=>{(0,i.A)("LoginAssistanceGoogleModal","/app/packages/desktopAccountRecovery/LoginAssistanceGoogleModal.tsx")},[]);let o=(0,n.A)();(0,a.useEffect)(()=>{(0,r.PM)("unauth.dweb.login_assistance_google_modal.view")},[]);let c=o.bt("Having trouble logging in?", "Having trouble logging in?", "dweb.accountRecovery.loginAssistance.googleModal.heading", undefined, true);return(0,d.jsx)(l.A,{heading:c,headingNode:(0,d.jsxs)(s.az,{marginTop:10,children:[(0,d.jsx)(s.az,{marginEnd:2,marginTop:-14,position:"absolute",right:!0,children:(0,d.jsx)(s.K0,{accessibilityLabel:o.bt("Dismiss modal button", "Dismiss modal button", "dismiss button accessibilityLabel", undefined, true),bgColor:"transparent",icon:"close",onClick:()=>{e()},size:"sm"})}),(0,d.jsx)(s._Y,{accessibilityLevel:1,align:"center",size:"600",children:c})]}),onDismiss:e,size:"sm",children:(0,d.jsx)(s.az,{alignItems:"center","data-test-id":"touchableErrorMessage",display:"flex",justifyContent:"center",marginBottom:9,children:(0,d.jsxs)(s.so,{alignItems:"center",direction:"column",width:429,children:[(0,d.jsx)(s.az,{marginBottom:4,children:(0,d.jsx)(s.KJ,{align:"center",children:o.bt("It looks as though your account is connected to Google. Log in with Google to get back into your account.", "Looks like your account is connected to Google. Log in with Google to get back into your account.", "dweb.accountRecovery.loginAssistance.googleModal.text", undefined, true)})}),(0,d.jsx)(s.az,{paddingX:16,width:"100%",children:t})]})})})}var _=o(671215),u=o(257300);function h({callBack:e,color:t,email:o,inline:l,overrideText:r}){(0,a.useEffect)(()=>{(0,i.A)("ResetPasswordButton","/app/packages/desktopAccountRecovery/ResetPasswordButton.tsx")},[]);let c=(0,n.A)(),_=r||c.bt("Reset password", "Reset password", "Request a password reset email", undefined, true);return(0,d.jsx)(s.$n,{accessibilityLabel:_,color:t||"primary",fullWidth:l,onClick:()=>{(0,u.A)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o,type:"reset"}}).then(()=>e())},text:_})}var g=o(542975);function p({email:e,onClose:t,onPasswordResetSent:o,socialButtons:r}){(0,a.useEffect)(()=>{(0,i.A)("LoginAssistanceModal","/app/packages/desktopAccountRecovery/LoginAssistanceModal.tsx")},[]);let c=(0,n.A)();return(0,d.jsx)(l.A,{heading:c.bt("Looks like you’re having trouble logging in", "Looks like you’re having trouble logging in", "Modal heading for user who have attempted to login three times", undefined, true),onDismiss:t,size:"sm",children:(0,d.jsx)(s.az,{alignItems:"center","data-test-id":"touchableErrorMessage",display:"flex",justifyContent:"center",marginBottom:9,children:(0,d.jsxs)(s.so,{alignItems:"center",direction:"column",width:290,children:[(0,d.jsx)(s.az,{marginBottom:6,children:(0,d.jsx)(s.KJ,{align:"center",children:(0,g.vQ)(c.bt("We sent an email to {{ email }} to help you get back in.", "We sent an email to {{ email }} to help you get back in.", " - ", undefined, true),{email:(0,d.jsx)(s.KJ,{inline:!0,weight:"bold",children:e},"emailAddress")})})}),(0,d.jsx)(s.az,{marginBottom:8,width:"100%",children:(0,d.jsx)(h,{callBack:o,color:"primary",email:e,inline:!0,overrideText:c.bt("Resend email", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,d.jsx)(s.KJ,{children:c.bt("Or log in with Facebook or Google", "Or log in with Facebook or Google", "Upsell to use Facebook or Google for login", undefined, true)}),(0,d.jsx)(s.az,{marginBottom:12,marginTop:4,width:"100%",children:r}),(0,d.jsx)(s.az,{marginBottom:12,width:"100%",children:(0,d.jsx)(_.A,{onClick:t})})]})})})}var m=o(53107);function f({email:e,onClose:t,onPasswordResetSent:o}){(0,a.useEffect)(()=>{(0,i.A)("LoginWithFailedModal","/app/packages/desktopAccountRecovery/LoginWithFailedModal.tsx")},[]);let r=(0,n.A)();return(0,d.jsx)(l.A,{heading:r.bt("Oops! Something went wrong", "Oops! Something went wrong", "Modal heading", undefined, true),onDismiss:t,size:"md",children:(0,d.jsxs)(s.az,{marginBottom:4,paddingX:6,children:[(0,d.jsx)(s.az,{marginBottom:6,children:(0,d.jsx)(s.KJ,{children:r.bt("We were unable to match your Google account with any Pinterest account. Please try resetting your password instead.", "We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.", "unauth.desktopWeb.loginFailedModal.google.text", undefined, true)})}),(0,d.jsx)(h,{callBack:o,email:e,inline:!0}),(0,d.jsx)(s.az,{marginTop:2,children:(0,d.jsx)(_.A,{onClick:t})})]})})}var A=o(567176),y=o(607685);function w({email:e,onClose:t}){(0,a.useEffect)(()=>{(0,i.A)("PasswordResetSentModal","/app/packages/desktopAccountRecovery/PasswordResetSentModal.tsx")},[]);let o=(0,n.A)(),[r,c]=(0,a.useState)(!1);return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(l.A,{heading:o.bt("Password reset email sent", "Password reset email sent", "Modal label for confirmation of password reset send", undefined, true),onDismiss:t,children:(0,d.jsxs)(s.az,{marginBottom:4,paddingX:6,children:[(0,d.jsx)(s.KJ,{overflow:"normal",children:(0,g.vQ)(o.bt("We sent instructions to pick a new password to {{ email }}.", "We sent instructions to pick a new password to {{ email }}.", "Statement that a password reset email has been sent to the user", undefined, true),{email:(0,d.jsx)(s.KJ,{inline:!0,overflow:"normal",weight:"bold",children:e},"emailAddress")})}),(0,d.jsx)(s.az,{paddingY:4,children:(0,d.jsx)(h,{callBack:()=>c(!r),color:"secondary",email:e,inline:!0,overrideText:o.bt("Resend email", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,d.jsxs)(s.az,{children:[(0,d.jsx)(s.az,{marginBottom:4,children:(0,d.jsx)(s.KJ,{children:(0,g.vQ)(o.bt("Didn’t get the email? Try these {{ tips }}", "Didn’t get the email? Try these {{ tips }}", "Direction to help center if the password reset email failed", undefined, true),{tips:(0,d.jsx)(s.KJ,{inline:!0,weight:"bold",children:(0,d.jsx)(s.N_,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/trouble-pinterest-emails?source=account_recovery",onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:o.bt("tips from our Help Centre", "tips from our Help Center", "Link text to go to help center", undefined, true)},"helpCenterLink")},"helpCenter")})})}),(0,d.jsx)(s.az,{marginBottom:4,children:(0,d.jsx)(s.KJ,{children:(0,g.vQ)(o.bt("Not your email address? {{ tryAgain }}", "Not your email address? {{ tryAgain }}", "Link to password reset flow for users who make an incorrect password reset request", undefined, true),{tryAgain:(0,d.jsx)(s.KJ,{inline:!0,weight:"bold",children:(0,d.jsx)(s.N_,{display:"inlineBlock",href:y.UU5,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:o.bt("Try another", "Try another", "Link text to enter the password reset flow for a different email address/username", undefined, true)},"passwordResetLink")},"tryAgain")})})})]}),(0,d.jsx)(s.az,{children:(0,d.jsx)(_.A,{color:"primary",onClick:t})})]})}),r&&(0,d.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,d.jsx)(A.A,{duration:3500,onHide:()=>c(!r),text:o.bt("Email sent", "Email sent!", " - ", undefined, true)})})]})}function x({email:e,onClose:t,onPasswordResetSent:o,socialButtons:r}){(0,a.useEffect)(()=>{(0,i.A)("SoftBannedModal","/app/packages/desktopAccountRecovery/SoftBannedModal.tsx")},[]);let c=(0,n.A)();return(0,d.jsx)(l.A,{heading:c.bt("We protected your account", "We protected your account", "Modal heading for user who need to recover their accounts", undefined, true),onDismiss:t,size:480,children:(0,d.jsxs)(s.az,{marginBottom:8,paddingX:12,children:[(0,d.jsx)(s.az,{marginBottom:4,paddingX:4,children:(0,d.jsx)(s.KJ,{align:"center",children:c.bt("For security purposes, we've reset your Pinterest account password and logged you out of all devices and browsers.", "For security purposes we've reset your Pinterest account password and logged you out on all devices and browsers.", "softBannedAccountModal.modal.description", undefined, true)})}),(0,d.jsx)(s.az,{marginBottom:4,paddingX:4,children:(0,d.jsx)(s.KJ,{align:"center",children:c.bt("Reset your password or log in with Facebook or Google to get back into your account.", "Reset your password or log in with Facebook or Google to get back into your account.", "Prompt to take action to reset password or upsell login with Facebook/Google", undefined, true)})}),(0,d.jsxs)(s.az,{paddingX:12,children:[(0,d.jsx)(s.az,{paddingY:2,children:(0,d.jsx)(h,{callBack:o,email:e,inline:!0})}),r,(0,d.jsx)(s.az,{marginTop:4,children:(0,d.jsx)(_.A,{onClick:t})})]})]})})}var b=o(745385),P=o(743506),k=o(173832),z=o(583725);let v={[k.Cy]:z.ew.RATE_LIMITED,[k.GL]:z.ew.RATE_LIMITED,[k.k8]:z.ew.SOFT_BANNED,[k.PI]:z.ew.SUSPENDED,[k.IR]:z.ew.LOGIN_ASSISTANCE,[k.WT]:z.ew.SOFT_BANNED,429:z.ew.RATE_LIMITED,[k.WG]:z.ew.LOGIN_GOOGLE},S=({onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:o,updateAccountRecoveryModal:i})=>(0,d.jsx)(s.az,{children:(0,d.jsx)(P.A,{container:"account_recovery",onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:e=>{i(null),o?.(e)},showLoginRateLimited:()=>i(z.ew.RATE_LIMITED),socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>i(z.ew.PREVENT_GOOGLE_REGISTER)}})});function L({email:e,modalType:t,onLoginWithMfa:o,onLoginWithSuspended:s,onLoginWithVoluntarilyDeactivated:l,updateAccountRecoveryModal:n}){(0,a.useEffect)(()=>{(0,i.A)("AccountRecovery","/app/packages/desktopAccountRecovery/AccountRecovery.tsx")},[]);let r=()=>n(null),_=()=>n(z.ew.PASSWORD_RESET_SENT),u=(0,d.jsx)(S,{onLoginWithMfa:o,onLoginWithSuspended:s,onLoginWithVoluntarilyDeactivated:l,updateAccountRecoveryModal:n});switch(t){case z.ew.SUSPENDED:return(0,d.jsx)(b.A,{onClose:r});case z.ew.LOGIN_ASSISTANCE:return(0,d.jsx)(p,{email:e,onClose:r,onPasswordResetSent:_,socialButtons:u});case z.ew.RATE_LIMITED:return(0,d.jsx)(m.A,{onClose:r});case z.ew.SOFT_BANNED:return(0,d.jsx)(x,{email:e,onClose:r,onPasswordResetSent:_,socialButtons:u});case z.ew.PREVENT_GOOGLE_REGISTER:return(0,d.jsx)(f,{email:e,onClose:r,onPasswordResetSent:_});case z.ew.PASSWORD_RESET_SENT:return(0,d.jsx)(w,{email:e,onClose:r});case z.ew.LOGIN_GOOGLE:return(0,d.jsx)(c,{onClose:r,socialButtons:u});default:return null}}},671215(e,t,o){o.d(t,{A:()=>r});var i=o(61163),a=o(859471),s=o(19821),l=o(538329),n=o(562615);function r({color:e,onClick:t,overrideText:o}){(0,a.useEffect)(()=>{(0,i.A)("AcknowledgeButton","/app/packages/desktopAccountRecovery/AcknowledgeButton.tsx")},[]);let r=(0,l.A)(),d=o||r.bt("Got it", "Got it", "Acknowledge protected account modal message", undefined, true);return(0,n.jsx)(s.$n,{accessibilityLabel:d,color:e||"secondary",fullWidth:!0,onClick:t,text:d})}},432235(e,t,o){o.d(t,{A:()=>c});var i=o(61163),a=o(859471),s=o(19821),l=o(173415),n=o(123576),r=o(911127),d=o(562615);function c({children:e,headingNode:t,heading:o,onDismiss:c,size:_}){return(0,a.useEffect)(()=>{(0,i.A)("DesktopLoginModalAlertDialog","/app/packages/desktopAccountRecovery/DesktopLoginModalAlertDialog.tsx")},[]),(0,a.useEffect)(()=>(n.A.pause(),function(){n.A.resume()}),[]),(0,d.jsx)(s.Wd,{zIndex:l.S,children:(0,d.jsx)(r.A,{allowEsc:!0,children:(0,d.jsx)(s.aF,{accessibilityModalLabel:o,heading:t||o,onDismiss:()=>{n.A.resume(),c()},padding:"none",role:"alertdialog",size:_||"md",children:e})})})}},53107(e,t,o){o.d(t,{A:()=>d});var i=o(61163),a=o(859471),s=o(19821),l=o(432235),n=o(538329),r=o(562615);function d({onClose:e}){(0,a.useEffect)(()=>{(0,i.A)("LoginRateLimitedModal","/app/packages/desktopAccountRecovery/LoginRateLimitedModal.tsx")},[]);let t=(0,n.A)();return(0,r.jsxs)(l.A,{heading:t.bt("Too many login attempts", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true),headingNode:(0,r.jsxs)(s.az,{children:[(0,r.jsx)(s.az,{display:"flex",justifyContent:"center",padding:6,children:(0,r.jsx)(s.In,{accessibilityLabel:t.bt("Pinterest logo", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"primary",icon:"pinterest",size:40})}),(0,r.jsx)(s._Y,{accessibilityLevel:1,align:"center",size:"600",children:t.bt("Too many login attempts", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true)})]}),onDismiss:e,size:"sm",children:[(0,r.jsx)(s.az,{marginBottom:12,marginTop:4,paddingX:12,children:(0,r.jsx)(s.KJ,{align:"center",children:t.bt("You have reached the maximum number of login attempts. Try again in 30 minutes.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,r.jsx)(s.az,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:12,children:(0,r.jsx)(s.$n,{color:"primary",fullWidth:!0,onClick:e,text:t.bt("OK", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true)})})]})}},745385(e,t,o){o.d(t,{A:()=>u});var i=o(61163),a=o(859471),s=o(19821),l=o(671215),n=o(432235),r=o(394946),d=o(538329),c=o(542975),_=o(562615);function u({onClose:e}){(0,a.useEffect)(()=>{(0,i.A)("SuspendedModal","/app/packages/desktopAccountRecovery/SuspendedModal.tsx")},[]);let t=(0,d.A)(),o=t.bt("Common reasons for account deactivation include:", "Common reasons for account deactivation include:", " - ", undefined, true),u=t.bt("{{ help_link }} if you have questions or would like to reactivate your account.", "{{ help_link }} if you have questions or would like to reactivate your account.", " - ", undefined, true),h=[t.bt("Violating Pinterest Community Guidelines.", "Violating Pinterest Community Guidelines.", "One example reason for account deactivation", undefined, true),t.bt("We noticed unusual activity on your account.", "We noticed unusual activity on your account.", "One example reason for account deactivation", undefined, true),t.bt("You requested an account closure.", "You requested an account closure.", "One example reason for account deactivation", undefined, true)];return(0,_.jsx)(n.A,{heading:t.bt("Your account has been deactivated", "Your account has been deactivated", "Modal heading for user who have attempted to login with a deactivated account", undefined, true),onDismiss:e,size:"md",children:(0,_.jsxs)(s.az,{marginBottom:4,paddingX:6,children:[(0,_.jsxs)(s.az,{marginBottom:4,children:[(0,_.jsxs)(s.KJ,{children:[" ",o," "]}),(0,_.jsx)(s.az,{paddingY:2,children:(0,_.jsx)(a.Fragment,{children:h.map(e=>(0,_.jsx)(s.KJ,{children:"• "+e},`reasons-${e}`))})}),(0,_.jsx)(s.KJ,{inline:!0,children:(0,c.vQ)(u,{help_link:(0,_.jsx)(r.$,{},"suspended user help_link")})})]}),(0,_.jsx)(s.az,{marginTop:4,children:(0,_.jsx)(l.A,{color:"primary",onClick:e,overrideText:t.bt("Got it", "Got it", "Acknowledge suspended account modal message", undefined, true)})})]})})}},394946(e,t,o){o.d(t,{$:()=>r});var i=o(61163),a=o(859471),s=o(19821),l=o(538329),n=o(562615);let r=()=>{(0,a.useEffect)(()=>{(0,i.A)("SuspendedUsers","/app/packages/desktopAccountRecovery/SuspendedUsers.tsx")},[]);let e=(0,l.A)();return(0,n.jsx)(s.N_,{display:"inlineBlock",href:"https://help.pinterest.com/en/contact?current_page=about_you_page&appeals=account_suspension",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"auto",children:e.bt("Contact us", "Contact us", "link text shown to redirect to help.pinterest.com for appealing a suspension", undefined, true)})}},726326(e,t,o){o.d(t,{A:()=>n});var i=o(61163),a=o(859471),s=o(538329),l=o(562615);function n(){(0,a.useEffect)(()=>{(0,i.A)("AlternativesSeparator","/app/packages/desktopLoginModal/AlternativesSeparator.tsx")},[]);let e=(0,s.A)();return(0,l.jsx)("p",{style:{marginBottom:"8px",marginTop:"8px",overflow:"hidden",textAlign:"center",fontSize:"14px",color:"#333",fontWeight:"bold"},children:e.bt("OR", "OR", " - ", undefined, true)})}},672334(e,t,o){o.d(t,{A:()=>u});var i=o(61163),a=o(859471),s=o(19821),l=o(586733),n=o(538329),r=o(607685),d=o(752159),c=o(971289),_=o(562615);function u(){(0,a.useEffect)(()=>{(0,i.A)("FacebookRecoverMessage","/app/packages/desktopLoginModal/FacebookRecoverMessage.tsx")},[]);let e=(0,n.A)(),t=(0,c.qJ)(),{logContextEvent:o}=(0,l.o)(),u=t?"dweb":"mweb";return(0,_.jsxs)(s.az,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:2,marginEnd:"auto",children:[(0,_.jsx)(s.KJ,{color:"default",size:"100",children:e.bt("Facebook login is no longer available", "Facebook login is no longer available", "unauth.login_form.facebook_login_no_longer_available", undefined, true)}),(0,_.jsx)(s.so,{alignItems:"center",justifyContent:"center",children:(0,_.jsx)(s.$A,{href:`${r.UU5}?lookup=true`,onTap:({dangerouslyDisableOnNavigation:e})=>{(0,d.PM)(`${u}.fb_login_no_longer_available.v2.click`),t&&e(),o({event_type:15392,element:10881})},children:(0,_.jsx)(s.KJ,{color:"default",size:"100",weight:"bold",children:e.bt("Update login method", "Update login method", "unauth.login_form.update_login_method", undefined, true)})})})]})}},944059(e,t,o){o.r(t),o.d(t,{default:()=>tA});var i,a=o(61163),s=o(859471),l=o(979638),n=o(19821),r=o(871292),d=o(743372),c=o(989457),_=o(538329),u=o(562615);function h({accessibilityLabel:e,color:t,name:o,outline:i,size:l="lg",src:r,verified:d}){(0,s.useEffect)(()=>{(0,a.A)("AvatarWithPinterestBadge","/app/packages/desktopLoginModal/AvatarWithPinterestBadge.tsx")},[]);let h=(0,_.A)().bt("Pinterest", "Pinterest", "avatarWithPinterestBadge.pinterestLabel", undefined, true);return(0,u.jsxs)(n.az,{position:"relative",children:[(0,u.jsx)(c.eu,{accessibilityLabel:e,color:t,name:o,outline:i,size:l,src:r,verified:d}),(0,u.jsx)(n.az,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#E60023"}},display:"flex",height:24,justifyContent:"center",position:"absolute",right:!0,rounding:"circle",width:24,children:(0,u.jsx)(n.In,{accessibilityLabel:h,color:"light",icon:"pinterest",size:16})})]})}var g=o(148867),p=o(843754),m=o(406230),f=o(251407),A=o(706652),y=o(750810),w=o(584863),x=o(672334);let b=({margin:e})=>((0,s.useEffect)(()=>{(0,a.A)("Separator","/app/packages/desktopLoginModal/Separator.tsx")},[]),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{margin:e??"10px auto"}},width:110}));var P=o(350306),k=o(607685),z=o(497656),v=o(67765),S=o(811154),L=o(635924);function E({type:e}){let{viewer:t}=(0,y.Mm)(),o=(0,_.A)(),i=(0,d.A)(),a=`${L.Lj}${k.GrJ}`,{trackConversionUpsell:s}=(0,S.A)(),l=(0,v.A)();return(0,u.jsxs)(n.az,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",marginStart:"auto",marginTop:2,children:[(0,u.jsx)(n.KJ,{size:"100",weight:"normal",children:o.bt("Are you a business?", "Are you a business?", "Prompt for business signup", undefined, true)}),(0,u.jsx)(n.az,{"data-test-id":"business-start",marginStart:1,children:(0,u.jsx)(n.N_,{href:a,onClick:()=>{l({action:"click",item:"business-start"}),i({event_type:101,component:"signupToLogin"===e?13096:13867,element:10281,aux_data:(0,P.A)(t.type)}),s({element:10281,eventType:14689})},target:"blank",underline:"none",children:(0,u.jsx)(n.KJ,{size:"100",weight:"bold",children:o.bt("Get started here!", "Get started here!", "Prompt for signing up", undefined, true)})})})]})}let j=({children:e,layout:t})=>{switch(t){case"SIGNUP_LARGE":return(0,u.jsx)(n.az,{children:(0,u.jsx)(n.az,{marginTop:4,children:e})});case"SIGNUP_SMALL":return(0,u.jsx)(n.az,{marginTop:3,children:e});case"SIGNUP_WITH_AGE":return(0,u.jsx)(n.az,{margin:-4,children:(0,u.jsx)(n.az,{"data-test-id":"login-button",padding:3,children:e})});case"LOGIN_INLINE":return(0,u.jsxs)(n.az,{children:[(0,u.jsx)(b,{}),(0,u.jsx)(n.az,{display:"inlineBlock",marginEnd:1,children:e})]});case"LOGIN_SMALL":return(0,u.jsxs)(n.az,{children:[(0,u.jsx)(b,{}),e]});case"SIGNUP_DEFAULT":case"LOGIN_DEFAULT":return(0,u.jsxs)(n.az,{children:[(0,u.jsx)(b,{}),(0,u.jsx)(n.az,{children:e})]});default:return e}};function C({layout:e,onClick:t,shouldHideBusinessCreateFooterLink:o,type:i}){(0,s.useEffect)(()=>{(0,a.A)("SignupLoginToggleFooter","/app/packages/desktopLoginModal/SignupLoginToggleFooter.tsx")},[]);let l=(0,_.A)(),r=(0,v.A)();return(0,u.jsxs)(j,{layout:e,children:["loginToSignup"===i&&(0,u.jsx)(x.A,{}),(0,u.jsx)(n.az,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",children:(0,u.jsxs)(n.so,{alignItems:"stretch",justifyContent:"center",children:["signupToLogin"===i&&(0,u.jsx)(n.KJ,{size:"100",children:l.bt("Already a member?", "Already a member?", "modernized.nux.footer.text", undefined, true)}),(0,u.jsx)(n.az,{marginStart:1,children:(0,u.jsx)(n.Rp,{dataTestId:"login-signup-toggle",onTap:e=>{r({action:"click",item:"email-signup-button"}),t(e.event)},children:(0,u.jsx)(n.KJ,{color:"default",size:"100",weight:"bold",children:"signupToLogin"===i&&l.bt("Log in", "Log in", "modernize.nux.switch.to.login.modal", undefined, true)||l.bt("Not on Pinterest yet? Sign up", "Not on Pinterest yet? Sign up", "nux.unauth.user.sign.up.message", undefined, true)})})})]})}),!o&&(0,u.jsx)(E,{type:i}),"loginToSignup"===i&&(0,u.jsx)(n.az,{marginEnd:"auto",marginStart:"auto",marginTop:4,width:w.lt,children:(0,u.jsx)(z.A,{})})]})}var T=o(930399),M=o(173832),I=o(583725),R=o(261943),B=o(86767),O=o(144352),F=o(12729),D=o(752159),U=o(406054);o(291435);let N=({disablePostSignupNextUrl:e,handleLoginToggleButtonClick:t,loadingIndicatorCallback:o,nextUrlParam:i,registrationCredentials:l,showResponseMessageModal:r})=>{(0,s.useEffect)(()=>{(0,a.A)("BirthdayCollection","/app/packages/desktopLoginModal/BirthdayCollection.tsx")},[]);let d=(0,_.A)(),{isRequirementEnabled:c}=(0,U.AE)(),{register:h,viewer:w}=(0,y.Mm)(),{refreshToken:x}=(0,O.c)(),[b,k]=(0,s.useState)(!1),[v,S]=(0,s.useState)(!1),[L,E]=(0,s.useState)(!0),[j,N]=(0,s.useState)(!1),[W,G]=(0,s.useState)(""),[V,q]=(0,s.useState)(void 0),K=c({requirementEnum:1,viewType:10}),J="other";switch(l?.type){case"google":J="google";break;case"line":J="line";break;case"sso":J="sso"}(0,s.useEffect)(()=>{"1"===f.Jt(g.W$)&&(N(!0),G(d.bt("Sorry, you’re not eligible to sign up for Pinterest just now.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.birthdaycollection.ineligible.msg", undefined, true)))},[d,G]),(0,s.useEffect)(()=>{(0,D.PM)("dweb.signup_age_step",{type:l?.type,format:"birthday"})},[l?.type]);let $=async t=>{if(!l||!V)return void o(!1);if(K&&!v){o(!1),S(!0);return}let a={};t&&(a={kr_privacy_consent_opt_in:t.kr_privacy_consent_opt_in,marketing_notifs_opt_out:t.marketing_notifs_opt_out});let s={...l.signupOptions,birthday:(0,A.A)(V),birthday_source_site:R.IL.PINTEREST,...a};try{let t,o={facebook:B.A.FACEBOOK,google:B.A.GPLUS,google_one_tap:B.A.GOOGLE_ONE_TAP,line:B.A.LINE,sso:B.A.SSO,socialSignupWithAge:void 0}[l.type];"google"===l.type?t=12981:"google_one_tap"===l.type&&(t=12982),(0,D.mY)({event:"signup_api_call_start",provider:J}),await h(s,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,element:t,aux_data:{...(0,P.A)(w.type),...o?{signup_login_method:o}:Object.freeze({})}}}),(0,D.PM)("dweb.birthdaycollection.signup_success"),(0,D.mY)({event:"signup_api_call_success",provider:J}),r?r(!0):I.Ay.handleSignupRedirect(i,e)}catch(e){switch((0,D.mY)({event:"signup_api_call_failure",provider:J}),x&&x(),e.api_error_code){case M.AT:(0,D.PM)("dweb.birthdaycollection.signup_error.underage"),f.hZ(g.W$,"1",(0,f.N_)(g.W$)),k(!0),S(!1);break;case M.YP:(0,D.PM)("dweb.birthdaycollection.signup_error.eu_missing_age"),G(e.message||d.bt("We need to know your age to provide this service to you.", "We need to know your age to provide you this service.", "signup.birthdaycollection.error.missingAge", undefined, true));break;case M.Gx:(0,D.PM)("dweb.birthdaycollection.signup_error.overage"),G(e.message||d.bt("Please enter a valid age to sign up.", "Oops! Please use a valid age to sign up.", "signup.birthdaycollection.error.overage", undefined, true));break;case M.gE:(0,D.PM)("dweb.birthdaycollection.signup_error.invalid_email"),G(d.bt("Your email address is invalid.", "Your email is invalid.", "signup.birthdaycollection.error.invalidEmail", undefined, true));break;case M.n1:(0,D.PM)("dweb.birthdaycollection.signup_error.email_contain_pinterest"),G(d.bt("Please use your name or the name of your brand", "Please stick to your name, or the name of your brand", "signup.birthdaycollection.error.emailContainsPinterest", undefined, true));break;default:(0,D.PM)("dweb.birthdaycollection.signup_error.other"),G(d.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "signup.birthdaycollection.error.other", undefined, true))}}};return v?(0,u.jsx)(n.az,{"data-test-id":"consents-step-modal",width:484,children:(0,u.jsx)(F.A,{isRegistering:!1,onBackButtonClick:()=>S(!1),onSubmitHandler:$,validationError:W})}):b?(0,u.jsx)(T.A,{birthday:V,onEditBirthday:()=>k(!1)}):(0,u.jsx)(n.az,{paddingX:5,paddingY:5,children:(0,u.jsx)(n.az,{paddingX:12,children:(0,u.jsxs)(n.so,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,u.jsx)(n.az,{height:48,marginBottom:1,marginTop:5,width:48,children:(0,u.jsx)(n._V,{alt:d.bt("Birthday image", "Birthday Image", "signup.birthdaycollection.image.alt", undefined, true),naturalHeight:48,naturalWidth:48,src:p})}),(0,u.jsx)(n.az,{marginBottom:2,children:(0,u.jsx)(n._Y,{align:"center",size:"700",children:d.bt("Enter your date of birth", "Enter your birthdate", "signup.birthdaycollection.title", undefined, true)})}),(0,u.jsx)(n.az,{marginBottom:4,width:310,children:(0,u.jsx)(n.az,{marginBottom:4,children:(0,u.jsx)(n.KJ,{align:"center",children:d.bt("To help keep Pinterest safe, we now require your date of birth. Your date of birth also helps us provide more personalised recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "signup.birthdaycollection.subheader1", undefined, true)})})}),(0,u.jsx)(n.az,{marginBottom:4,width:280,children:(0,u.jsx)(n.A_,{autoComplete:"bday",disabled:j,errorMessage:W,id:"birthday",onChange:({value:e})=>{G(""),E(!e),q(e)},size:"lg",type:"date",value:V||""})}),(0,u.jsx)(n.az,{marginBottom:10,width:280,children:(0,u.jsx)(n.KJ,{align:"center",color:"subtle",children:(0,m.kB)(d)})}),(0,u.jsx)(n.az,{marginBottom:3,width:280,children:(0,u.jsx)(n.$n,{color:"primary",disabled:L,fullWidth:!0,onClick:()=>{((0,D.mY)({event:"submit_birthday",provider:J}),V&&!(0,m.Up)(V,5))?G((0,m.Ln)(d)):$({})},text:d.bt("Create account", "Create account", "signup.birthdaycollection.submit_label", undefined, true)})}),(0,u.jsx)(n.az,{marginBottom:9,marginTop:2,width:340,children:(0,u.jsx)(z.A,{isSignupStep:!0})}),(0,u.jsx)(n.az,{marginBottom:2,children:(0,u.jsx)(C,{layout:"SIGNUP_LARGE",onClick:()=>t(),type:"signupToLogin"})})]})})})};var W=o(440181),G=o(844255);function V({disablePostSignupNextUrl:e,onBackButtonClick:t,nextUrlParam:o,onBirthdayUnderage:i,onOtpRequired:l,registrationCredentials:n}){(0,s.useEffect)(()=>{(0,a.A)("ConsentStepDesktop","/app/packages/desktopLoginModal/ConsentStepDesktop.tsx")},[]);let r=(0,_.A)(),d=(0,G._8)(),{recaptchaV3Token:c,refreshToken:h}=(0,O.c)(),{register:p,viewer:m}=(0,y.Mm)(),[A,w]=(0,s.useState)(!1),[x,b]=(0,s.useState)(""),k="email";switch(n?.signupOptions.type){case"google":k="google";break;case"facebook":k="facebook";break;case"line":k="line";break;case"sso":k="sso"}let z=async({kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:a})=>{w(!0);let s={...n.signupOptions,country:d.country,recaptchaV3Token:c,kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:a},_={};if("email"===n.signupOptions.type){if(n.signupOptions.emailVerificationRequired)return void l({type:"otpSignupViaEmail",signupOptions:{...n.signupOptions,kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:a}});_={first_name:(0,W.A)(n.signupOptions.email||"",d.country),last_name:""}}try{let t={facebook:B.A.FACEBOOK,google:B.A.GPLUS,google_one_tap:B.A.GOOGLE_ONE_TAP,line:B.A.LINE,sso:B.A.SSO,socialSignupWithAge:void 0,consent:void 0}[n.type];(0,D.mY)({event:"signup_api_call_start",provider:k}),await p({...s,..._},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,aux_data:{...(0,P.A)(m.type),...t?{signup_login_method:t}:Object.freeze({})}}}),(0,D.PM)("dweb.consentStep.signup_success"),(0,D.mY)({event:"signup_api_call_success",provider:k}),I.Ay.handleSignupRedirect(o,e)}catch(e){switch(w(!1),(0,D.mY)({event:"signup_api_call_failure",provider:k}),h&&h(),e.api_error_code){case M.AT:(0,D.PM)("dweb.consentStep.signup_error.underage"),f.hZ(g.W$,"1",f.N_(g.W$)),"email"===n.signupOptions.type&&i({email:n.signupOptions.email,birthday:new Date(1e3*n.signupOptions.birthday).toISOString().split("T")[0]});break;case M.YP:(0,D.PM)("dweb.consentStep.signup_error.eu_missing_age"),b(e.message||r.bt("We need to know your age to provide this service to you.", "We need to know your age to provide you this service.", "signup.consentStep.error.missingAge", undefined, true));break;case M.Gx:(0,D.PM)("dweb.consentStep.signup_error.overage"),b(e.message||r.bt("Please enter a valid age to sign up.", "Oops! Please use a valid age to sign up.", "signup.consentStep.error.overage", undefined, true));break;case M.gE:(0,D.PM)("dweb.consentStep.signup_error.invalid_email"),b(r.bt("Your email address is invalid.", "Your email is invalid.", "signup.consentStep.error.invalidEmail", undefined, true));break;case M.n1:(0,D.PM)("dweb.consentStep.signup_error.email_contain_pinterest"),b(r.bt("Please use your name or the name of your brand", "Please stick to your name, or the name of your brand", "signup.consentStep.error.emailContainsPinterest", undefined, true));break;default:(0,D.PM)("dweb.consentStep.signup_error.other"),b(r.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "signup.consentStep.error.other", undefined, true))}}};return(0,u.jsx)(F.A,{isRegistering:A,onBackButtonClick:()=>{t()},onSubmitHandler:z,validationError:x})}function q({inviterAvatarUrl:e,inviterName:t,modalType:o}){(0,s.useEffect)(()=>{(0,a.A)("DwebSPLPBanner","/app/packages/desktopLoginModal/DwebSPLPBanner.tsx")},[]);let i=(0,_.A)(),l="login"===o?(i.bt("Log in to discover ideas with {{ name }}", "Log in to discover ideas with {{ name }}", "dwebSPLPBanner.socialContext.login.header", undefined, true)).replace("{{ name }}",t):(i.bt("Join {{ name }} on Pinterest for more ideas", "Join {{ name }} on Pinterest for more ideas", "dwebSPLPBanner.socialContext.signup.header", undefined, true)).replace("{{ name }}",t);return(0,u.jsxs)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},direction:"column",display:"flex",height:142,justifyContent:"center",width:360,children:[(0,u.jsx)(n.az,{marginBottom:4,children:(0,u.jsx)(h,{name:t,size:"lg",src:e})}),(0,u.jsx)(n._Y,{align:"center",size:"600",children:l})]})}var K=o(87524),J=o(676692),$=o(63661),H=o(624431),Q=o(726326),Y=o(608928),X=o(743506),Z=o(305178),ee=o(665003),et=o(455148),eo=o(273485),ei=o(668014),ea=o(457315),es=o(257300),el=o(567176),en=o(446627),er=o(611842),ed=o(760742),ec=o(154325),e_=o(583069),eu=o(601185),eh=o(618243),eg=o(706466),ep=o(971289),em=o(425354),ef=o(199664),eA=o(734696);function ey(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let ew=(0,s.lazy)(()=>o.e("53815").then(o.bind(o,434602))),ex="emailpwdstep";class eb extends s.Component{constructor(e){super(e),ey(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e(!1),this.setState({accountRecoveryModalType:H.h[M.PI]})}),ey(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),ey(this,"setLoadingState",e=>{let{loadingIndicatorCallback:t,showSignupWelcomeLoadingFn:o}=this.props;return o&&!1===e&&o(!1),t(e)}),ey(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:t}=this.props,o=await t(e??"");this.setState({exchangeCodeToTokenUrl:o.exchangeCodeToTokenUrl??"",isSsoEmail:o.isSso,existingUserSso:!!o.existingUser,existingUserIsSso:!!o.existingUserIsSso,ssoAuthorizationUri:o.authorizationUri??""})}),ey(this,"debouncedCheckIfSsoUser",(0,$.A)(async e=>{(0,ef.A)(e??"",[(0,eA.mg)({message:"invalid email"}),(0,eA.Ps)({message:"invalid email"})])?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),ey(this,"handleEmailChange",e=>{this.props.setEmail(e.target.value),this.setState({hideFBGoogleToolTip:!0}),this.props.setEmailErrorForMagicLink?.(""),this.debouncedCheckIfSsoUser(e.target.value)}),ey(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setEmailErrorForMagicLink?.(""),this.props.setPassword(e.target.value)}),ey(this,"handleEmailSignUp",e=>{let{authenticateWithSso:t,email:o,navigate:i,handleSsoRedirect:a,i18n:s}=this.props,{isSsoEmail:l,exchangeCodeToTokenUrl:n,existingUserSso:r,existingUserIsSso:d,ssoAuthorizationUri:c}=this.state;if(l)if(r){if(d){this.props.logContextEvent({event_type:102,view_parameter:3271,element:14367}),t({callbacks:{success:e=>{let{authCode:t,state:o}=e,{container:i,email:a,login:s,pageContext:l}=this.props;if(a&&t){let e={sso_user_email:a,sso_auth_code:t,sso_state:o};s({creds:e,loggingOptions:{loggingData:{container:i,page:l?.pageType,component:"EmailPasswordStep"},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(()=>this.handleLoginSuccess(e),t=>{(0,D.PM)(`unauth.login.sso.loginError.${ex}`,{code:t.api_error_code,message:t.message}),this.handleLoginFailure(t,e)})}},error:e=>{(0,D.PM)(`unauth.login.sso.error.${ex}`,{code:e.api_error_code,message:e.message}),(0,Y.Q)(s.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "emailPasswordStep.errorMessage.sso.login", undefined, true)),this.setLoadingState(!1)}},exchangeCodeToTokenUrl:n,isLogin:!0,modalUrl:c??""});return}}else{a&&a(),(0,ed.K)(o,i);return}(0,D.PM)("unauth_email_validation_attempt"),this.props.trackInteraction({action:"click",item:"email-signup-button"});let _=(0,ef.A)(this.props.email??"",this.emailValidators);if(_)this.setState({emailValidationError:_}),(0,D.PM)(`unauth.login.error.CLIENT_ERROR.malformemail.${ex}`);else{let t=(0,ef.A)(this.props.password??"",this.asciiValidators);t&&(this.setState({passwordValidationError:t}),(0,D.PM)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${ex}`)),(_=(0,ef.A)(this.props.password??"",this.loginPasswordValidators))?(this.setState({passwordValidationError:_}),(0,D.PM)(`unauth.login.error.CLIENT_ERROR.malformpwd.${ex}`)):(this.setState({passwordValidationError:null}),this.validateEmailAvailable(e)),this.setState({emailValidationError:null}),this.props.setNameFromEmail()}}),ey(this,"register",({birthday:e,progressToken:t},o)=>{let{container:i,email:a,name:s,pageContext:l,password:n,onBirthdayUnderage:r,requestContext:d,signupSource:c,register:_,i18n:u}=this.props,h={type:"email",birthday:e,email:a,password:n,country:d.country,first_name:s,last_name:"",recaptchaV3Token:this.props.recaptchaV3Token||"default"};o?.current&&(h.fingerprintData=o),t&&(h.progress_token=t);let p={container:i,page:l?.pageType,signupSource:c};(0,D.mY)({event:"signup_api_call_start",provider:"email"}),_(h,{signupContext:p,signupAttemptContextEvent:this.signupLoginContextEvent(7537)}).then(()=>{let{showResponseMessageModal:e}=this.props;(0,D.PM)("unauth.signup_one_step.completed"),(0,D.mY)({event:"signup_api_call_success",provider:"email"}),e?e(!0):I.Ay.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl)},e=>{if(this.setLoadingState(!1),!(0,ea.A)(e,"isArkoseChallengeRequired"))switch((0,D.mY)({event:"signup_api_call_failure",provider:"email"}),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),(0,ea.A)(e,"api_error_code")){case M.AT:f.hZ(g.W$,"1"),r?r({birthday:this.props.birthday,email:a}):this.showUnderAgeError((0,ea.A)(e,"message"));break;case M.YP:this.setState({birthdayValidationError:(0,ea.A)(e,"message")||u.bt("We need to know your age to provide this service to you.", "We need to know your age to provide you this service.", "userRegistration.missingAgeError", undefined, true)});break;case M.Gx:this.setState({birthdayValidationError:(0,ea.A)(e,"message")||u.bt("Please enter a valid age to sign up.", "Oops! Please use a valid age to sign up.", "userRegistration.overageError", undefined, true)});break;case M.gE:(0,D.PM)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:u.bt("Your email address is invalid.", "Your email is invalid.", " - ", undefined, true)});break;case M.n1:(0,D.PM)("unauth_show_invalid_email_contains_pinterest"),this.setState({emailValidationError:u.bt("Please use your name or the name of your brand", "Please stick to your name, or the name of your brand", " - ", undefined, true)});break;default:(0,Y.Q)(u.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true))}})}),ey(this,"checkEmailExistsWithCompletion",async({birthday:e,email:t,handleEmailExists:o,handleEmailNotExist:i,handleError:a})=>{let{i18n:s,isDesktop:l,checkExperiment:n}=this.props;try{let a=e?(0,A.A)(e):void 0,{progressToken:r,userExists:d,fieldsValidationResponse:c}=await (0,en.A)({email:t,birthday:a,checkExperiment:n,isDesktop:l});if(this.setState({emailValidationError:null}),d)o();else{if(c){let{birthdate:e,email:o}=c;if(!o.isValid){this.setLoadingState(!1),(0,D.PM)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:s.bt("Your email address is invalid.", "Your email is invalid.", " - ", undefined, true)});return}if(e&&!e.isValid){let{isUnderage:o}=e;if(o){f.hZ(g.W$,"1");let{onBirthdayUnderage:e}=this.props;e?e({birthday:this.props.birthday,email:t}):(this.setLoadingState(!1),this.showUnderAgeError());return}this.setLoadingState(!1),this.setState({birthdayValidationError:s.bt("Please enter a valid age to sign up.", "Oops! Please use a valid age to sign up.", "userRegistration.overageError", undefined, true)});return}}i({emailVerificationRequired:c?.email.isOTPRequired??!1,progressToken:r,skipMailgunValidation:!!c})}}catch(t){let e=s.bt("Hmm...that doesn't look like an email address", "Hmm...that doesn't look like an email address", " - ", undefined, true);(0,ea.A)(t,"api_error_code")===M.GL?e=(0,ea.A)(t,"message"):(0,ef.A)(this.props.email,this.asciiValidators)&&(0,D.PM)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${ex}`),this.setState({emailValidationError:e}),a?.()}}),ey(this,"checkEmailValidation",async e=>{let{i18n:t,showToast:o}=this.props;if((0,eo.A)(e)||(0,eo.C)(e,"yahoo")||(0,eo.C)(e,"hotmail"))return void this.setState({emailValidationError:t.bt("Sorry, this doesn't look like a valid email address", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)});try{let{data:o}=(await (0,es.A)({url:"/v3/email/validation/",data:{email:e}})).resource_response||{};o&&o.is_valid?this.setState({emailValidationError:null}):this.setState({emailValidationError:t.bt("Sorry, this doesn't look like a valid email address", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)})}catch(e){e?.message?o(({hideToast:t})=>(0,u.jsx)(el.A,{duration:3e3,onHide:t,text:e.message||"",type:"error"})):(0,D.PM)(`unauth.login.error.${ex}.ERROR${e.api_error_code}`)}}),ey(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),ey(this,"renderSignupForm",()=>{let{birthday:e,email:t,emailErrorForMagicLink:o,i18n:i,onBirthdayChange:a,password:s,suppressFocus:l,viewType:r,viewParameter:d,component:c,attributionLabel:_,trackConversionUpsell:h,emailSignUpButtonSize:p}=this.props,{birthdayValidationError:A,isSsoEmail:y,existingUserSso:w,existingUserIsSso:x}=this.state,b=y&&(!w||w&&x),P=(0,m.Ln)(i);return this.state.showRegisterForm?(0,u.jsx)(Z.A,{attributionLabel:_,buttonText:b?i.bt("Continue with SSO", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true):i.bt("Continue", "Continue", "Continue button on web", undefined, true),buttonTextLabel:i.bt("Continue creating your Pinterest account", "Continue creating your Pinterest account", "Accessiblity button text to continue creating an account", undefined, true),component:c,email:t,emailFieldHasError:this.state.emailFieldHasError,emailLabel:i.bt("Continue with email", "Continue with email", "Sign up button", undefined, true),emailText:i.bt("Email address", "Email", "Text on button asking for email", undefined, true),emailValidationError:o||this.state.emailValidationError,isSsoEmail:b,onButtonClick:(t,o)=>{"1"===f.Jt(g.W$)?this.showUnderAgeError():e&&!(0,m.Up)(e,5)?this.setState({birthdayValidationError:P}):(this.setState({googleValidationError:null,hideFBGoogleToolTip:!1}),this.handleEmailSignUp(o))},onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:s??"",passwordText:i.bt("Create a password", "Create a password", "Text asking the user to create a password while registering", undefined, true),passwordValidationError:this.state.passwordValidationError,signupForm:{birthdayProps:{birthday:e,birthdayValidationError:A,disabled:"1"===f.Jt(g.W$),setBirthdayValidationError:e=>this.setState({birthdayValidationError:e}),onBirthdayChange:a},checkEmailExistsWithCompletion:this.checkEmailExistsWithCompletion,checkEmailValidation:this.checkEmailValidation,registerRestricted:"1"===f.Jt(g.W$)},suppressFocus:l,viewParameter:d,viewType:r}):(0,u.jsx)(n.az,{"data-test-id":"emailSignUpButton",children:(0,u.jsx)(n.$n,{color:"primary",fullWidth:!0,onClick:()=>{h({element:13506,eventType:14689}),(0,D.uq)("signup_email_button"),this.props.trackInteraction({action:"click",item:"email-signup-button",within:"bottom-right-upsell"}),this.props.onEmailContinueClick?.(),this.setState({showRegisterForm:!0})},size:p,text:i.bt("Continue with email", "Continue with email", "Text on the sign up button for signing up with email", undefined, true)})})}),ey(this,"showUnderAgeError",e=>{let{i18n:t}=this.props;this.setState({birthdayValidationError:e||t.bt("Sorry, you’re not eligible to sign up for Pinterest just now.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Error message shown when underage user tries to register", undefined, true)})});let t=new URLSearchParams(e.location.search),o=parseFloat(t.get("aec")||"0");t.delete("aec"),t.size>0&&`?${t.toString()}`!==e.location.search&&e.navigate(e.location.pathname+"?"+t.toString(),{replace:!0}),this.state={accountRecoveryModalType:o===M.WT||o===M.k8?I.ew.SOFT_BANNED:null,birthdayValidationError:null,emailFieldHasError:!1,emailValidationError:null,googleValidationError:null,passwordValidationError:null,showRegisterForm:["closeupGradientUpsell","home_page","lopBoardUpsell","lopDownloadUpsell"].includes(this.props.container??""),hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:i}=e;this.emailValidators=[(0,eA.mg)({message:i.bt("You missed a bit! Don't forget to add your email address.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true)}),(0,eA.Ps)({message:i.bt("That doesn't look like an email address.", "Hmm...that doesn't look like an email address.", " - ", undefined, true)})];let a=i.bt("Your password is too short. It needs to be 6+ characters.", "Your password is too short! You need 6+ characters.", " - ", undefined, true),s=i.bt("Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "EmailPasswordStep.password.onlyASCII", undefined, true);this.requireBirthdayValidatorMessage=i.bt("You missed a bit. Don’t forget to add your birthday.", "You missed a spot. Don’t forget to add your birthday.", "signup.emailpasswordstep.birthday.require.validator_message", undefined, true);let l=i.bt("Invalid date", "Invalid date", "signup.emailpasswordstep.birthday.validator_message", undefined, true);this.asciiValidators=[(0,eA.Ji)({message:s})],this.loginPasswordValidators=[(0,eA.mg)({message:a}),(0,eA.Ji)({message:s}),(0,eA.RU)({min:6,minErrorString:a})],this.birthdayValidators=[(0,eA.mg)({message:this.requireBirthdayValidatorMessage}),(0,eA.A3)({date:new Date(new Date().getFullYear(),0,1),message:l})]}componentDidMount(){(0,a.A)("EmailPasswordStep","/app/packages/desktopLoginModal/EmailPasswordStep.tsx"),this.props.email&&this.checkIfSsoUser()}handleLoginFailure(e,t){let{setPassword:o,email:i,onLoginWithMfa:a,i18n:s}=this.props;if(e.isArkoseChallengeRequired)return void this.setLoadingState(!1);let l=429===e.http_status?429:e.api_error_code;if(l===M.NS)return void I.Ay.handleLoginMfa(t,{phoneNumberEnd:e.data?.phone_number_end},a);let n=(0,er.A)({error:e,source:"emailPasswordStep",onClickPasswordReset:()=>{this.props.trackInteraction({action:"click",item:"password-reset-link"}),(0,es.A)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i,type:"reset"}}).then(()=>this.updateAccountRecoveryModal(I.ew.PASSWORD_RESET_SENT))}});n?(this.setState({...n,accountRecoveryModalType:l?H.h[l]:void 0}),n.passwordValidationError&&o("")):(0,Y.Q)(s.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setLoadingState(!1)}handleLoginSuccess(e){I.Ay.storeLoginCredentialsToBrowser(e);let{showResponseMessageModal:t}=this.props;t?t(!1):this.props.nextUrlParam?I.Ay.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}signupLoginContextEvent(e){let{viewer:t}=this.props,{isSsoEmail:o,existingUserSso:i,existingUserIsSso:a}=this.state;return{event_type:e,aux_data:{...(0,P.A)(t.type),signup_login_method:o&&(!i||i&&a)?B.A.SSO:B.A.EMAIL}}}validateEmailAvailable(e){let{birthday:t,container:o,email:i,login:a,pageContext:s,password:l}=this.props;this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),this.setLoadingState(!0),this.checkEmailExistsWithCompletion({email:i,birthday:t,handleEmailExists:()=>{let t={username_or_email:i,password:l??""};a({creds:t,loggingOptions:{loggingData:{container:o,page:s?.pageType,component:"EmailPasswordStep"},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default",fingerprintData:e}).then(()=>this.handleLoginSuccess(t),e=>this.handleLoginFailure(e,t))},handleEmailNotExist:async({emailVerificationRequired:t,progressToken:o,skipMailgunValidation:a})=>{a||await this.checkEmailValidation(i);let{birthday:s,password:l,isConsentStepNeeded:n,onConsentStepNeeded:r,onOtpRequired:d}=this.props;if(this.setLoadingState(!1),this.state.emailValidationError)return;let c=await this.props.getPasswordValidationRules({username:(0,e_.H7)(i)}),_=await (0,ef.X)(l??"",c);if(_){this.setState({passwordValidationError:_}),(0,D.PM)(`unauth.login.error.CLIENT_ERROR.malformpwd.${ex}`);return}let u=(0,ef.A)(s||"",this.birthdayValidators);if(u){(0,D.PM)(`unauth.login.error.CLIENT_ERROR.invalidbirthday.${ex}`),this.setState({birthdayValidationError:u});return}let h=s?(0,A.A)(s):void 0;void 0===h?this.setState({birthdayValidationError:this.requireBirthdayValidatorMessage}):(0,eo.A)(i)?this.setState({emailFieldHasError:!0}):(this.setState({emailValidationError:null}),(0,D.PM)("unauth.signup_step_1.completed"),n&&r)?r({type:"consent",signupOptions:{type:"email",email:i,password:l,birthday:h,emailVerificationRequired:t,progressToken:o}}):t?d({type:"otpSignupViaEmail",signupOptions:{type:"email",email:i,password:l,birthday:h,progress_token:o}}):this.register({birthday:h,progressToken:o},e)}})}render(){let{additionalChildren:e,container:t,email:o,loadingIndicatorCallback:i,nextUrlParam:a,onLoginWithMfa:l,switchToSocialSignupWithAgeFlow:r,showLineConnectButton:d,showResponseMessageModal:c,trackConversionUpsell:_,width:h=268}=this.props,{accountRecoveryModalType:g,googleValidationError:p,hideFBGoogleToolTip:m,showRegisterForm:f}=this.state,A=e=>{_({element:e,eventType:14689})};return(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:h,children:[(0,u.jsx)(H.A,{email:o,modalType:g,onLoginWithMfa:l,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),(0,u.jsxs)(n.az,{children:[this.renderSignupForm(),!!f&&!this.state.isSsoEmail&&(0,u.jsx)(Q.A,{}),!this.state.isSsoEmail&&(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{marginTop:"10px"}},children:[(0,u.jsx)(n.az,{children:(0,u.jsx)(X.A,{container:t,nextUrlParam:a,onClick:()=>{A(13504)},onLoginWithMfa:l,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(I.ew.RATE_LIMITED),showResponseMessageModal:c,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:r},tooltip:!m&&"string"==typeof p&&p||null},f?"register-form-shown":"register-form-hidden")}),d&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(n.az,{height:10}),(0,u.jsx)(ei.A,{name:"SafeSuspense_EmailPasswordStep_LineConnectButton",children:(0,u.jsx)(eh.A,{children:(0,u.jsx)(ew,{container:t,loadingIndicatorCallback:i,nextUrlParam:a,onClick:()=>{A(13507)},onLoginWithMfa:l,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(I.ew.RATE_LIMITED),showResponseMessageModal:c,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:r}})})})]})]})]}),!this.props.hideTermsOfService&&(0,u.jsx)(z.A,{isSignupStep:!0}),e]})}}function eP(e){(0,s.useEffect)(()=>{(0,a.A)("EmailPasswordStep","/app/packages/desktopLoginModal/EmailPasswordStep.tsx")},[]);let{password:t,setPassword:o,birthday:i,setBirthday:n}=e,r=(0,et.rc)(),c=(0,G._8)(),{showToast:h}=(0,eg.CG)(),{register:g,viewer:p}=(0,y.Mm)(),m=(0,ee.A)(),f=(0,d.A)(),A=(0,ep.qJ)(),{viewType:w,viewParameter:x}=(0,J.WQ)(),b=(0,v.A)(),P=(0,_.A)(),{country:k}=c,z=(0,l.zy)(),L=(0,l.Zp)(),{recaptchaV3Token:E,refreshToken:j}=(0,O.c)(),[C,T]=(0,s.useState)(""),{trackConversionUpsell:M}=(0,S.A)(),{checkExperiment:I}=(0,eu.A)(),{authenticateWithSso:R,verifySsoUser:B}=(0,ec.Ay)(),F=(0,em.h)(),{isRequirementEnabled:D}=(0,U.AE)(),N=D({requirementEnum:1,viewType:10}),{isLoadingFingerprintContext:V}=(0,K.e)()??{isLoadingFingerprintContext:!1};return(0,s.useEffect)(()=>{e.loadingIndicatorCallback(V)},[V]),(0,u.jsx)(eb,{...e,attributionLabel:e.attributionLabel,authenticateWithSso:R,birthday:i,checkExperiment:I,getPasswordValidationRules:F,i18n:P,isConsentStepNeeded:N,isDesktop:A,location:z,logContextEvent:f,login:m,name:C,navigate:L,onBirthdayChange:e=>n(e.value),pageContext:r,password:t,recaptchaV3Token:E,refreshRecaptchaV3Token:j,register:g,requestContext:c,setNameFromEmail:()=>T((0,W.A)(e.email,k)),setPassword:o,showLineConnectButton:"JP"===k,showToast:h,trackConversionUpsell:M,trackInteraction:b,verifySsoUser:B,viewer:p,viewParameter:x,viewType:w})}let ek=({onClick:e,zIndex:t})=>{(0,s.useEffect)(()=>{(0,a.A)("FullPageSignupBackButton","/app/packages/desktopLoginModal/FullPageSignupBackButton.tsx")},[]);let o=(0,G._8)(),i=(0,_.A)();return(0,u.jsx)(n.az,{"data-test-id":"full-page-signup-back-button",display:"block",height:40,left:!o.isRTL,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:o.isRTL,top:!0,width:40,zIndex:t?new n.rk(t):void 0,children:(0,u.jsx)(n.K0,{accessibilityLabel:i.bt("Go back", "Go back", "dweb.desktopLoginModal.backButton.accessibilityLabel", undefined, true),icon:"chevron-left",iconColor:"default",onClick:e,size:"md"})})};var ez=o(589053),ev=o(825193),eS=o(101295),eL=o(170052),eE=o(567365);let ej=(void 0!==i||(i=o(189319)).hash&&"5f53c7f6e34730854eb309458abe8f05"!==i.hash&&console.error("The definition of 'FullPageSignupIconPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),eC=({children:e,pinId:t})=>{let o=(0,ev.useLazyLoadQuery)(ej,{pinId:t}),i=o.v3GetPinQuery?.__typename==="V3GetPin"?o.v3GetPinQuery?.data:null,a={"236x":i?.images_236x?.url??""};return e({pinImageUrl:(0,eS.A)({imagesUrls:a,embedSrc:i?.embed?.src,embedType:i?.embed?.type,preferredResolution:"236x",excludeOriginals:!0}),dominantColor:i?.dominantColor??""})},eT=({fallback:e,pinId:t,pinImageUrl:o,iconButton:i})=>{let a=(0,_.A)();return t?(0,u.jsxs)(n.az,{"data-test-id":"signup-image-wrapper",height:80,margin:"auto",position:"relative",width:82,children:[(0,u.jsx)(n.az,{height:72,margin:"auto",marginBottom:6,marginTop:4,width:56,children:(0,u.jsx)(n.n1,{height:72,rounding:200,width:56,children:t&&!o?(0,u.jsx)(eC,{pinId:t,children:({dominantColor:e,pinImageUrl:t})=>(0,u.jsx)(n._V,{alt:a.bt("Save Pin image", "Save pin image", "FullPageSignup.signupImage.savePinImage", undefined, true),color:e||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}):(0,u.jsx)(n._V,{alt:a.bt("Save Pin image", "Save pin image", "FullPageSignup.signupImage.savePinImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})}),!!i&&(0,u.jsx)(n.az,{bottom:!0,position:"absolute",right:!0,children:i})]}):e};function eM({container:e,fallback:t,savePinId:o,savePinImageUrl:i,user:r,signupSource:d}){(0,s.useEffect)(()=>{(0,a.A)("FullPageSignupIcon","/app/packages/desktopLoginModal/FullPageSignupIcon.tsx")},[]);let h=(0,_.A)(),g=(0,eE.A)(),p=(0,l.zy)(),m=(0,v.A)(),f=o||(g.startsWith("/pin/:id")?p.pathname.split("/")[2]:null);switch(e){case"follow":return(0,u.jsx)(n.az,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:8,children:(0,u.jsx)(c.eu,{accessibilityLabel:h.bt("User avatar", "User Avatar", "profile.ProfileHeader.Avatar", undefined, true),color:r?.avatar_color_index,name:r?.full_name??"",outline:!0,size:"md",src:r?.image_large_url??""})});case"save":case"download":return f?(0,u.jsx)(eL.A,{fallback:t,children:(0,u.jsx)(eT,{fallback:t,iconButton:"downloadImageBtnUnauth"===d?(0,u.jsx)(n.n1,{rounding:"circle",children:(0,u.jsx)("div",{"aria-hidden":"true",onClick:()=>{m({action:"click",item:"download-image-button",within:"unauth-signup-modal"})},children:(0,u.jsx)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",backgroundColor:"#e2e2e2",border:"3px solid  var(--sema-color-border-decorative)"}},direction:"column",display:"flex",height:32,justifyContent:"center",rounding:"circle",width:32,children:(0,u.jsx)(n.In,{accessibilityLabel:h.bt("Sign up to download", "Sign up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true),color:"default",icon:"download"})})})}):null,pinId:f,pinImageUrl:i})}):t;default:return t}}var eI=o(550005);function eR({large:e}){return(0,s.useEffect)(()=>{(0,a.A)("FullPageSignupLogo","/app/packages/desktopLoginModal/FullPageSignupLogo.tsx")},[]),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"8px auto 6px"}},display:"block",height:45,width:45,children:(0,u.jsx)(eI.A,{size:e?50:40})})}class eB extends s.Component{constructor(...e){var t,o,i;super(...e),t="componentDidMount",o=()=>{let{container:e,modalType:t}=this.props;(0,D.PM)("web.unauth.modal_title.view"),(0,D.PM)(`unauth_web_modal.${e||"unknown"}.tier1.${t}.shown`)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}render(){let{container:e,titleText:t,visualRefreshTypography:o}=this.props,i="32px",a=600;return o?(i="28px",a=700):"revamped_business_login_page"===e&&(i="28px",a=500),(0,u.jsx)("h1",{style:{color:"#333",fontSize:i,fontWeight:a,letterSpacing:"-1.2px",MozOsxFontSmoothing:"grayscale",padding:"revamped_business_login_page"===e?"0px 0px":"0px 16px",WebkitFontSmoothing:"antialiased",wordBreak:"keep-all",overflowWrap:"break-word"},children:t})}componentDidMount(){(0,a.A)("FullPageSignupTitle","/app/packages/desktopLoginModal/FullPageSignupTitle.tsx")}}var eO=o(812917),eF=o(992456),eD=o(168079);let eU=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:l})=>{(0,s.useEffect)(()=>{(0,a.A)("LineEmailCollectionForm","/app/packages/desktopLoginModal/LineEmailCollectionForm.tsx")},[]);let r=(0,_.A)();(0,eD.A)(()=>{(0,D.PM)("unauth.line_missing_email.email_step")}),r.bt("We use your email address for account creation and for important security and legal notices.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let d=r.bt("We're unable to create your account without your email address. To continue, make sure you provide an email address to create your account.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,u.jsx)(n.az,{marginTop:3,children:(0,u.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),l()},children:[(0,u.jsx)(n.KJ,{align:"start",overflow:"normal",children:d}),(0,u.jsx)(n.az,{marginBottom:5,marginTop:3,children:(0,u.jsx)(n.A_,{ref:eF.A,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:r.bt("Email address", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,u.jsx)(n.$n,{color:"primary",disabled:!e,fullWidth:!0,text:r.bt("Continue", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,u.jsx)(n.az,{marginTop:2}),(0,u.jsx)(n.$n,{fullWidth:!0,onClick:()=>{(0,D.PM)("unauth.line_missing_email.email_step.not_now_click"),o&&o()},text:r.bt("Not now", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})},eN=({nextUrlParam:e,loadingIndicatorCallback:t,showEmailAlreadyExistModal:o,onNotNowClick:i,registrationCredentials:l,showSocialSignupWithAgeStep:r})=>{(0,s.useEffect)(()=>{(0,a.A)("LineEmailCollection","/app/packages/desktopLoginModal/LineEmailCollection.tsx")},[]);let d=(0,y.Mm)(),c=(0,_.A)(),h=(0,ep.qJ)(),[g,p]=(0,s.useState)(""),[m,f]=(0,s.useState)(""),{checkExperiment:A}=(0,eu.A)();return(0,eD.A)(()=>{t(!1)}),(0,u.jsx)(n.az,{marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,width:268,children:(0,u.jsx)(eU,{email:g,emailError:m,handleEmailChange:({value:e})=>p(e),handleSubmit:()=>{if((0,D.PM)("unauth.line_missing_email.submit_email"),!g)return void f(c.bt("Email address is required", "Email is required", "email error message", undefined, true));(0,D.PM)("unauth.line_missing_email.submit_email");let{register:i}=d,a=[(0,eA.Ps)({message:c.bt("Hmm... that doesn't look like an email address.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],s=(0,ef.A)(g,a);if(s){(0,D.PM)("unauth.line_missing_email.email_validation_failure"),f(s);return}let{type:n,signupOptions:_}=l;(0,en.A)({email:g,checkExperiment:A,isDesktop:h}).then(({userExists:a})=>{if(a){o({email:g}),(0,D.PM)("unauth.line_missing_email.email_existed");return}t(!0);let{birthday:s}=_;void 0===s?(r({type:n,signupOptions:{..._,email:g}}),t(!1)):i({..._,email:g,birthday:s},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(()=>{t(!1),I.Ay.handleSignupRedirect(e||I.Ay.defaultSocialLoginRedirectUrl(),!0),(0,D.PM)("unauth.line_missing_email.signup_success")},e=>{t(!1),f(e.message||c.bt("Something went wrong… Click 'Continue' to try again.", "Oops! Something went wrong… Click Continue to try again.", "unauth.lineEmailCollect.error", undefined, true)),(0,D.PM)("unauth.line_missing_email.signup_failure")})},e=>{f((0,ea.A)(e,"api_error_code")===M.GL?(0,ea.A)(e,"message")??"":c.bt("Hmm... that doesn't look like an email address.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)),(0,D.PM)("unauth.line_missing_email.email_exist_api_call_failure")})},onNotNowClick:i})})};var eW=o(579348),eG=o(586733),eV=o(348681),eq=o(314174),eK=o(542975),eJ=o(916716);let e$=function({container:e="unknown",creds:t,isAccountSwitch:o,nextUrlParam:i,phoneNumberEnd:a}){let[l,r]=(0,s.useState)(null),[d,c]=(0,s.useState)(""),[h,g]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),{isAuthenticated:f,loginState:A}=(0,G._8)(),y=(0,_.A)(),w=(0,et.rc)(),x=(0,ee.A)(),b={container:e,page:w?.pageType,component:"LoginMfa"},{logContextEvent:P}=(0,eG.o)();(0,eV.r)({view_type:565,view_parameter:3731}),(0,s.useEffect)(()=>{!o&&I.Ay.isFullyLoggedIn(f,A)&&I.Ay.handleRedirect(i)},[]);let z=y.bt("Continue", "Continue", " - ", undefined, true);return(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"18px auto"}},width:268,children:[h&&(0,u.jsx)(eJ.A,{rounding:8}),(0,u.jsx)(n.az,{paddingY:6,children:(0,u.jsx)(n.KJ,{align:"center",size:"200",children:a?(0,eK.vQ)(y.bt("Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.", "Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.", " - ", undefined, true),{phoneNumberEnd:(0,u.jsx)(n.KJ,{inline:!0,weight:"bold",children:a},"phone")}):y.bt("Please check your phone for a code and enter it in the field below to log in.", "Please check your phone for a code and enter it in the field below to log in.", " - ", undefined, true)})}),(0,u.jsxs)("form",{method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),P({view_type:565,view_parameter:3731,event_type:101,element:12019});let o=(0,ef.A)(d??"",[(0,eA.mg)({message:y.bt("You missed a bit! Don't forget to add your verification code.", "You missed a spot! Don't forget to add your verification code.", " - ", undefined, true)}),(0,eA.Kg)({message:y.bt("Hmm...that doesn't look like a verification code.", "Hmm...that doesn't look like a verification code.", " - ", undefined, true)})]);o?(r(o),(0,D.PM)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(r(null),g(!0),x({creds:{...t,mfa_token:d},loggingOptions:{loggingData:b,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{P({view_type:565,view_parameter:3731,event_type:9992});let e=window.location.pathname===k.UU5||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname;I.Ay.handleRedirect(i||e)},e=>{let t=(0,ea.A)(e,"message");t?r(t):(0,Y.Q)(y.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),g(!1)}))},children:[(0,u.jsx)(eq.A,{autoComplete:"off",focused:!0,hasError:!!l,id:"mfaCode",name:"code",onChange:e=>c(e.target.value),placeholder:y.bt("Verification code", "Verification code", " - ", undefined, true),tooltip:l,type:"text",value:d}),(0,u.jsx)(n.az,{height:10}),(0,u.jsx)(n.$n,{accessibilityLabel:z,color:"primary",fullWidth:!0,text:z,type:"submit"})]}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{marginTop:"15px",color:"#333"}},children:(0,eK.vQ)(y.bt("If you didn't get it, we can {{ resendCode }}.", "If you didn't get it, we can {{ resendCode }}.", " - ", undefined, true),{resendCode:(0,u.jsx)(n.N_,{display:"inlineBlock",href:"",onClick:({event:e,dangerouslyDisableOnNavigation:o})=>{o(),e.preventDefault(),P({view_type:565,view_parameter:3731,event_type:101,element:12920}),g(!0),x({creds:{...t,mfa_resend:!0},loggingOptions:{loggingData:b,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{g(!1),m(!0)},e=>{g(!1);let t=(0,ea.A)(e,"message");t?r(t):(0,Y.Q)(y.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true))})},underline:"hover",children:(0,u.jsx)(n.KJ,{size:"100",weight:"bold",children:y.bt("resend the code", "resend the code", " - ", undefined, true)})},"code")})}),p&&(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,u.jsx)(el.A,{duration:5e3,onHide:()=>m(!1),text:y.bt("We have sent you a new code.", "We sent you a new code!", "login2fa.resendCode.success", undefined, true)})})]})};function eH({email:e}){(0,s.useEffect)(()=>{(0,a.A)("MagicLinkResendFooter","/app/packages/desktopLoginModal/MagicLinkResendFooter.tsx")},[]);let t=(0,_.A)(),{showToast:o}=(0,eg.CG)(),i=async()=>{try{(0,D.PM)("dweb.desktop_login_modal.magic_link.resend_link.request"),await (0,es.A)({url:"/v3/users/magic_link/",method:"POST",data:{email:e}}),(0,D.PM)("dweb.desktop_login_modal.magic_link.resend_link.success"),o(({hideToast:e})=>(0,u.jsx)(el.A,{onHide:e,text:t.bt("Email sent!", "Email sent!", "desktopLoginModal.magicLinkResend.successToast", undefined, true)}))}catch(i){let e=(0,ea.A)(i,"api_error_code");(0,D.PM)(`dweb.desktop_login_modal.magic_link.resend_link.error.${e}`),o(({hideToast:e})=>(0,u.jsx)(el.A,{onHide:e,text:(0,ea.A)(i,"message")??t.bt("Something went wrong. Please try again.", "Something went wrong. Please try again.", "desktopLoginModal.magicLinkResend.errorToast", undefined, true)}))}};return(0,u.jsx)(n.az,{marginTop:4,paddingX:2,children:(0,u.jsx)(n.so,{alignItems:"center",direction:"row",justifyContent:"center",children:(0,u.jsx)(n.KJ,{align:"center",inline:!0,size:"200",children:(0,eK.vQ)(t.bt("Need a new link? {{resendLink}}", "Need a new link? {{resendLink}}", "desktopLoginModal.magicLinkResend.needNewLink", undefined, true),{resendLink:(0,u.jsx)(n.az,{display:"inlineBlock",marginStart:1,children:(0,u.jsx)(n.Rp,{onTap:()=>{i(),(0,D.PM)("dweb.desktop_login_modal.magic_link.resend_link.click")},children:(0,u.jsx)(n.KJ,{inline:!0,size:"200",underline:!0,children:t.bt("Resend link", "Resend link", "desktopLoginModal.magicLinkResend.resendLink", undefined, true)})})})})})})})}var eQ=o(105151),eY=o(199725),eX=o(986716);let eZ=({handleCloseButtonClick:e,loginFormOptions:t,setSignupFlow:o,setEmailErrorForMagicLink:i,magicLinkPrimaryExpGroup:l,children:r,hideLogo:d})=>{(0,s.useEffect)(()=>{(0,a.A)("MagicLinkLoginForm","/app/packages/desktopLoginModal/MagicLinkLoginForm.tsx")},[]);let c=(0,_.A)(),h=(0,ep.qJ)(),{container:g,titleText:p,currentStep:m,showCloseIcon:f,setCurrentStep:A,loginEmail:y}=t,[x,b]=(0,s.useState)(!0),[P,k]=(0,s.useState)(y||""),[z,v]=(0,s.useState)(""),{checkExperiment:S}=(0,eu.A)(),{showToast:L}=(0,eg.CG)(),{checkEmailBounce:E}=(0,eY.A)(P,"magic_link_email_send"),j=c.bt("Sorry, this doesn't look like a valid email address", "Sorry, this doesn't look like a valid email", "dweb.desktop_login_modal.magic_link_email_input.chan_error", undefined, true),C="emailInput"!==m||!S("dweb_unauth_magic_link_login_primary",{dangerouslySkipActivation:!0}).anyEnabled,T=(0,u.jsxs)(n.az,{padding:3*("emailInput"!==m),children:[C&&(0,u.jsx)(ek,{onClick:()=>{(0,D.PM)(`dweb.desktop_login_modal.magic_link.back_button.${m}`),"emailSent"===m?l.startsWith("enabled_pwd")?A("emailPassword"):A("emailInput"):(o({type:"login"}),l?A("emailInput"):A("login"))}}),f&&(0,u.jsx)(ez.A,{onClick:()=>{e?.(),(0,D.PM)(`dweb.desktop_login_modal.magic_link.close_button.${m}`)}})]}),I=async()=>{try{(0,D.PM)("dweb.desktop_login_modal.magic_link.check_user_request");let{userExists:e}=await (0,en.A)({email:P,checkExperiment:S,isDesktop:h});e?((0,D.PM)("dweb.desktop_login_modal.magic_link_email_exists.found"),o({type:"login",email:P}),A("emailPassword")):((0,D.PM)("dweb.desktop_login_modal.magic_link_email_exists.not_found"),v(c.bt("The email address you entered does not belong to an account.", "The email you entered does not belong to any account.", "dweb.desktop_login_modal.magic_link_email_form.email_not_found", undefined, true)))}catch(e){(0,D.PM)(`dweb.desktop_login_modal.magic_link_email_exists.error.${(0,ea.A)(e,"api_error_code")}`)}},R=async()=>{try{(0,D.PM)("dweb.desktop_login_modal.magic_link_email_send.request"),await (0,es.A)({url:"/v3/users/magic_link/",method:"POST",data:{email:P}}),o({type:"loginMagicLink",email:P}),A("emailSent"),(0,D.PM)("dweb.desktop_login_modal.magic_link_email_send.success")}catch(t){let e=(0,ea.A)(t,"api_error_code");(0,D.PM)(`dweb.desktop_login_modal.magic_link_email_send.error.${e}`),e===M.gE?v(c.bt("Can’t find an account with that email address. Try again", "Can’t find an account with that email. Try again", "error.desktop_login_modal_magic_link.user_not_found", undefined, true)):e===M.l4?(L(({hideToast:e})=>(0,u.jsx)(eQ.A,{duration:w.Sk,onHide:e,text:c.bt("Magic link isn’t supported for accounts using two-factor authentication. Try another login method", "Magic link isn’t supported for accounts using two-factor authentication. Try another login method", "error.desktop_login_modal_magic_link.mfa_not_supported", undefined, true),zIndex:w.Gj})),o({type:"login",email:P}),A("select")):v((0,ea.A)(t,"message")??c.bt("Something went wrong at our end. Please try again.", "Something went wrong on our end, please try again", "error.desktop_login_modal_magic_link.generic", undefined, true))}};return(0,eD.A)(()=>{(0,D.PM)("dweb.desktop_login_modal.magic_link_email_form.view")}),(0,u.jsxs)(n.az,{children:[T,!d&&(0,u.jsx)(eR,{}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{...eO.S7}},width:["login_page","revamped_business_login_page"].includes(g)?void 0:400,children:(0,u.jsx)(eB,{container:g,modalType:"loginMagicLink",titleText:"emailSent"===m?c.bt("Check your email", "Check your email", "desktopLoginModal.magicLinkSent.title", undefined, true):p,visualRefreshTypography:d})}),(0,u.jsxs)(n.az,{marginBottom:"emailInput"===m?4:2,marginEnd:"auto",marginStart:"auto",marginTop:-2,width:270,children:[(0,u.jsxs)(n.KJ,{align:"center",inline:!0,size:"300",children:["emailSent"===m&&(0,eK.vQ)(c.bt("A one-time link was sent to {{ userEmail }}", "A one-time link was sent to {{ userEmail }}", "desktopLoginModal.magicLinkSent.description", undefined, true),{userEmail:(0,u.jsx)(n.KJ,{inline:!0,weight:"bold",children:P})}),"emailInput"===m&&c.bt("Enter your account email address and we’ll send a one-time link", "Enter your account email and we’ll send a one-time link", "desktopLoginModal.magicLinkEmail.description", undefined, true)]}),"emailSent"===m&&(l.startsWith("enabled_pwd")||!l)&&(0,u.jsx)(eH,{email:P||""})]}),"emailInput"===m&&(0,u.jsx)("form",{"data-test-id":"magicLinkRequestForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),(0,D.PM)("dweb.desktop_login_modal.magic_link.continue_click"),(P&&(0,eX.Ay)(P)||(v(j),b(!0),(0,D.PM)("dweb.desktop_login_modal.magic_link_email_input.regex_error"),0))&&(!l||l.startsWith("enabled_auto")?R():I(),E())},children:(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"8px auto"}},width:268,children:[S("dweb_unauth_login_signup_form_vr").anyEnabled?(0,u.jsx)(n.az,{marginBottom:l.startsWith("enabled_auto")?4:8}):(0,u.jsx)(n.az,{marginBottom:1,marginStart:2,children:(0,u.jsx)(n.JU,{htmlFor:"email",children:(0,u.jsx)(n.KJ,{align:"start",size:"200",children:c.bt("Email address", "Email", "registerForm.label.email", undefined, true)})})}),(0,u.jsx)(n.az,{"data-test-id":"emailInputField",marginBottom:4,children:(0,u.jsx)(eq.A,{autoComplete:"email",focused:!0,hasError:!!z,id:"magic link email",inputLabel:c.bt("Email address", "Email", "desktopLoginModal.magicLinkEmail.label", undefined, true),label:c.bt("Email address", "Email", "desktopLoginModal.magicLinkEmail.label", undefined, true),name:"id",onBlur:()=>{(0,D.PM)("dweb.desktop_login_modal.magic_link_email_input.blur")},onChange:e=>{let t=e.target.value.trim();(0,D.PM)("dweb.desktop_login_modal.magic_link_email_input.change"),k(t),v(""),i(""),b(""===t)},onFocus:()=>{b(""===P.trim())},placeholder:c.bt("Enter your email address", "Enter your email", "desktopLoginModal.magicLinkEmail.placeholder", undefined, true),tooltip:z,type:"email",value:P})}),(0,u.jsx)(n.az,{"data-test-id":"registerFormSubmitButton",marginTop:2,children:(0,u.jsx)(n.$n,{accessibilityLabel:c.bt("Button to send magic link email", "Button to send magic link email", "desktopLoginModal.magicLinkEmail.buttonAccessibilityLabel", undefined, true),color:"primary",disabled:x,fullWidth:!0,onClick:()=>{(0,D.PM)("dweb.desktop_login_modal.magic_link_email_send.click")},size:"lg",text:c.bt("Continue", "Continue", "desktopLoginModal.magicLinkEmail.continue", undefined, true),type:"submit"})})]})}),r]})};function e0({email:e}){(0,s.useEffect)(()=>{(0,a.A)("OneTimeCodeResendFooter","/app/packages/desktopLoginModal/OneTimeCodeResendFooter.tsx")},[]);let t=(0,_.A)(),{showToast:o}=(0,eg.CG)(),i=async()=>{try{(0,D.PM)("dweb.desktop_login_modal.otp.resend_code.request"),await (0,es.A)({url:"/v3/verifications/send/",method:"POST",data:{channel:"email",recipient:e}}),(0,D.PM)("dweb.desktop_login_modal.otp.resend_code.success"),o(({hideToast:e})=>(0,u.jsx)(eQ.A,{duration:w.Sk,onHide:e,text:t.bt("Code sent!", "Code sent!", "desktopLoginModal.otpResend.successToast", undefined, true),zIndex:w.Gj}))}catch(i){let e=(0,ea.A)(i,"api_error_code");(0,D.PM)(`dweb.desktop_login_modal.otp.resend_code.error.${e}`),o(({hideToast:e})=>(0,u.jsx)(eQ.A,{duration:w.Sk,onHide:e,text:t.bt("Something went wrong. Please try again.", "Something went wrong. Please try again.", "desktopLoginModal.otpResend.errorToast", undefined, true),zIndex:w.Gj}))}};return(0,u.jsx)(n.az,{marginBottom:2,marginTop:4,paddingX:2,children:(0,u.jsxs)(n.so,{alignItems:"stretch",direction:"row",gap:1,justifyContent:"center",children:[(0,u.jsx)(n.KJ,{size:"200",children:t.bt("Need a new code? ", "Need a new code? ", "desktopLoginModal.otpResend.needNewCode", undefined, true)}),(0,u.jsx)(n.Rp,{onTap:()=>{i(),(0,D.PM)("dweb.desktop_login_modal.otp.resend_code.click")},children:(0,u.jsx)(n.so,{children:(0,u.jsx)(n.KJ,{size:"200",underline:!0,children:t.bt("Resend code", "Resend code", "desktopLoginModal.otpResend.resendCode", undefined, true)})})})]})})}let e1=({loadingIndicatorCallback:e,nextUrlParam:t,handleCloseButtonClick:o,loginFormOptions:i,setSignupFlow:l,children:r,hideLogo:d,oneTimeCodeLoginPrimaryExpGroup:c,setOneTimeCodeEmail:h,isOTPLoginV1Enabled:g})=>{(0,s.useEffect)(()=>{(0,a.A)("OneTimeCodeLoginForm","/app/packages/desktopLoginModal/OneTimeCodeLoginForm.tsx")},[]);let p=(0,_.A)(),{container:m,titleText:f,currentStep:A,loginEmail:w,showCloseIcon:x,setCurrentStep:b}=i,[k,z]=(0,s.useState)(!0),[v,S]=(0,s.useState)(w||""),[L,E]=(0,s.useState)(""),[j,C]=(0,s.useState)(""),[T,R]=(0,s.useState)(""),{checkExperiment:O}=(0,eu.A)(),{checkEmailBounce:F}=(0,eY.A)(v,"otp_email_send"),U=(0,ee.A)(),N=(0,et.rc)(),{viewer:W}=(0,y.Mm)(),G=(0,ep.qJ)(),V="emailInput"!==A||!O("dweb_unauth_otp_login_primary",{dangerouslySkipActivation:!0}).anyEnabled,q=(0,u.jsxs)(n.az,{marginBottom:10,children:[V&&(0,u.jsx)(ek,{onClick:()=>{(0,D.PM)(`dweb.desktop_login_modal.otp.back_button.${A}`),"codeInput"===A&&c.startsWith("enabled_pwd")?b("emailPassword"):"emailPassword"===A&&c.startsWith("enabled_auto")?b("codeInput"):"emailInput"===A&&g?(l({type:"login"}),b("login")):(l({type:"loginOtp"}),b("emailInput"))}}),x&&(0,u.jsx)(ez.A,{onClick:()=>{o?.(),(0,D.PM)(`dweb.desktop_login_modal.otp.close_button.${A}`)}})]}),K=p.bt("Sorry, this doesn't look like a valid email address", "Sorry, this doesn't look like a valid email", "dweb.desktop_login_modal.otp_email_input.error", undefined, true),J=async()=>{try{(0,D.PM)("dweb.desktop_login_modal.otp.check_user_request");let{userExists:e}=await (0,en.A)({email:v,checkExperiment:O,isDesktop:G});e?((0,D.PM)("dweb.desktop_login_modal.otp_email_exists.found"),l({type:"loginOtp",email:v}),b("emailPassword")):((0,D.PM)("dweb.desktop_login_modal.otp_email_exists.not_found"),C(p.bt("Can’t find an account with that email address. Try again", "Can’t find an account with that email. Try again", "error.desktop_login_modal_otp.user_not_found", undefined, true)))}catch(t){let e=(0,ea.A)(t,"api_error_code");(0,D.PM)(`dweb.desktop_login_modal.otp_email_exists.error.${e}`),C((0,ea.A)(t,"message")??p.bt("Something went wrong at our end. Please try again or try another login method.", "Something went wrong on our end, please try again or try another login method", "error.desktop_login_modal_otp.generic", undefined, true))}},$=async()=>{try{(0,D.PM)("dweb.desktop_login_modal.otp_email_send.request");let{userExists:e}=await (0,en.A)({email:v,checkExperiment:O,isDesktop:G});if(!e){(0,D.PM)("dweb.desktop_login_modal.otp_email_send.email_not_found"),C(p.bt("Can’t find an account with that email address. Try again", "Can’t find an account with that email. Try again", "error.desktop_login_modal_otp.user_not_found", undefined, true));return}await (0,es.A)({url:"/v3/verifications/send/",method:"POST",data:{channel:"email",recipient:v}}),(0,D.PM)("dweb.desktop_login_modal.otp_email_send.success"),l({type:"loginOtp",email:v}),h?.(v),b("codeInput")}catch(t){let e=(0,ea.A)(t,"api_error_code");(0,D.PM)(`dweb.desktop_login_modal.otp_email_send.error.${e}`),C((0,ea.A)(t,"message")??p.bt("Something went wrong at our end. Please try again or try another login method.", "Something went wrong on our end, please try again or try another login method", "error.desktop_login_modal_otp.generic", undefined, true))}},H=async()=>{(0,D.PM)("dweb.desktop_login_modal.otp_login.attempt"),U({creds:{recipient:v,code:L},loggingOptions:{loggingData:{container:m,page:N?.pageType,component:"OneTimeCodeLoginForm"},loginAttemptContextEvent:{event_type:7534,aux_data:{...(0,P.A)(W.type),signup_login_method:B.A.OTP}}}}).then(()=>{(0,D.PM)("dweb.desktop_login_modal.otp_login.success"),e(!0),I.Ay.handleRedirect(t)},t=>{e(!1);let o=(0,ea.A)(t,"api_error_code");(0,D.PM)(`dweb.desktop_login_modal.otp_login.error.${o}`),o===M.NS?R(p.bt("Login code isn’t supported for accounts using two-factor authentication. Try another login method", "Login code isn’t supported for accounts using two-factor authentication. Try another login method", "error.desktop_login_modal_otp.mfa_not_supported", undefined, true)):R((0,ea.A)(t,"message")??p.bt("Invalid code. Please check your email address and try again", "Invalid code. Please check your email and try again", "error.desktop_login_modal_otp.invalid_code", undefined, true))})};return(0,eD.A)(()=>{(0,D.PM)("dweb.desktop_login_modal.otp_form.view")}),(0,u.jsxs)(n.az,{children:[q,!d&&(0,u.jsx)(eR,{}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{...eO.S7}},width:["login_page","revamped_business_login_page"].includes(m)?void 0:400,children:(0,u.jsx)(eB,{container:m,modalType:"loginOtp",titleText:"codeInput"===A?c.startsWith("enabled_auto")?p.bt("Check your emails", "Check your email", "desktopLoginModal.otpCode.auto.title", undefined, true):p.bt("Enter the code", "Enter the code", "desktopLoginModal.otpCode.title", undefined, true):f,visualRefreshTypography:d})}),(0,u.jsx)(n.az,{marginBottom:"emailInput"===A?4:2,marginEnd:"auto",marginStart:"auto",marginTop:-2,width:270,children:(0,u.jsx)(n.KJ,{align:"center",inline:!0,size:"300",children:(()=>{switch(A){case"codeInput":return(0,eK.vQ)(p.bt("Enter the login code sent to {{ userEmail }}", "Enter the login code sent to {{ userEmail }}", "desktopLoginModal.otpCodeStep.description", undefined, true),{userEmail:(0,u.jsx)(n.KJ,{inline:!0,weight:"bold",children:v},"otp-user-email")});case"emailInput":return c.startsWith("enabled")?"":p.bt("Enter your email address and we’ll send a login code", "Enter your email and we’ll send a login code", "desktopLoginModal.otpEmailStep.description", undefined, true);default:return""}})()})}),"emailInput"===A&&(0,u.jsx)("form",{"data-test-id":"otpEmailRequestForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),(0,D.PM)("dweb.desktop_login_modal.otp.email_continue_click"),(v&&(0,eX.Ay)(v)||(C(K),z(!0),(0,D.PM)("dweb.desktop_login_modal.otp_email_input.regex_error"),0))&&(c.startsWith("enabled_auto")||g?$():J(),F())},children:(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"8px auto"}},width:268,children:[!O("dweb_unauth_login_signup_form_vr").anyEnabled&&(0,u.jsx)(n.az,{marginBottom:1,marginStart:2,children:(0,u.jsx)(n.JU,{htmlFor:"otp-email",children:(0,u.jsx)(n.KJ,{align:"start",size:"200",children:p.bt("Email address", "Email", "registerForm.label.email", undefined, true)})})}),(0,u.jsx)(n.az,{"data-test-id":"otpEmailInputField",marginBottom:4,children:(0,u.jsx)(eq.A,{autoComplete:"email",focused:!0,hasError:!!j,id:"otp-email",inputLabel:p.bt("Email address", "Email", "desktopLoginModal.otpEmail.label1", undefined, true),label:p.bt("Email address", "Email", "desktopLoginModal.otpEmail.label", undefined, true),name:"otp-email",onBlur:()=>{(0,D.PM)("dweb.desktop_login_modal.otp_email_input.blur")},onChange:e=>{let t=e.target.value.trim();(0,D.PM)("dweb.desktop_login_modal.otp_email_input.change"),S(t),C(""),z(""===t)},onFocus:()=>{z(""===v.trim())},placeholder:p.bt("Enter your email address", "Enter your email", "desktopLoginModal.otpEmail.placeholder", undefined, true),tooltip:j,type:"email",value:v})}),(0,u.jsx)(n.az,{"data-test-id":"otpEmailSubmitButton",marginTop:2,children:(0,u.jsx)(n.$n,{accessibilityLabel:p.bt("Button to send OTP email", "Button to send OTP email", "desktopLoginModal.otpEmail.buttonAccessibilityLabel", undefined, true),color:"primary",disabled:k,fullWidth:!0,onClick:()=>{(0,D.PM)("dweb.desktop_login_modal.otp_email_send.click")},size:"lg",text:p.bt("Continue", "Continue", "desktopLoginModal.otpEmail.continue", undefined, true),type:"submit"})})]})}),"codeInput"===A&&(0,u.jsxs)(n.az,{children:[(0,u.jsx)("form",{"data-test-id":"otpCodeVerifyForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),(0,D.PM)("desktop_login_modal.otp_code.submit"),H()},children:(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"8px auto"}},width:268,children:[O("dweb_unauth_login_signup_form_vr").anyEnabled?(0,u.jsx)(n.az,{marginBottom:3}):(0,u.jsx)(n.az,{marginBottom:1,marginStart:2,children:(0,u.jsx)(n.JU,{htmlFor:"otp-code",children:(0,u.jsx)(n.KJ,{align:"start",size:"200",children:p.bt("6-digit code", "6-digit code", "desktopLoginModal.otpCode.label", undefined, true)})})}),(0,u.jsx)(n.az,{"data-test-id":"otpCodeInputField",marginBottom:4,children:(0,u.jsx)(eq.A,{focused:!0,hasError:!!T,id:"otp-code",inputLabel:p.bt("6-digit code", "6-digit code", "desktopLoginModal.otpCode.label2", undefined, true),onChange:e=>{E(e.target.value),R(""),(0,D.PM)("dweb.desktop_login_modal.otp_code_input.change")},placeholder:p.bt("Enter code", "Enter code", "desktopLoginModal.otpCode.placeholder", undefined, true),tooltip:T,type:"text",value:L})}),(0,u.jsx)(n.az,{"data-test-id":"otpCodeSubmitButton",marginTop:2,children:(0,u.jsx)(n.$n,{accessibilityLabel:p.bt("Button to submit OTP code", "Button to submit OTP code", "desktopLoginModal.otpCode.buttonAccessibilityLabel", undefined, true),color:"primary",disabled:!L||6!==L.length||Number.isNaN(Number(L)),fullWidth:!0,onClick:()=>{(0,D.PM)("dweb.desktop_login_modal.otp_code_verify.click")},size:"lg",text:p.bt("Log in", "Log in", "desktopLoginModal.otpCode.login", undefined, true),type:"submit"})})]})}),(0,u.jsx)(e0,{email:v})]}),(0,u.jsx)(n.az,{marginTop:-2,children:r})]})};var e4=o(894625);function e2({disablePostSignupNextUrl:e,nextUrlParam:t,registrationCredentials:o}){(0,s.useEffect)(()=>{(0,a.A)("OtpStepDesktop","/app/packages/desktopLoginModal/OtpStepDesktop.tsx")},[]);let i=(0,_.A)(),l=(0,G.jS)(),{recaptchaV3Token:n,refreshToken:r}=(0,O.c)(),{register:d,viewer:c}=(0,y.Mm)(),[h,g]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1),f="emailWithOtp",A=async({progressToken:a})=>{m(!0),g("");let s={...o.signupOptions,country:l.country,recaptchaV3Token:n,progressToken:a,first_name:(0,W.A)(o.signupOptions.email||"",l.country),last_name:""};try{(0,D.mY)({event:"signup_api_call_start",provider:f}),await d(s,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,aux_data:{...(0,P.A)(c.type)}}}),(0,D.PM)("dweb.otpStep.signup_success"),(0,D.mY)({event:"signup_api_call_success",provider:f}),I.Ay.handleSignupRedirect(t,e)}catch(e){(0,D.mY)({event:"signup_api_call_failure",provider:f}),r&&r(),(0,D.PM)("dweb.otpStep.signup_error.other"),g(i.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "signup.otpStep.error.other", undefined, true))}finally{m(!1)}};return(0,u.jsx)(e4.A,{clearValidationError:()=>g(""),isLoading:p,onContinue:A,progressToken:o.signupOptions.progress_token??"",userEmail:o.signupOptions.email??"",validationError:h})}var e5=o(978205);let e3={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},e6=({children:e,noBoxShadow:t})=>{let o={...e3,...t?{boxShadow:"none"}:{}},{viewer:i}=(0,y.Mm)(),a=(0,y.fF)();return"LIMITED_LOGIN"===i.type&&a?(0,u.jsxs)("div",{"data-test-id":"login-modal-default",style:{...o,display:"flex",width:"auto",padding:""},children:[(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{borderRadius:"8px 0 0 8px"}},overflow:"hidden",children:(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{width:"number"==typeof a.height&&"number"==typeof a.width?600*(a.width/a.height||0):0,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:a.url?`url(${a.url})`:""}},height:"100%",maxWidth:400})}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{padding:"32px 0"}},width:400,children:e})]}):(0,u.jsx)("div",{"data-test-id":"login-modal-default",style:{...o,padding:"32px 0"},children:e})},e8=({children:e,email:t,footer:o,handleNotYouClick:i,header:l,noBoxShadow:r,title:d,viewerInfo:h})=>{(0,s.useEffect)(()=>{(0,a.A)("PersonalizedLoginWrapper","/app/packages/desktopLoginModal/PersonalizedLoginWrapper.tsx")},[]);let{viewer:g}=(0,y.Mm)(),p=(0,_.A)();return(0,u.jsx)(e6,{noBoxShadow:r,children:(0,u.jsxs)(s.Fragment,{children:[l,(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},display:"block",height:40,width:40,children:(0,u.jsx)(eI.A,{size:40})}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"0 48px 16px"}},maxHeight:150,overflow:"hidden",width:"auto",children:d}),"LIMITED_LOGIN"===g.type&&(0,u.jsx)(n.az,{marginBottom:4,paddingX:12,children:(0,u.jsx)(e5.A,{})}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:120,children:(0,u.jsx)(c.eu,{name:h.firstName,src:h.imageUrl??void 0})}),(0,u.jsx)(n.az,{marginBottom:3,children:(0,u.jsx)(n.KJ,{align:"center",children:t})}),e,(0,u.jsx)(n.az,{paddingY:5,children:(0,u.jsx)(n.cG,{})}),(0,u.jsx)(n.az,{"data-test-id":"login-switch-account",children:(0,u.jsx)(n.Rp,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),i()},children:(0,u.jsx)(n.KJ,{align:"center",size:"200",weight:"bold",children:(0,u.jsx)(n.N_,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:p.bt("Not you? Log in with a different account", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,u.jsx)(n.az,{marginBottom:0,marginTop:1,children:o})]})})};var e7=o(919280),e9=o(35458),te=o(173415);function tt({container:e,isQRCodeExpanded:t,nextUrlParam:o}){(0,s.useEffect)(()=>{(0,a.A)("QRCodeLogin","/app/packages/desktopLoginModal/QRCodeLogin.tsx")},[]);let[i,l]=(0,s.useState)(!0),[r,d]=(0,s.useState)(null),[c,h]=(0,s.useState)(null),[g,p]=(0,s.useState)(null),m=e9.z.object({qr_token:e9.z.string()}),f=e9.z.object({status:e9.z.string()}),A=(0,_.A)(),w=(0,et.rc)(),{viewer:x}=(0,y.Mm)(),b=(0,ee.A)(),{checkExperiment:k}=(0,eu.A)(),z=k("dweb_unauth_qr_code_refresh").anyEnabled,{showOneToast:v}=(0,eg.CG)(),S=null!==r&&(!z||6062!==r),L=w?.pageType,E=x.type,j=async()=>{try{let e=await (0,es.A)({url:"/v3/qr_auth/",method:"POST"}),t=m.safeParse(e?.resource_response?.data);t.success?(h(t.data.qr_token),p(!1)):((0,D.PM)("dweb.generate_qr_token.response_parsing_error"),d(0))}catch(e){d((0,ea.A)(e,"api_error_code")??0)}};return(0,eD.A)(()=>{j(),l(!1)}),(0,s.useEffect)(()=>{let t=setInterval(async()=>{let i;if(c){try{let e=await (0,es.A)({url:"/v3/qr_auth/status/",method:"POST",data:{qr_token:c}}),t=f.safeParse(e?.resource_response?.data);t.success?i=t.data.status:((0,D.PM)("dweb.fetch_qr_status.response_parsing_error"),d(0))}catch(e){d((0,ea.A)(e,"api_error_code")??0),z&&6062===r&&p(!0)}"authenticated"===i&&b({creds:{qr_token:c},loggingOptions:{loggingData:{container:e,page:L,component:"QRCodeLogin"},loginAttemptContextEvent:{event_type:7534,element:18049,aux_data:{...(0,P.A)(E),signup_login_method:B.A.QR_CODE}}}}).then(()=>{(0,D.PM)("dweb.qr_code_login.success.authenticated"),l(!0),clearInterval(t),I.Ay.handleRedirect(o)},e=>{d((0,ea.A)(e,"api_error_code")??0)})}},2e3);return()=>clearInterval(t)},[f,r,e,A,z,b,o,L,c,E]),(0,s.useEffect)(()=>{let e=z&&k("dweb_unauth_qr_code_refresh").group.endsWith("toast");g&&e&&v(({hideToast:e})=>(0,u.jsx)(n.Wd,{zIndex:te.S,children:(0,u.jsx)(n.so,{justifyContent:"center",children:(0,u.jsx)(n.az,{bottom:!0,display:"flex",justifyContent:"center",margin:6,position:"fixed",children:(0,u.jsx)(el.A,{duration:4e3,onHide:e,text:A.bt("This QR code has expired. Refresh to generate a new one.", "This QR code has expired. Refresh to generate a new one.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.qrCodeExpired.errorToast", undefined, true),type:"error"})})})}))},[k,A,g,z,v]),(0,u.jsxs)(n.az,{marginBottom:6,children:[S&&(0,u.jsx)(n.QE,{iconAccessibilityLabel:"Error",message:(e=>{switch(e){case 6061:return A.bt("There was a problem generating your QR code. Try reloading the page and scanning the code again.", "There was a problem with generating your QR code. Try reloading the page and scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.qrAuthCacheSetError", undefined, true);case 6062:return A.bt("Your QR code has expired or was not found. Try reloading the page and scanning the code again.", "Your QR code has expired or was not found. Try reloading the page and scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.qrTokenNotFoundError", undefined, true);case 6065:return A.bt("Your QR code was scanned from a different IP address or device. Make sure your mobile device is connected to the same Wi-Fi as your computer and try scanning the code again.", "Your QR code was scanned from a different IP address or device. Make sure that your mobile device is connected to the same WiFi as your computer and try scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.qrIPAddressOrDeviceMismatchError", undefined, true);case 30:return A.bt("We couldn't find your account. Try logging in with a different account.", "We couldn't find your account. Try logging in with a different account.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.userNotFoundError", undefined, true);case 82:return A.bt("QR code login isn't supported for deactivated accounts. Try reactivating your account first.", "QR code login isn't supported for deactivated accounts. Try reactivating your account first.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.loginDeactivatedUserError", undefined, true);case 4951:return A.bt("QR code login isn't supported for accounts using single sign-on. Try logging in with single sign-on instead.", "QR code login isn't supported for accounts using single sign-on. Try logging in with single sign-on instead.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.ssoFailureError", undefined, true);default:return A.bt("We couldn’t log you in with the QR code. Try reloading the page and scanning the code again.", "We couldn’t log you in with QR code. Try reloading the page and scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.defaultError", undefined, true)}})(r),type:"error"}),(0,u.jsxs)(n.so,{direction:"column",gap:10,children:[!t&&(0,u.jsx)(n.so,{direction:"column",justifyContent:"center",children:(0,u.jsxs)(n.so,{direction:"column",gap:4,children:[(0,u.jsx)(n.KJ,{align:"center",children:A.bt("1. Log in to the Pinterest app on your phone", "1. Log in to the Pinterest app on your phone", "unauth.desktopWeb.loginForm.qrCodeLoginModal.instructions", undefined, true)}),(0,u.jsx)(n.KJ,{align:"center",children:A.bt("2. Scan the QR code with your phone camera", "2. Scan the QR code with your phone's camera", "unauth.desktopWeb.loginForm.qrCodeLoginModal.instructions", undefined, true)}),(0,u.jsx)(n.KJ,{align:"center",children:A.bt("3. Confirm login in the Pinterest app", "3. Confirm login in the Pinterest app", "unauth.desktopWeb.loginForm.qrCodeLoginModal.instructions", undefined, true)})]})}),(0,u.jsxs)(n.az,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",children:[g&&((0,D.PM)("dweb.qr_code_refresh_button.view"),(0,u.jsx)(n.az,{alignItems:"center",display:"flex",height:180,justifyContent:"center",position:"absolute",width:180,zIndex:te.S,children:(0,u.jsx)(n.$n,{accessibilityLabel:"Refresh button",color:"dark",iconStart:"arrow-clockwise",onClick:()=>{(0,D.PM)("dweb.qr_code_refresh_button.click"),j()},text:A.bt("Refresh", "Refresh", "unauth.desktopWeb.loginForm.qrCodeLoginModal.refreshButton", undefined, true)})})),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{border:t?"16px solid #ffffff":"none"}},rounding:t?400:void 0,children:(0,u.jsx)(e7.default,{"data-test-id":"qr-code-image",fgColor:i||g?"#f1f1f1":"#000000",size:t?104:180,value:`https://www.pinterest.com/qr_code_login/${c}`})}),(0,u.jsx)(n.az,{position:"absolute",children:(0,u.jsx)(n.y$,{show:i})})]}),t&&(0,u.jsx)(n.az,{marginTop:-6,children:(0,u.jsxs)(n.so,{direction:"column",gap:2,justifyContent:"center",children:[(0,u.jsx)(n._Y,{align:"center",size:"500",children:A.bt("Log in instantly", "Log in instantly", "unauth.desktopWeb.loginForm.qrCodeLoginModal.expandedDesign.heading", undefined, true)}),(0,u.jsx)(n.KJ,{align:"center",children:A.bt("Scan QR code with your phone and confirm login in the Pinterest app", "Scan QR code with your phone and confirm login in the Pinterest app", "unauth.desktopWeb.loginForm.qrCodeLoginModal.expandedDesign.subheading", undefined, true)})]})})]})]})}var to=o(347099),ti=o(123576),ta=o(718882),ts=o(319939),tl=o(11925),tn=o(307079),tr=o(741383),td=o(871481);let tc={backgroundColor:"#fff",borderRadius:"32px",position:"relative",textAlign:"center",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},t_={home_page:{...tc,minHeight:"initial"},pinBookmarklet:{...tc,boxShadow:"none"},revamped_business_login_page:{...tc,margin:void 0,textAlign:void 0}},tu={minHeight:"400px",padding:"20px 10px 24px"},th={minHeight:"400px",padding:"32px 10px 32px"},tg={minHeight:"350px",padding:"30px 10px 20px"},tp={minHeight:"350px",padding:"0px 0px 30px"},tm={minHeight:"400px",padding:"24px 24px 24px 24px"},tf=(e,t)=>{switch(t){case"boardInvite":return e.bt("Log in to accept your board invite", "Log in to accept your board invite", "Login copy board invite", undefined, true);case"homePage":return e.bt("Welcome to Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Sign in to save this Pin!", "Sign in to save this Pin!", "Login copy save button from third party website", undefined, true);case"saveButton":return e.bt("Log in to save this idea", "Log in to save this idea", "Login copy save upsell", undefined, true);case"lopBoardUpsell":return e.bt("Boards let you organise what you love", "Boards let you organize what you love", "unauth.desktop.signup_modal.lopBoardUpsell.header", undefined, true);case"lopDownloadUpsell":return e.bt("Log in to download", "Log in to download", "unauth.desktop.signup_modal.lopDownloadUpsell.header", undefined, true);default:return e.bt("Log in to see more", "Log in to see more", "Title on desktop login modal", undefined, true)}};function tA({container:e,savePinId:t,savePinImageUrl:o,customLoginTagline:i,customSignupTagline:g,handleCloseButtonClick:p,handleShowingSignupWelcomeLoading:m,handleSsoRedirect:f,hideAccountSwitchValueProp:A,hideLogo:w,inviter:x,isAccountSwitch:k=!1,isBusiness:z,nextUrlParam:L,removeSignupLoginToggleFooter:E,renderBusinessCreateButton:j,showCloseIcon:M,showResponseMessageModal:I,signupRedirectUrl:R,signupSource:B="defaultSource",suppressFocus:O,toggleType:F="DEFAULT_TOGGLE",signupFlow:U,attributionLabel:W,onRedirectToSignup:K}){(0,s.useEffect)(()=>{(0,a.A)("FullPageSignup","/app/packages/desktopLoginModal/FullPageSignup.tsx")},[]);let J=(0,G._8)(),$=(0,_.A)(),{viewer:{info:H,type:Q}}=(0,y.Mm)(),Y=(0,d.A)(),X=(0,v.A)(),{checkExperiment:Z}=(0,eu.A)(),[ee,et]=(0,s.useState)(!1),[eo,ei]=(0,s.useState)(!1),[ea,es]=(0,s.useState)(!1),[el,en]=(0,s.useState)("signup"===(0,tn.A)().type?{type:"signup"}:U),[er,ed]=(0,s.useState)(""),[ec,e_]=(0,s.useState)(""),{trackConversionUpsell:eh}=(0,S.A)(),[eg,ep]=(0,s.useState)(!1),em=(0,P.A)(Q),{username:ef}=(0,l.g)(),eA=(0,td.Ax)(),ey=ef?eA(ef):null,ew="commentComposer"===B,ex="login"===el.type?14212:14214,[eb,ev]=(0,s.useState)(ex),[eS,eL]=(0,s.useState)("login"),[eE,ej]=(0,s.useState)("login"),[eC,eT]=(0,s.useState)(""),[eI,eF]=(0,s.useState)(""),[eD,eU]=(0,s.useState)(!1),eG=(0,tr.ik)(),eV=eG?.data||{},eq=eV.popoverData,{expGroup:eH="",socialModalUpdateExpGroup:eQ="",dwebSocialContextExpGroup:eY=""}=eq||{},{inDwebFullPageModalExp:eX}=eV.modalData||{},e0=!!eY&&Z("ce_dweb_unauth_signup_login_social_context").anyEnabled,e4="revamped_business_login_page"===e,e5=(0,s.useRef)(null);(0,s.useEffect)(()=>((0,D.PM)(`unauth.authentication_modal.shown.${F}.${el.type}`),()=>{k&&((0,ts.A)("add_account_dismiss",null,e),ti.A.resume(ta.EQ),(0,D.PM)(`web.dismiss_account_switcher.${e}`))}),[]);let e6=(0,s.useRef)(el.type);(0,s.useEffect)(()=>{e6.current!==el.type&&(e6.current=el.type,(0,D.PM)(`unauth.authentication_modal.shown.${F}.${el.type}`))});let e7=(0,s.useRef)(U);(0,s.useEffect)(()=>{e7.current.type!==U.type&&(e7.current=U,en(U))}),(0,s.useEffect)(()=>{let e=()=>{if(!e5.current)return;let e=e5.current,t=e.getBoundingClientRect();if(t.top<150){let o=150-t.top;e.style.transform=`translateY(${o}px)`}else e.style.transform=""};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]);let e9=t_[e]??tc,te=w?th:tu,tA=()=>L?decodeURIComponent(L):L,ty=e=>tA()?(0,tl.A)(e,{next:tA()}):e,tw=e=>en({type:"socialSignupWithAge",registrationCredentials:e}),tx=e=>en({type:"otpSignupViaEmail",registrationCredentials:e}),tb=(e,t)=>en({type:"loginMfa",creds:e,phoneNumberEnd:t?.phoneNumberEnd||void 0}),tP=e=>{(0,D.PM)(`unauth.personalized_login.prevent_register.${e}`),ep(!0),ei(!1),en({type:"signup"})},tk=()=>{X({action:"click",item:"login-switch-account",within:"personalized-login"}),(0,D.uq)("click_change_signin_account"),Y({aux_data:em,element:10879,event_type:101}),eh({eventType:14689,element:10879})},tz=e=>{(0,D.PM)(`unauth.authentication_modal.${e}.${F}.${el.type}`)},tv=e=>{tz("login_toggle_click"),(0,D.uq)("click_toggle_login"),X({action:"click",item:"login-button"}),eh({eventType:14689,element:13914}),en({type:"login",email:e?.email}),ev(14212),eh({eventType:14688,component:14212,element:13914,upsellReason:W,incrementUpsellReasonCounter:!1}),et(!1)},tS=({email:e})=>{(tz("signup_toggle_click"),(0,D.uq)("click_toggle_signup"),eh({eventType:14689,element:13913}),R)?(0,r.A)(R,!1):(ev(14214),eh({eventType:14688,component:14214,element:13913,upsellReason:W,incrementUpsellReasonCounter:!1}),en({type:"signup",email:e}))},tL=({email:e})=>(0,u.jsx)(n.Rp,{fullWidth:!1,onTap:t=>{let o={event_type:101,element:10880};z?Y(o):(t.event.preventDefault(),X({action:"click",item:"signup-toggle-button",within:"personalized-login"}),Y({...o,aux_data:em}),tS({email:e}))},children:(0,u.jsx)(n.KJ,{align:"center",size:"200",weight:"bold",children:(0,u.jsx)(n.az,{"data-test-id":"need-account-link",children:(0,u.jsx)(n.N_,{href:z?ty("/business/create"):"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:$.bt("Need an account? Sign up now", "Need an account? Sign up now", "Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account", undefined, true)})})})}),tE=({step:e,email:t})=>{ej(e),en({type:"loginOtp",email:t??eC})},tj=M&&(0,u.jsx)(ez.A,{onClick:p}),tC=({inVisualPLPUpsellExp:e=!1,inviter:t,isVerified:o,shouldUseLargeImage:i=!1})=>{let a=e0||e,s={color:e?t.avatar_color_index:void 0,name:t.first_name||t.full_name||"",outline:e&&null==t.avatar_color_index,size:i?"fit":a?"lg":"fit",src:i&&t.image_large_url?t.image_large_url:t.image_medium_url,verified:o};return(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:i?150:a?64:108,children:a?(0,u.jsx)(h,{...s}):(0,u.jsx)(c.eu,{...s})})};if(ea&&["signup","login","socialSignupWithAge"].includes(el.type))return(0,u.jsx)(to.A,{});switch(el.type){case"signup":case"respondMessage":{let i,a=ee?$.bt("Welcome back to Pinterest!", "Welcome back to Pinterest!", "welcoming user back to pinterest in signup modal when we recognize their email", undefined, true):g||((e,t)=>{switch(t){case"boardInvite":return e.bt("Sign up to accept your board invite", "Sign up to accept your board invite", "Sign up copy board invite", undefined, true);case"saveButton":return e.bt("Sign up to see more", "Sign up to see more", "signup copy save button", undefined, true);case"saveButtonExp":return e.bt("Join Pinterest to save this idea", "Join Pinterest to save this idea", "FullPageSignup.signupTagline.save", undefined, true);case"homePage":return e.bt("Welcome to Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Sign up to save this Pin!", "Sign up to save this Pin!", "signup copy save button from third party website", undefined, true);case"downloadImageBtnDweb":return e.bt("Never lose track of your ideas again. Sign up for an account", "Never lose track of your ideas again! Sign up for an account", "mweb.unauth.download_modal.download_value_prop", undefined, true);case"downloadImageBtnUnauth":return e.bt("Sign up to download", "Sign up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true);case"followButton":return e.bt("Join Pinterest to follow", "Join Pinterest to follow", "mweb.unauth.follow_modal.follow_value_prop", undefined, true);case"lopBoardUpsell":return e.bt("Boards let you organise what you love", "Boards let you organize what you love", "unauth.desktop.signup_modal.lopBoardUpsell.header", undefined, true);default:return e.bt("Sign up to see more", "Sign up to see more", "sigup copy default includes pin click and scrolling", undefined, true)}})($,B),l=!("save"===e&&eH.startsWith("enabled")),r=x&&l&&!eD&&Z("ce_dweb_visual_plp_upsell").anyEnabled,d=x&&(!x.is_default_image||eX||r)?x:null,c=r?tp:tg,_=null;d&&l&&(_=r?($.bt("Start discovering ideas with {{ name }}", "Start discovering ideas with {{ name }}", "FullPageSignup.signupTitle.social_visual_upsell", undefined, true)).replace("{{ name }}",d.first_name||d.full_name):"respondMessage"===U.type?($.bt("Sign up and let {{ name }} know what you think", "Sign up and let {{ name }} know what you think", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",d.first_name||d.full_name):($.bt("Join {{ name }} on Pinterest for more ideas", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",d.first_name||d.full_name));let h=(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:eO.S7},width:"login_page"!==e?400:void 0,children:(0,u.jsx)(eB,{container:e,modalType:"signup",titleText:_||(["login_page","home_page","save","download","follow","lopBoardUpsell","lopDownloadUpsell"].includes(e)?a:$.bt("Unlimited free access to the world's best ideas", "Unlimited free access to the world's best ideas", "FullPageSignup.signupTitle.save", undefined, true)),visualRefreshTypography:w||r||e0})}),p=d&&(r?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-wash-scrims-opaque)",borderRadius:"32px 32px 0 0",marginBottom:30}},display:"flex",height:347,justifyContent:"center",overflow:"hidden",position:"relative",width:"100%",children:[(0,u.jsx)("img",{alt:"Pinterest upsell background",src:"https://s.pinimg.com/webapp/unauth_dweb_social_visual_upsell-3817bbf1.png",style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",zIndex:new n.rk(1),children:(0,u.jsx)(tC,{inVisualPLPUpsellExp:r,inviter:d,isVerified:"respondMessage"===U.type,shouldUseLargeImage:!0})})]}),h,(0,u.jsx)(n.az,{marginBottom:4,marginTop:-4,children:(0,u.jsx)(n.KJ,{align:"center",size:"300",children:$.bt("Join Pinterest to collect ideas together", "Join Pinterest to collect ideas together", "mweb.unauth.signup_modal.social_visual_subheader", undefined, true)})})]}):(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(tC,{inviter:d,isVerified:"respondMessage"===U.type}),h]})),A=e0&&eq&&(0,u.jsx)(n.az,{marginBottom:6,marginTop:8,children:(0,u.jsx)(q,{inviterAvatarUrl:eq.inviterAvatarUrl,inviterName:eq.inviterName,modalType:"signup"})}),y=(0,u.jsxs)(s.Fragment,{children:[!w&&(0,u.jsx)(eM,{container:e,fallback:(0,u.jsx)(eR,{large:"homePage"!==B}),savePinId:t,savePinImageUrl:o,signupSource:B,user:ey}),h,(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:eO.S7},children:!ee&&(0,u.jsx)(n.az,{marginBottom:4,marginTop:-4,children:(0,u.jsx)(n.KJ,{align:"center",size:"300",children:"login_page"!==e&&"home_page"!==e&&"save"!==e&&"download"!==e&&"follow"!==e&&"lopBoardUpsell"!==e&&"lopDownloadUpsell"!==e?a:"downloadImageBtnDweb"===B&&$.bt("Discover a better way to keep your ideas organised", "Discover a better way to keep your ideas organized", "mweb.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"downloadImageBtnUnauth"===B&&$.bt("Download this image and more with a Pinterest account", "Download this image and more with a Pinterest account", "web.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"followButton"===B&&(0,eK.vQ)($.bt("Create an account to follow {{ creatorName }}", "Create an account to follow {{ creatorName }}", "mweb.unauth.signup_modal.follow_value_prop_subheader", undefined, true),{creatorName:ey?.full_name})||"homePage"===B&&$.bt("Find new ideas to try", "Find new ideas to try", "Value prop on desktop signup modal on home page", undefined, true)||"saveButtonExp"===B&&$.bt("Unlimited free access to the world's best ideas", "Unlimited free access to the world's best ideas", "FullPageSignup.signupSubTitle.saDDve", undefined, true)||"lopBoardUpsell"===B&&$.bt("Sign up to make one!", "Sign up to make one!", "unauth.desktop.signup_modal.lopBoardUpsell.subheader", undefined, true)||$.bt("Discovery starts here", "Discovery starts here", "Pinterest value proposition on desktop login modal", undefined, true)})})})]});return i=d&&l?p:A||y,(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"signup-default-modal",width:r?540:484,children:[eo&&(0,u.jsx)(eJ.A,{rounding:8*!d}),(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:d?c:te},children:[i,tj,(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{textAlign:"center",margin:"0 auto"}},"data-test-id":"signup-options",position:"relative",children:(0,u.jsx)(eP,{additionalChildren:!E&&(0,u.jsx)(C,{layout:"NOT_NOW_BUTTON"===F&&"SIGNUP_LARGE"||"home_page"===e&&"SIGNUP_SMALL"||"SIGNUP_DEFAULT",onClick:()=>tv({email:el.email}),shouldHideBusinessCreateFooterLink:!!j,type:"signupToLogin"}),attributionLabel:W,birthday:ec,component:eb,container:e,disablePostSignupNextUrl:!L,email:el.email??"",emailErrorForMagicLink:eI,emailSignUpButtonSize:r?"lg":void 0,handleSsoRedirect:f,loadingIndicatorCallback:ei,nextUrlParam:tA(),onBirthdayUnderage:({birthday:e,email:t})=>{en({type:"UnderageConfirmation",birthday:e,email:t})},onConsentStepNeeded:e=>en({type:"consents",registrationCredentials:e}),onEmailContinueClick:r?()=>eU(!0):void 0,onLoginWithMfa:tb,onOtpRequired:tx,password:er,setBirthday:e_,setEmail:e=>en((el.type,{...el,email:e})),setEmailErrorForMagicLink:eF,setPassword:ed,showResponseMessageModal:"respondMessage"===U.type?I:void 0,showSignupWelcomeLoadingFn:e=>{es(e),m&&m(e)},signupSource:B,suppressFocus:O,switchToSocialSignupWithAgeFlow:tw,width:r?400:void 0})})]}),j&&j()]})}case"otpSignupViaEmail":return(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"otp-signup-step-modal",width:484,children:(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{...te}},children:[(0,u.jsx)(n.so,{alignContent:"between",children:(0,u.jsx)(n.K0,{accessibilityLabel:$.bt("Go back to login", "Go back to login", "signup.otpStep.goBackToLoginButton", undefined, true),dataTestId:"otp-signup-arrow-back-button",icon:"chevron-left",iconColor:"dark",onClick:()=>{(0,D.PM)("dweb.otpStep.back_button.click"),Y({view_type:10,view_parameter:4095,element:34,event_type:101}),en({type:"signup",email:"email"===el.registrationCredentials.signupOptions.type?el.registrationCredentials.signupOptions.email:""})},size:"lg"})}),(0,u.jsx)(e2,{disablePostSignupNextUrl:!L,nextUrlParam:tA(),registrationCredentials:el.registrationCredentials})]})});case"login":{let t,o,a,l;if("limited_login"!==e&&!k){if(Z("dweb_unauth_magic_link_login_primary").anyEnabled&&"select"!==eS&&"emailPassword"!==eS)return en({type:"loginMagicLink"}),eL("emailInput"),null;if(Z("dweb_unauth_otp_login_primary").anyEnabled&&"select"!==eE&&"emailPassword"!==eE)return en({type:"loginOtp"}),ej("emailInput"),null}if(!eg&&!k&&H&&"AUTH"!==Q&&"bottom.right.upsell.email"!==e){let t=H.hasPassword||H.connectedToFacebook||H.connectedToGoogle;return(0,u.jsx)(e8,{email:el.email??"",footer:tL({email:el.email}),handleNotYouClick:()=>{ep(!0),tk()},header:(0,u.jsxs)(s.Fragment,{children:[eo&&(0,u.jsx)(eJ.A,{}),tj]}),noBoxShadow:"pinBookmarklet"===e,title:(0,u.jsx)(eB,{container:e,modalType:"personalizedLogin",titleText:(0,eK.vQ)($.bt("Welcome back, {{name}}!", "Welcome back, {{name}}!", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:H?H.firstName:""}).join(""),visualRefreshTypography:w}),viewerInfo:H,children:(0,u.jsx)(eW.Ay,{attributionLabel:W,component:eb,container:e,disablePostSignupNextUrl:!L,email:H.email,handleMagicLinkSendSuccess:()=>{eL("emailSent"),en({type:"loginMagicLink",email:H?.email})},hideEmailField:!0,hideGoogleButton:t&&!H.connectedToGoogle,hideLineButton:t,hidePasswordField:t&&!H.hasPassword,hideTermsOfService:!0,isBusiness:z,loadingIndicatorCallback:ei,loginButtonTextOverride:$.bt("Continue", "Continue", " - ", undefined, true),magicLinkLoginStep:eS,magicLinkPrimaryExpGroup:Z("dweb_unauth_magic_link_login_primary").group,nextUrlParam:tA(),onEmailChange:()=>{},oneTimeCodeLoginPrimaryExpGroup:Z("dweb_unauth_otp_login_primary").group,oneTimeCodeLoginStep:eE,onLoginWithMagicLink:()=>{en({type:"loginMagicLink",email:H?.email}),eL("emailInput")},onLoginWithMfa:tb,requestContext:J,setOneTimeCodeLoginStepAndSignupFlow:tE,showResponseMessageModal:"respondMessage"===U.type?I:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:tP},suppressFocus:O})})}let d=x&&eQ&&Z("ce_dweb_unauth_splp_modal_update").anyEnabled,c="click_login_on_header"===W&&["unauth_header","home_page"].includes(e)&&"login"===U.type&&Z("dweb_unauth_qr_code_expanded_on_login_modal").anyEnabled,_="";_=d?($.bt("Log in to save ideas with {{ name }}", "Log in to save ideas with {{ name }}", "dweb.unauth.splp.header.login.upsell_tagline", undefined, true)).replace("{{ name }}",x.first_name||x.full_name):ew?$.bt("Log in to comment", "Log in to comment", "dweb.unauth.comment_compose.upsell_tagline", undefined, true):i||tf($,B);let h=["login_page","revamped_business_login_page"].includes(e);t=c?400:d?458:h?void 0:300;let g=(0,u.jsxs)(n.az,{padding:4,children:[(0,u.jsx)(ek,{onClick:()=>{(0,D.PM)(`dweb.desktop_login_modal.magic_link.back_button.${eS}`),"emailPassword"===eS?(eL("emailInput"),en({type:"loginMagicLink"})):"emailSent"===eS&&(Z("dweb_unauth_magic_link_login_primary").group.startsWith("enabled_pwd")?eL("emailPassword"):eL("emailInput"),en({type:"login",email:el.email}))}}),M&&(0,u.jsx)(ez.A,{onClick:()=>{p?.(),(0,D.PM)(`dweb.desktop_login_modal.magic_link.close_button.${eS}`)}})]}),m=(0,u.jsx)(n.az,{bottom:!0,color:"secondary",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 32px 32px"}},height:62,left:!0,width:"100%",children:(0,u.jsx)(n.Rp,{fullHeight:!0,onTap:()=>{(0,r.A)((0,tl.A)("/login",{}),!0),(0,D.PM)("unauth.business.login_personal_account.click"),Y({event_type:101,component:13096,element:10773,aux_data:{is_revamped_business_login:!0}})},children:(0,u.jsx)(n.so,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,u.jsx)(n.KJ,{weight:"bold",children:$.bt("Log in to a personal account", "Log in to a personal account", "bizsite.revampSignup.redirectToPersonalAccountLogin", undefined, true)})})})});o=c?772:e4?480:484,a=c?tm:d?tg:{...te,...e4?{padding:"40px"}:{}};let y=(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(eW.Ay,{attributionLabel:W,component:eb,container:e,disablePostSignupNextUrl:!L,email:el.email,handleMagicLinkSendSuccess:()=>{eL("emailSent"),en({type:"loginMagicLink",email:el.email})},handleSsoRedirect:f,isAccountSwitch:k,isBusiness:z,loadingIndicatorCallback:ei,magicLinkLoginStep:eS,magicLinkPrimaryExpGroup:Z("dweb_unauth_magic_link_login_primary").group,nextUrlParam:tA(),onEmailChange:e=>en({...el,email:e.target.value}),oneTimeCodeLoginPrimaryExpGroup:Z("dweb_unauth_otp_login_primary").group,oneTimeCodeLoginStep:eE,onLoginWithMagicLink:()=>{en({type:"loginMagicLink",email:el.email}),eL("emailInput")},onLoginWithMfa:tb,onRedirectToSignup:K,qrCodeLoginButtonClickHandler:()=>en({type:"loginQRCode"}),requestContext:J,setOneTimeCodeLoginStepAndSignupFlow:tE,shouldExpandQRCode:c,showResponseMessageModal:"respondMessage"===U.type?I:void 0,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:tw},suppressFocus:O}),z?!e4&&(0,u.jsxs)(n.so,{alignItems:"center",direction:"column",children:[(0,u.jsx)(b,{}),(0,u.jsx)(n.KJ,{size:"100",weight:"bold",children:(0,u.jsx)(n.N_,{href:ty("/business/create"),children:$.bt("Create new account", "Create new account", "Link to the page to create a new business account instead of logging in", undefined, true)})})]}):!k&&!E&&"emailPassword"!==eS&&"emailPassword"!==eE&&(0,u.jsx)(C,{layout:"NOT_NOW_BUTTON"===F&&"LOGIN_INLINE"||"SMALL_TOGGLE"===F&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{tS({email:el.email})},type:"loginToSignup"})]}),P=(0,u.jsxs)(n.so,{direction:"row",justifyContent:"between",children:[(0,u.jsxs)(n.az,{width:400,children:[(0,u.jsx)(n._Y,{align:"center",size:"600",children:$.bt("Welcome to Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true)}),(0,u.jsx)(n.az,{marginTop:4,children:y})]}),(0,u.jsx)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#f6f6f3"}},direction:"column",display:"flex",fit:!0,justifyContent:"center",padding:4,rounding:800,width:300,children:(0,u.jsx)(tt,{container:e,isQRCodeExpanded:c,nextUrlParam:L})})]}),v=e0&&eq&&!c&&(0,u.jsx)(n.az,{marginBottom:6,marginTop:8,children:(0,u.jsx)(q,{inviterAvatarUrl:eq.inviterAvatarUrl,inviterName:eq.inviterName,modalType:"login"})}),S=(0,u.jsxs)(s.Fragment,{children:[!c&&!e4&&!w&&(0,u.jsx)(eR,{large:"homePage"!==B}),(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{...e4?{...eO.S7,width:void 0,marginBottom:"40px"}:eO.S7,...M&&w&&!d?{marginTop:"32px"}:{}}},width:t,children:[d&&(0,u.jsx)(tC,{inviter:x,isVerified:"respondMessage"===U.type}),!c&&(0,u.jsx)(eB,{container:e,modalType:"login",titleText:_,visualRefreshTypography:w||d||e0}),c&&(0,u.jsx)(n.az,{color:"transparent",height:8,width:"100%"}),"lopBoardUpsell"===B&&(0,u.jsx)(n.az,{marginBottom:4,marginTop:1,children:(0,u.jsx)(n.KJ,{align:"center",size:"300",children:$.bt("Log in to make one", "Log in to make one!", "unauth.desktop.signup_modal.lopBoardUpsell.subheader", undefined, true)})}),"lopDownloadUpsell"===B&&(0,u.jsx)(n.az,{marginBottom:4,marginTop:2,children:(0,u.jsx)(n.KJ,{align:"center",size:"300",children:$.bt("Download this image and more with a Pinterest account", "Download this image and more with a Pinterest account", "unauth.desktop.signup_modal.download_upsell.subheader", undefined, true)})})]})]});return l=v||S,(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"login-modal-default",width:o,children:[eo&&(0,u.jsx)(eJ.A,{rounding:8}),(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:a},children:["emailPassword"===eS||"emailSent"===eS?g:tj,l,k&&!A&&(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:eO.S7},children:(0,u.jsx)(n.az,{marginBottom:8,marginTop:-4,children:(0,u.jsx)(n.KJ,{align:"center",size:"300",children:$.bt("Have another Pinterest account? Log in to easily switch between them", "Have another Pinterest account? Log in to easily switch between them", "Subtitle on the login modal that explains to a user why they would add an additional account to their profile", undefined, true)})})}),c?P:y]}),e4&&m]})}case"loginMagicLink":{let t="enabled_pwd_lite"===Z("dweb_unauth_magic_link_login_primary").group&&"emailSent"===eS;return(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"login-modal-magic-link",width:e4?480:484,children:[eo&&(0,u.jsx)(eJ.A,{rounding:8}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:t?{minHeight:"auto",padding:"62px 20px 96px"}:te},children:(0,u.jsxs)(eZ,{handleCloseButtonClick:p,hideLogo:w,loginFormOptions:{container:e,showCloseIcon:M,loginEmail:el.email,titleText:tf($,B),currentStep:eS,setCurrentStep:eL},magicLinkPrimaryExpGroup:Z("dweb_unauth_magic_link_login_primary").group,setEmailErrorForMagicLink:eF,setSignupFlow:en,children:[(0,u.jsx)(eW.Ay,{container:e,disablePostSignupNextUrl:!L,email:el.email,handleMagicLinkSendSuccess:()=>{eL("emailSent"),en({type:"loginMagicLink",email:el.email})},hideTermsOfService:Z("dweb_unauth_magic_link_login_primary").group.startsWith("enabled_pwd")&&"emailSent"===eS,isBusiness:z,loadingIndicatorCallback:ei,magicLinkLoginStep:eS,magicLinkPrimaryExpGroup:Z("dweb_unauth_magic_link_login_primary").group,qrCodeLoginButtonClickHandler:()=>en({type:"loginQRCode"}),requestContext:J,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:tw},suppressFocus:O}),!E&&"emailSent"!==eS&&"emailPassword"!==eS&&(0,u.jsx)(C,{layout:"NOT_NOW_BUTTON"===F&&"LOGIN_INLINE"||"SMALL_TOGGLE"===F&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{tS({email:el.email})},type:"loginToSignup"})]})})]})}case"loginMfa":return(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"login-modal-mfa",width:489,children:(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:te},children:[tj,!w&&(0,u.jsx)(eR,{}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{...eO.S7,padding:"0 10px"}},width:"100%",children:(0,u.jsx)(eB,{container:e,modalType:"loginMfa",titleText:$.bt("Two-factor authentication required", "Two-factor authentication required", "desktopLoginModal.2fa.title", undefined, true),visualRefreshTypography:w})}),(0,u.jsx)(e$,{container:e,creds:el.creds,isAccountSwitch:k,nextUrlParam:tA(),phoneNumberEnd:el.phoneNumberEnd})]})});case"socialSignupWithAge":return(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"birthday-collection-modal",minHeight:"0",children:(0,u.jsx)(N,{disablePostSignupNextUrl:!L,handleLoginToggleButtonClick:tv,loadingIndicatorCallback:ei,nextUrlParam:tA(),registrationCredentials:el.registrationCredentials,showResponseMessageModal:"respondMessage"===U.type?I:void 0})});case"EmailCollection":return(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:tc},"data-test-id":"line"===el.registrationCredentials.type?"signup-modal-line-phone-only":"signup-modal-facebook-phone-only",minHeight:400,children:[eo&&(0,u.jsx)(eJ.A,{rounding:8}),(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:te},children:[tj,!w&&(0,u.jsx)(eR,{}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:eO.S7},width:310,children:(0,u.jsx)(n._Y,{size:"700",children:$.bt("What's your email address?", "What's your email address?", "Prompt for email address in after sign in with line", undefined, true)})}),"line"===el.registrationCredentials.type&&(0,u.jsx)(eN,{loadingIndicatorCallback:ei,nextUrlParam:L,onNotNowClick:()=>{en({type:"signup",email:el.registrationCredentials.signupOptions.email}),ei(!1)},registrationCredentials:el.registrationCredentials,showEmailAlreadyExistModal:({email:e})=>en({type:"EmailAlreadyExist",email:e}),showSocialSignupWithAgeStep:tw})]})]});case"EmailAlreadyExist":return(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:e3},"data-test-id":"login-modal-existing-email",children:[eo&&(0,u.jsx)(eJ.A,{}),!w&&(0,u.jsx)(eR,{}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:eO.S7},maxHeight:120,overflow:"hidden",width:350,children:(0,u.jsx)(eB,{container:e,modalType:"personalizedLogin",titleText:(0,eK.vQ)($.bt("It looks as though you're already on Pinterest", "Looks like you're already on Pinterest", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:H?H.firstName:""}).join(""),visualRefreshTypography:w})}),(0,u.jsx)(n.az,{marginBottom:3,children:(0,u.jsx)(n.KJ,{align:"center",children:el.email})}),(0,u.jsx)(eW.Ay,{attributionLabel:W,component:eb,container:e,disablePostSignupNextUrl:!L,email:el.email,hideEmailField:!0,hideLineButton:!0,hideTermsOfService:!0,isBusiness:z,loadingIndicatorCallback:ei,loginButtonTextOverride:$.bt("Continue", "Continue", " - ", undefined, true),nextUrlParam:tA(),onEmailChange:()=>{},onLoginWithMfa:tb,requestContext:J,showResponseMessageModal:"respondMessage"===U.type?I:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:tP},suppressFocus:O}),(0,u.jsx)(n.az,{paddingY:5,children:(0,u.jsx)(n.cG,{})}),(0,u.jsx)(n.az,{"data-test-id":"login-switch-account",children:(0,u.jsx)(n.Rp,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),en({type:"login"}),ep(!0),tk()},children:(0,u.jsx)(n.KJ,{align:"center",size:"200",weight:"bold",children:(0,u.jsx)(n.N_,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:$.bt("Not you? Log in with a different account", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,u.jsx)(n.az,{marginBottom:4,marginTop:1,children:tL({email:el.email})}),tj]});case"UnderageConfirmation":return(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"underage-confirmation-modal",children:(0,u.jsx)(T.A,{birthday:el.birthday,onEditBirthday:()=>{en({type:"signup",email:el.email}),ei(!1)}})});case"consents":return(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"consents-step-modal",width:484,children:[tj,(0,u.jsx)(V,{disablePostSignupNextUrl:!L,nextUrlParam:tA(),onBackButtonClick:()=>{en({type:"signup",email:"email"===el.registrationCredentials.signupOptions.type?el.registrationCredentials.signupOptions.email:""})},onBirthdayUnderage:({birthday:e,email:t})=>{en({type:"UnderageConfirmation",birthday:e,email:t})},onOtpRequired:tx,registrationCredentials:el.registrationCredentials})]});case"loginQRCode":return(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"qr-code-login-modal",width:484,children:(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{...te}},children:[(0,u.jsxs)(n.so,{alignContent:"between",children:[(0,u.jsx)(n.K0,{accessibilityLabel:$.bt("Go back to login", "Go back to login", "unauth.desktopWeb.loginForm.qrCodeLoginModal.goBackToLoginButton", undefined, true),dataTestId:"arrow-back-button",icon:"chevron-left",iconColor:"dark",onClick:()=>{(0,D.PM)("dweb.qr_code_modal.back_button.click"),en({type:"login"})},size:"md"}),tj]}),!w&&(0,u.jsx)(eR,{}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:eO.S7},width:["login_page","revamped_business_login_page"].includes(e)?void 0:400,children:(0,u.jsx)(eB,{container:e,modalType:"loginQRCode",titleText:$.bt("Scan with your phone", "Scan with your phone", "desktopLoginModal.qrCode.title", undefined, true),visualRefreshTypography:w})}),(0,u.jsx)(tt,{container:e,isQRCodeExpanded:!1,nextUrlParam:L})]})});case"loginOtp":return(0,u.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:e9},"data-test-id":"login-modal-one-time-code",width:e4?480:484,children:[eo&&(0,u.jsx)(eJ.A,{rounding:8}),(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{...tu,padding:"20px 10px 104px"}},children:(0,u.jsxs)(e1,{handleCloseButtonClick:p,hideLogo:w,isOTPLoginV1Enabled:Z("dweb_unauth_otp_login_v1",{dangerouslySkipActivation:!0}).anyEnabled,loadingIndicatorCallback:ei,loginFormOptions:{container:e,showCloseIcon:M,loginEmail:el.email,titleText:tf($,B),currentStep:eE,setCurrentStep:ej},nextUrlParam:L,oneTimeCodeLoginPrimaryExpGroup:Z("dweb_unauth_otp_login_primary").group,setOneTimeCodeEmail:eT,setSignupFlow:en,children:[(0,u.jsx)(eW.Ay,{container:e,disablePostSignupNextUrl:!L,email:el.email,hideEmailField:!0,hidePasswordField:!0,hideTermsOfService:"codeInput"===eE,isBusiness:z,loadingIndicatorCallback:ei,oneTimeCodeLoginPrimaryExpGroup:Z("dweb_unauth_otp_login_primary").group,oneTimeCodeLoginStep:eE,qrCodeLoginButtonClickHandler:()=>en({type:"loginQRCode"}),requestContext:J,setOneTimeCodeLoginStepAndSignupFlow:tE,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:tw},suppressFocus:O}),!E&&"codeInput"!==eE&&"emailPassword"!==eE&&(0,u.jsx)(C,{layout:"NOT_NOW_BUTTON"===F&&"LOGIN_INLINE"||"SMALL_TOGGLE"===F&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{tS({email:el.email})},type:"loginToSignup"})]})})]});default:return null}}},589053(e,t,o){o.d(t,{A:()=>d});var i=o(61163),a=o(859471),s=o(19821),l=o(538329),n=o(844255),r=o(562615);let d=({onClick:e,zIndex:t})=>{(0,a.useEffect)(()=>{(0,i.A)("FullPageSignupCloseButton","/app/packages/desktopLoginModal/FullPageSignupCloseButton.tsx")},[]);let o=(0,n._8)(),d=(0,l.A)();return(0,r.jsx)(s.az,{"data-test-id":"full-page-signup-close-button",display:"block",height:40,left:o.isRTL,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!o.isRTL,top:!0,width:40,zIndex:t?new s.rk(t):void 0,children:(0,r.jsx)(s.K0,{accessibilityLabel:d.bt("close", "close", "accessible label for close button", undefined, true),icon:"close",iconColor:"default",onClick:e,size:"md"})})}},743506(e,t,o){o.d(t,{A:()=>S});var i=o(61163),a=o(859471),s=o(19821),l=o(750810),n=o(608928),r=o(514976),d=o(276890),c=o(665003),_=o(350306),u=o(455148),h=o(538329),g=o(71106),p=o(173832),m=o(515913),f=o(416437),A=o(205756),y=o(583725),w=o(86767),x=o(601185),b=o(844255),P=o(752159),k=o(168079),z=o(562615);let v=({container:e,isAccountSwitch:t,nextUrlParam:o,onLoginWithMfa:i,onLoginWithSuspended:r,onLoginWithVoluntarilyDeactivated:x,showResponseMessageModal:v,socialSignupCallbacks:S,tooltip:L,showLoginRateLimited:E,onClick:j,logoCentered:C=!1,buttonStatic:T=!1,handleGoogleConnectResponseOverride:M})=>{let{viewer:{type:I}}=(0,l.Mm)(),R=(0,c.A)(),B=(0,u.rc)(),O=(0,h.A)(),F=(0,A.Y)(),D=(0,a.useRef)(null),{locale:U}=(0,b._8)(),N=(0,a.useRef)(!1);return(0,k.A)(()=>(window.googleConnectButtonContainer=e||"",()=>{delete window.googleConnectButtonContainer})),(0,k.A)(()=>{let a=({credential:a,select_by:s})=>{if(M)return void M();let l=(0,f.V5)((0,f.w4)(s));R({creds:{google_open_id_token:a},loggingOptions:{loggingData:{container:window.googleConnectButtonContainer,page:B?.pageType,trigger:l,component:"GoogleConnectButton"},loginAttemptContextEvent:{event_type:7534,element:12981,aux_data:{...(0,_.A)(I),signup_login_method:w.A.GPLUS}}},isAccountSwitch:t}).then(i=>{let a=i?.resource_response.data?.user;t&&a&&(0,g.A)(a,"google",e),v?v(!1):y.Ay.handleRedirect(o||y.Ay.defaultSocialLoginRedirectUrl())},e=>{switch(p.oI.includes(e.api_error_code??0)&&E?.(),e.api_error_code){case p.PE:x?.(e.message);break;case p.NS:i?.({google_open_id_token:a},{phoneNumberEnd:e.data?.phone_number_end});break;case p.lk:if("ACCOUNT_RECOVERY"===S.type)S.switchToAccountRecoverySignupFlow("google");else{(0,P.mY)({event:"start",provider:"google"});let e=(0,m.A)(a),t={container:window.googleConnectButtonContainer,page:B?.pageType,trigger:l},o={type:"google",google_open_id_token:a,first_name:e.given_name,last_name:e.family_name,image_url:e.picture};S.switchToSocialSignupWithAgeFlow({type:"google",context:t,signupOptions:{...o}})}break;case p.Vw:(0,n.Q)(e.message||"");break;default:e.api_error_code===p.PI&&r?r():(0,n.Q)(O.bt("Sorry, we can't log you in.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true))}})};return(async()=>{await F?.ensureInit("button",a)})(),()=>{F?.removeButtonCallback(a)}}),(0,a.useEffect)(()=>{D.current&&(0,f.$S)()&&!N.current&&((0,f.wq)({buttonRef:D,locale:U,isDesktop:!0,logo_alignment:C?"center":"left",onClick:j}),N.current=!0)},[U,C,j]),(0,z.jsxs)(s.az,{"data-test-id":"google-connect-button",position:"relative",children:[(0,z.jsx)(s.az,{height:44,children:(0,z.jsx)(s.az,{ref:D,position:T?"static":"absolute",width:"100%"})}),!!L&&(0,z.jsx)(d.A,{anchor:D.current,message:L})]})};function S(e){(0,a.useEffect)(()=>{(0,i.A)("GoogleConnectButton","/app/packages/desktopLoginModal/GoogleConnectButton.tsx")},[]);let{checkExperiment:t}=(0,x.A)(),{anyEnabled:o}=t("web_google_disabled");return o?(0,z.jsx)(r.A,{tooltip:e.tooltip}):(0,z.jsx)(v,{...e})}},514976(e,t,o){o.d(t,{A:()=>_});var i=o(61163),a=o(859471),s=o(19821),l=o(698489),n=o(276890),r=o(532726),d=o(538329),c=o(562615);function _(e){(0,a.useEffect)(()=>{(0,i.A)("GoogleConnectButtonWithDisabledSDK","/app/packages/desktopLoginModal/GoogleConnectButtonWithDisabledSDK.tsx")},[]);let t=(0,d.A)(),{tooltip:o,onClick:_,textOption:u}=e,[h,g]=(0,a.useState)(),p=(0,a.useRef)(null),m=(0,c.jsxs)(s.so,{alignItems:"center",justifyContent:"center",children:[(0,c.jsx)(s.az,{height:24,marginTop:1,width:24,children:(0,c.jsx)(r.A,{size:20})}),(0,c.jsx)(s.az,{marginStart:2,children:(0,c.jsxs)(s.KJ,{weight:"bold",children:["alternativeAuth"===u&&t.bt("Link account to Google", "Link account to Google", "googleSocialConnectButtonWithDisabledSDK.buttonText", undefined, true),"accountRecovery"===u&&t.bt("Set up Google login", "Set up Google login", "unauthGoogleConnectButtonForAccRecovery.buttonText", undefined, true),!u&&t.bt("Connect with Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)]})})]});return(0,c.jsxs)(s.az,{ref:p,"data-test-id":"google-connect-button",position:"relative",children:[(0,c.jsx)(s.Rp,{onTap:_?_():()=>g(!0),children:"alternativeAuth"===u?(0,c.jsx)(s.az,{alignItems:"center",color:"default",display:"flex",height:44,justifyContent:"center",marginTop:2,paddingX:4,position:"relative",rounding:500,width:"100%",children:m}):(0,c.jsx)(s.az,{alignItems:"center",color:"secondary",display:"flex",height:"accountRecovery"===u?48:40,justifyContent:"center",marginTop:2,position:"relative",rounding:500,width:"100%",children:m})}),!!o&&(0,c.jsx)(n.A,{anchor:p.current,message:o}),h&&(0,c.jsx)(l.A,{onDismiss:()=>g(!1),type:"google"})]})}},978205(e,t,o){o.d(t,{A:()=>c});var i=o(61163),a=o(859471),s=o(19821),l=o(162036),n=o(538329),r=o(168620),d=o(562615);let c=({useDefaultText:e})=>{(0,a.useEffect)(()=>{(0,i.A)("LimitedLoginSubheader","/app/packages/desktopLoginModal/LimitedLoginSubheader.tsx")},[]);let{limitedLoginModalSubheader:t}=(0,r.x)(),o=(0,n.A)();return(0,d.jsx)(s.KJ,{align:"center",overflow:"normal",children:e||!t?(0,l.Bw)(o):t.text})}},579348(e,t,o){o.d(t,{Ay:()=>ec});var i=o(61163),a=o(859471),s=o(979638),l=o(19821),n=o(87524),r=o(623120),d=o(586733),c=o(676692),_=o(63661),u=o(624431),h=o(726326),g=o(584863),p=o(750810),m=o(608928),f=o(672334),A=o(743506),y=o(538329),w=o(752159),x=o(168079),b=o(562615);function P({onClick:e}){(0,a.useEffect)(()=>{(0,i.A)("MagicLinkLoginButton","/app/packages/desktopLoginModal/MagicLinkLoginButton.tsx")},[]);let[t,o]=(0,a.useState)(!1),s=(0,y.A)();(0,x.A)(()=>{(0,w.PM)("dweb.desktop_login_modal.magic_link_button.view")});let n=s.bt("Email login link", "Email login link", "unauth.loginForm.magicLinkLoginButton3", undefined, true);return(0,b.jsx)(l.Rp,{accessibilityHaspopup:!0,accessibilityLabel:"Magic link login button",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTap:()=>{(0,w.PM)("dweb.magic_link_login_button.click"),e?.()},children:(0,b.jsxs)(l.az,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",color:t?"secondary":"default",display:"flex",justifyContent:"between",marginBottom:2,marginTop:2,minHeight:40,paddingY:1,position:"relative",rounding:100,width:"100%",children:[(0,b.jsx)(l.az,{height:24,marginEnd:-5,marginStart:3,marginTop:1,width:24,children:(0,b.jsx)(l.In,{accessibilityLabel:s.bt("email icon", "email icon", "desktopLoginModal.magicLinkButtonIcon.accessibilityLabel", undefined, true),color:"default",icon:"gmail",size:20})}),(0,b.jsx)(l.az,{marginEnd:"auto",marginStart:"auto",width:200,children:(0,b.jsx)(l.KJ,{align:"center",weight:"bold",children:n})})]})})}function k({onClick:e}){(0,a.useEffect)(()=>{(0,i.A)("OneTimeCodeLoginButton","/app/packages/desktopLoginModal/OneTimeCodeLoginButton.tsx")},[]);let[t,o]=(0,a.useState)(!1),s=(0,y.A)();return(0,x.A)(()=>{(0,w.PM)("dweb.otp_login_button.view")}),(0,b.jsx)(l.Rp,{accessibilityHaspopup:!0,accessibilityLabel:s.bt("One-time passcode login button", "One-time passcode login button", "desktopLoginModal.otpButton.accessibilityLabel", undefined, true),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTap:()=>{(0,w.PM)("dweb.otp_login_button.click"),e?.()},children:(0,b.jsxs)(l.az,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",color:t?"secondary":"default",display:"flex",justifyContent:"between",marginBottom:2,marginTop:2,minHeight:40,paddingY:1,position:"relative",rounding:100,width:"100%",children:[(0,b.jsx)(l.az,{height:24,marginEnd:-5,marginStart:3,marginTop:1,width:24,children:(0,b.jsx)(l.In,{accessibilityLabel:s.bt("email icon", "email icon", "desktopLoginModal.magicLinkButtonIcon.accessibilityLabel", undefined, true),color:"default",icon:"gmail",size:20})}),(0,b.jsx)(l.az,{marginEnd:"auto",marginStart:"auto",width:200,children:(0,b.jsx)(l.KJ,{align:"center",children:s.bt("Email a login code", "Email a login code", "desktopLoginModal.otpButton.text", undefined, true)})})]})})}function z({onClickHandler:e}){(0,a.useEffect)(()=>{(0,i.A)("QRCodeLoginButton","/app/packages/desktopLoginModal/QRCodeLoginButton.tsx")},[]);let[t,o]=(0,a.useState)(!1),s=(0,y.A)();return(0,b.jsx)(l.Rp,{accessibilityHaspopup:!0,accessibilityLabel:"QR code login button",dataTestId:"qr-code-login-button",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTap:()=>{(0,w.PM)("dweb.qr_code_login_button.click"),e?.()},children:(0,b.jsxs)(l.az,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",color:t?"secondary":"default",display:"flex",height:40,marginBottom:2,marginTop:1,padding:3,position:"relative",rounding:100,width:"100%",children:[(0,b.jsx)(l.In,{accessibilityLabel:"QR code",color:"default",icon:"qr-code",inline:!0,size:"18"}),(0,b.jsx)(l.az,{marginEnd:"auto",marginStart:"auto",children:(0,b.jsx)(l.KJ,{align:"center",size:"300",children:s.bt("Use QR code", "Use QR code", "unauth.desktopWeb.loginForm.qrCodeLoginButton", undefined, true)})})]})})}var v=o(305178),S=o(105151),L=o(143539),E=o(665003),j=o(350306),C=o(455148),T=o(668014),M=o(457315),I=o(257300),R=o(123576),B=o(718882),O=o(542975),F=o(71106),D=o(520023),U=o(164373),N=o(173832),W=o(611842),G=o(583725),V=o(86767),q=o(760742),K=o(154325),J=o(144352),$=o(844255),H=o(618243),Q=o(607685),Y=o(497656),X=o(67765),Z=o(811154),ee=o(706466),et=o(718600),eo=o(199664),ei=o(734696);function ea(e,t,o){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let es=(0,a.lazy)(()=>o.e("53815").then(o.bind(o,434602))),el=Q.UU5,en="loginmodal",er="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1";class ed extends a.Component{constructor(e){super(e),ea(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),ea(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e&&e(!1),this.setState({accountRecoveryModalType:u.h[N.PI],loading:!1})}),ea(this,"onloadCallback",()=>{try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:er,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:er,callback:"verifyCaptcha"})}catch(e){}}),ea(this,"handleButtonClick",async(e,t,o)=>{let{authenticateWithSso:i,desktopCoreLoginContext:{viewer:a},email:s,handleSsoRedirect:l,navigate:n,logContextEvent:r}=this.props,{isSsoEmail:d,exchangeCodeToTokenUrl:c,existingUserSso:_,existingUserIsSso:u,ssoAuthorizationUri:h}=this.state;if(d){if(!_&&s){l&&l(),(0,q.K)(s,n);return}else if(u){r({event_type:101,element:14367,aux_data:{...(0,j.A)(a.type),signup_login_method:V.A.SSO}}),i({callbacks:{success:e=>{let{authCode:i,state:a}=e;s&&i&&this.loginUser("sso",{sso_user_email:s??"",sso_auth_code:i,sso_state:a},t,o)},error:e=>{(0,w.PM)(`unauth.login.sso.error.${en}`,{code:e.api_error_code,message:e.message}),this.handleLoginFailure("sso",{api_error_code:0},{sso_user_email:"",sso_auth_code:"",sso_state:""})}},exchangeCodeToTokenUrl:c,isLogin:!0,modalUrl:h??""});return}}r({event_type:101,element:30,aux_data:{...(0,j.A)(a.type),signup_login_method:V.A.EMAIL}}),this.setState({googleValidationError:null,hideFBGoogleToolTip:!1});let g=(0,eo.A)(this.props.email??"",this.emailValidators);if(g)this.setState({emailValidationError:g}),(0,w.PM)(`unauth.login.error.CLIENT_ERROR.malformemail.${en}`);else{this.setState({emailValidationError:null}),g=await (0,eo.X)(this.props.password,this.passwordValidators);let e=(0,eo.A)(this.props.password,this.asciiValidators);g?(this.setState({passwordValidationError:g}),(0,w.PM)(`unauth.login.error.CLIENT_ERROR.malformpwd.${en}`)):e?(this.setState({passwordValidationError:e}),(0,w.PM)(`unauth.login.error.CLIENT_ERROR.malformpwd.${en}`)):(this.setState({passwordValidationError:null}),this.loginUser("email",void 0,t,o))}}),ea(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),ea(this,"loadRecaptchaView",()=>{if("u">typeof document&&document.head)if(document.getElementById("recaptcha-jssdk"))this.onloadCallback();else{let e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}}),ea(this,"handleLoginFailure",(e,t,o)=>{let{email:i,i18n:a,loadingIndicatorCallback:s,setPassword:n,requestContext:r}=this.props;if((0,w.PM)(`unauth.login.error.LOGIN_FAILURE.${e}`,{apiErrorCode:t.api_error_code,httpStatus:t.httpStatus,isArkoseChallengeRequired:t.isArkoseChallengeRequired??!1,message:t.message}),s(!1),t.isArkoseChallengeRequired)return;this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token();let d=t.http_status||t.httpStatus,c=429===d?429:t.api_error_code;if(c===N.NS)return void G.Ay.handleLoginMfa(o,{phoneNumberEnd:t.data?.phone_number_end},this.props.onLoginWithMfa);if(429===d&&c===N.GL&&t.message&&"!"!==t.message[t.message.length-1]&&!G.Ay.isExceedRecaptchaLocalLimit()||c===N.T0&&412===d&&!G.Ay.isExceedRecaptchaLocalLimit()){this.loadRecaptchaView(),this.setState({passwordValidationError:a.bt("Oops! You logged in too quickly. Please try again with the reCAPTCHA.", "Oops! You logged in too quickly. Please try again with the reCAPTCHA.", "Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha", undefined, true),loading:!1});return}if(401===d&&c===N.WG){(0,w.PM)("unauth.dweb.login_form.error.invalid_password_google_user");let e=r.experimentsClient.checkExperiment("dweb_unauth_assist_google_connected_users",{dangerouslySkipActivation:!0}).group.includes("modal");this.setState({passwordValidationError:t.message,googleValidationError:e?null:a.bt("Log in with Google button", "Log in with Google button", "dweb.login.badPassword.googleConnected.tooltip", undefined, true),accountRecoveryModalType:e?G.ew.LOGIN_GOOGLE:null,loading:!1});return}if(401===d&&c===N.h8){(0,w.PM)("unauth.dweb.login_form.error.invalid_password_fb_user"),this.setState({passwordValidationError:(0,b.jsx)(l.KJ,{color:"error",size:"200",children:(0,O.vQ)(a.bt("Your account is connected to Facebook, but Facebook login is no longer available. {{ accountRecoveryLink }}", "Your account is connected to Facebook, but Facebook login is no longer available. {{ accountRecoveryLink }}", "unauth.desktopWeb.loginForm.errorMessage.fbLoginUnavailable", undefined, true),{accountRecoveryLink:(0,b.jsx)(l.az,{display:"inlineBlock",children:(0,b.jsx)(l.N_,{href:Q.UU5,target:"blank",children:(0,b.jsx)(l.KJ,{color:"error",size:"200",underline:!0,children:a.bt("Recover your account", "Recover your account", "unauth.desktopWeb.loginForm.errorMessage.fbLoginUnavailable.accountRecoveryLink", undefined, true)},"err_text")})})})}),loading:!1});return}let _=(0,W.A)({error:t,source:"login",onClickPasswordReset:()=>{(0,w.PM)("unauth_password_reset_link_tapped"),(0,I.A)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i||"",type:"reset"}}).then(()=>this.updateAccountRecoveryModal(G.ew.PASSWORD_RESET_SENT))}});_?(this.setState({..._,accountRecoveryModalType:c?u.h[c]:void 0,loading:!1}),_.passwordValidationError&&n("")):((0,w.PM)("unauth.login.error.LOGIN_FAILURE.unknow_error",{loginMethod:e,error:t}),(0,m.Q)(a.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setState({loading:!1}))}),ea(this,"verifyCaptcha",()=>{let e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);G.Ay.updateRecaptchaTimeStamp(),this.handleButtonClick(void 0,e),G.Ay.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))}),ea(this,"handleEmailChange",e=>{this.props.onEmailChange&&this.props.onEmailChange(e),this.debouncedCheckIfSsoUser(),this.setState({hideFBGoogleToolTip:!0})}),ea(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)}),ea(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:t}=this.props,o=await t(e??"");this.setState({exchangeCodeToTokenUrl:o.exchangeCodeToTokenUrl??"",isSsoEmail:o.isSso,existingUserSso:!!o.existingUser,existingUserIsSso:!!o.existingUserIsSso,ssoAuthorizationUri:o.authorizationUri??""})}),ea(this,"debouncedCheckIfSsoUser",(0,_.A)(()=>{(0,eo.A)(this.props.email??"",this.emailValidators)?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),ea(this,"sendOneTimeCodeEmailOnPasswordStep",async()=>{(0,w.PM)("dweb.desktop_login_modal.otp_email_send.click");let{email:e,showToast:t,i18n:o,setOneTimeCodeLoginStepAndSignupFlow:i}=this.props;try{(0,w.PM)("dweb.desktop_login_modal.otp_email_send.request"),await (0,I.A)({url:"/v3/verifications/send/",method:"POST",data:{channel:"email",recipient:e||void 0}}),i?.({step:"codeInput",email:e}),(0,w.PM)("dweb.desktop_login_modal.otp_email_send.success")}catch(i){let e=(0,M.A)(i,"api_error_code");(0,w.PM)(`dweb.desktop_login_modal.otp_email_send.error.${e}`),t(({hideToast:e})=>(0,b.jsx)(S.A,{onHide:e,text:(0,M.A)(i,"message")??o.bt("Something went wrong at our end. Please try again or try another login method.", "Something went wrong on our end, please try again or try another login method", "error.desktop_login_modal_otp.generic", undefined, true),type:"error",zIndex:g.Gj}))}}),ea(this,"sendMagicLinkEmailOnPasswordStep",async()=>{(0,w.PM)("dweb.desktop_login_modal.magic_link.send_link.click");let{email:e,showToast:t,i18n:o,handleMagicLinkSendSuccess:i}=this.props;try{(0,w.PM)("dweb.desktop_login_modal.magic_link_send.request"),await (0,I.A)({url:"/v3/users/magic_link/",method:"POST",data:{email:e||""}}),i?.(),(0,w.PM)("dweb.desktop_login_modal.magic_link_send.success")}catch(i){let e=(0,M.A)(i,"api_error_code");(0,w.PM)(`dweb.desktop_login_modal.magic_link_send.error.${e}`),t(e===N.gE?({hideToast:e})=>(0,b.jsx)(S.A,{onHide:e,text:o.bt("This email address isn’t associated with a Pinterest account. Please sign up or try again", "This email isn’t associated with a Pinterest account. Please sign up or try again", "dweb.desktopLoginModal.magicLink.noUser", undefined, true),type:"error",zIndex:g.Gj}):e===N.l4?({hideToast:e})=>(0,b.jsx)(S.A,{duration:g.Sk,onHide:e,text:o.bt("Magic link isn’t supported for accounts using two-factor authentication. Try another login method", "Magic link isn’t supported for accounts using two-factor authentication. Try another login method", "error.desktop_login_modal_magic_link.mfa_not_supported", undefined, true),zIndex:g.Gj}):({hideToast:e})=>(0,b.jsx)(S.A,{onHide:e,text:(0,M.A)(i,"message")??o.bt("Something went wrong at our end. Please try again.", "Something went wrong on our end, please try again", "dweb.desktopLoginModal.magicLink.general_error", undefined, true),type:"error",zIndex:g.Gj}))}}),ea(this,"handleBlur",()=>{this.setState({googleValidationError:null});let e=(0,eo.A)(this.props.email??"",this.asciiValidators);e&&(0,w.PM)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${en}`),(e=(0,eo.A)(this.props.password,this.asciiValidators))&&(0,w.PM)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${en}`)}),ea(this,"logContinueButtonClick",e=>{this.props.trackConversionUpsell({element:e,eventType:14689})}),ea(this,"renderSocialButtons",()=>{if(this.state.isSsoEmail)return null;let{hideLineButton:e,hideGoogleButton:t,isAccountSwitch:o,isPersonalizedLoginFlyout:i,loadingIndicatorCallback:s,nextUrlParam:n,onLoginWithMfa:r,container:d="unknown",socialSignupCallbacks:c,showResponseMessageModal:_,isLineAuthenticationEnabled:u,oneTimeCodeLoginPrimaryExpGroup:h}=this.props,{hideFBGoogleToolTip:g}=this.state,p="ACCOUNT_RECOVERY"===c.type?{...c,type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:e=>{"google"===e&&this.updateAccountRecoveryModal(G.ew.PREVENT_GOOGLE_REGISTER),c.switchToAccountRecoverySignupFlow(e)}}:c,m=!t&&(0,b.jsx)(A.A,{container:d,isAccountSwitch:o,logoCentered:"revamped_business_login_page"===d,nextUrlParam:n,onClick:()=>{this.logContinueButtonClick(13504)},onLoginWithMfa:r,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(G.ew.RATE_LIMITED),showResponseMessageModal:_,socialSignupCallbacks:p,tooltip:!g&&"string"==typeof this.state.googleValidationError&&this.state.googleValidationError||null}),f=!e&&u&&(0,b.jsx)(T.A,{name:"SafeSuspense_LineConnectButton",children:(0,b.jsx)(H.A,{children:(0,b.jsx)(es,{container:d,isAccountSwitch:o,loadingIndicatorCallback:s,nextUrlParam:n,onClick:()=>{this.logContinueButtonClick(13507)},onLoginWithMfa:r,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(G.ew.RATE_LIMITED),showResponseMessageModal:_,socialSignupCallbacks:p})})});return(0,b.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:{marginTop:i?"9px":"10px"}},"data-test-id":"login-options",children:[!h?.startsWith("enabled")&&!i&&(0,b.jsx)(l.az,{height:10}),m,!e&&u&&!i&&(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(l.az,{height:10}),f]})]})}),ea(this,"renderMagicLinkSendButton",()=>"emailPassword"===this.props.magicLinkLoginStep?(0,b.jsx)(P,{onClick:this.sendMagicLinkEmailOnPasswordStep}):null),ea(this,"renderOneTimeCodeSendButton",()=>"emailPassword"===this.props.oneTimeCodeLoginStep&&this.props.oneTimeCodeLoginPrimaryExpGroup?.startsWith("enabled_pwd")?(0,b.jsx)(k,{onClick:this.sendOneTimeCodeEmailOnPasswordStep}):null),ea(this,"renderContinueWithPasswordButton",()=>"codeInput"===this.props.oneTimeCodeLoginStep&&this.props.oneTimeCodeLoginPrimaryExpGroup?.startsWith("enabled_auto")?(0,b.jsx)(r.A,{onClick:()=>this.props.setOneTimeCodeLoginStepAndSignupFlow?.({step:"emailPassword"})}):null),ea(this,"renderQRCodeButton",()=>!this.state.isSsoEmail&&(0,b.jsx)(z,{onClickHandler:()=>{this.props.qrCodeLoginButtonClickHandler?.(),this.logContinueButtonClick(18232)}})),ea(this,"renderOneTimeCodeButton",()=>!this.state.isSsoEmail&&!this.props.isAccountSwitch&&"login"===this.props.oneTimeCodeLoginStep&&(0,b.jsx)(k,{onClick:()=>this.props.setOneTimeCodeLoginStepAndSignupFlow?.({step:"emailInput"})})),ea(this,"renderMagicLinkButton",()=>!this.state.isSsoEmail&&!this.props.isAccountSwitch&&"login"===this.props.magicLinkLoginStep&&(0,b.jsx)(P,{onClick:this.props.onLoginWithMagicLink})),ea(this,"renderRegisterForm",()=>{let{container:e,disableEmailLogin:t,email:o,hideEmailField:i,hideGoogleButton:s,hidePasswordField:n,i18n:r,isAccountSwitch:d,loginButtonTextOverride:c,password:_,suppressFocus:u,logContextEvent:h,requestContext:{isRTL:g},desktopCoreLoginContext:{viewer:p},viewType:m,viewParameter:f,component:A,attributionLabel:y}=this.props,{emailValidationError:x,loading:P,passwordValidationError:k,isSsoEmail:z,existingUserSso:S,existingUserIsSso:L}=this.state,E=z&&(!S||S&&L),C=c||r.bt("Log in", "Log in", "Copy on the button to log in", undefined, true);E&&(C=r.bt("Continue with SSO", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true));let T=k&&(0,a.isValidElement)(k)?null:(0,b.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{float:g?"right":"left"}},marginBottom:3,marginTop:2,children:(0,b.jsx)(l.KJ,{size:"200",weight:"bold",children:(0,b.jsx)(l.N_,{href:el+(o?`?ue=${o}`:""),onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,w.PM)("login_modal_forget_account"),(0,w.uq)("click_forget_password"),h({event_type:101,element:10881,aux_data:{...(0,j.A)(p.type)}})},children:r.bt("Forgotten your password?", "Forgot your password?", "Desktop login modal link for users to recover their account", undefined, true)})})});return(0,b.jsx)(v.A,{attributionLabel:y,buttonText:C,component:A,container:e,disableEmailLogin:t,email:o,emailText:r.bt("Email", "Email", "Placeholder text for email field", undefined, true),emailValidationError:x,hideEmailField:i,hideGoogleButton:s,hidePasswordField:n,isLogin:!0,isSsoEmail:E,loading:P&&!d,onButtonClick:(e,t)=>{this.handleButtonClick(void 0,void 0,t)},onEmailBlur:this.handleBlur,onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:_,passwordResetLink:T,passwordText:r.bt("Password", "Password", " - ", undefined, true),passwordValidationError:k,suppressFocus:u,viewParameter:f,viewType:m})}),ea(this,"renderPasswordlessRegisterForm",()=>{let{disableEmailLogin:e,email:t,i18n:o,isAccountSwitch:i,loginButtonTextOverride:s,magicLinkLoginStep:n,oneTimeCodeLoginStep:r,password:d,suppressFocus:c,logContextEvent:_,requestContext:{isRTL:u},desktopCoreLoginContext:{viewer:g},viewType:p,viewParameter:m,component:f,attributionLabel:A}=this.props,{emailValidationError:y,loading:x,passwordValidationError:P,isSsoEmail:k,existingUserSso:z,existingUserIsSso:S}=this.state,L=k&&(!z||z&&S),E=s||o.bt("Log in", "Log in", "loginButtonTextOverride.magic_link", undefined, true);L&&(E=o.bt("Continue with SSO", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true));let C=P&&(0,a.isValidElement)(P)||"emailSent"===n||"codeInput"===r?null:(0,b.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{float:u?"right":"left"}},marginBottom:3,marginTop:2,children:(0,b.jsx)(l.KJ,{size:"200",weight:"bold",children:(0,b.jsx)(l.N_,{href:el+(t?`?ue=${t}`:""),onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,w.PM)("login_modal_forget_account"),(0,w.uq)("click_forget_password"),_({event_type:101,element:10881,aux_data:{...(0,j.A)(g.type)}})},children:o.bt("Forgotten your password?", "Forgot your password?", "Desktop login modal link for users to recover their account", undefined, true)})})});return(0,b.jsxs)(l.az,{children:[("emailSent"===n||"codeInput"===r)&&(0,b.jsx)(h.A,{}),("emailPassword"===n||"emailPassword"===r)&&(0,b.jsx)(l.az,{marginBottom:2,children:(0,b.jsx)(l.KJ,{align:"center",children:t})}),(0,b.jsx)(v.A,{attributionLabel:A,buttonText:E,component:f,container:"select"!==r?"loginMagicLink":"loginOtp",disableEmailLogin:e,email:t,emailText:o.bt("Email address", "Email", "registerForm.label.email", undefined, true),emailValidationError:y,hideEmailField:!0,hideGoogleButton:!0,hidePasswordField:!1,isSsoEmail:L,loading:x&&!i,onButtonClick:(e,t)=>{this.handleButtonClick(void 0,void 0,t)},onEmailBlur:this.handleBlur,onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:d,passwordResetLink:C,passwordText:o.bt("Password", "Password", "registerForm.label.password", undefined, true),passwordValidationError:P||y,suppressFocus:c,viewParameter:m,viewType:p})]})}),ea(this,"renderOriginalForm",()=>{let{hideGoogleButton:e,hideLineButton:t,hidePasswordField:o,isLineAuthenticationEnabled:i,shouldExpandQRCode:s,isAccountSwitch:l,magicLinkLoginStep:n,magicLinkPrimaryExpGroup:r,requestContext:d,oneTimeCodeLoginStep:c,oneTimeCodeLoginPrimaryExpGroup:_,handleMagicLinkSendSuccess:u,onLoginWithMagicLink:g,qrCodeLoginButtonClickHandler:p,setOneTimeCodeLoginStepAndSignupFlow:m}=this.props,f=r?.endsWith("lite")&&"emailSent"===n,A=!o&&!e&&!this.state.isSsoEmail&&!f,y="emailInput"!==n&&"emailSent"!==n&&("emailPassword"!==n||!r?.startsWith("enabled"))&&"emailInput"!==c&&("codeInput"!==c&&"emailPassword"!==c||!_?.startsWith("enabled")),w="emailPassword"===n||"emailPassword"===c||"emailSent"===n&&r?.startsWith("enabled_auto");return(0,b.jsxs)(a.Fragment,{children:[y&&this.renderRegisterForm(),w&&this.renderPasswordlessRegisterForm(),!s&&(A||c)&&!f&&(!e||!t&&i)&&(0,b.jsx)(h.A,{}),u&&this.renderMagicLinkSendButton(),m&&this.renderOneTimeCodeSendButton(),m&&this.renderContinueWithPasswordButton(),!f&&this.renderSocialButtons(),!f&&d.experimentsClient.checkExperiment("dweb_unauth_magic_link_login_exp_v1").anyEnabled&&g&&this.renderMagicLinkButton(),!f&&d.experimentsClient.checkExperiment("dweb_unauth_otp_login_v1").anyEnabled&&m&&this.renderOneTimeCodeButton(),!l&&p&&!f&&!s&&this.renderQRCodeButton()]})}),ea(this,"renderButtons",()=>this.renderOriginalForm()),ea(this,"renderTextAndLinkToSignup",()=>{let{onRedirectToSignup:e=()=>{}}=this.props;return(0,b.jsxs)(l.az,{display:"flex",paddingY:6,children:[(0,b.jsx)(l.KJ,{size:"300",weight:"normal",children:this.props.i18n.bt("Don’t have a business account?", "Don’t have a business account?", "businessAccountCreate.signupLink.text", undefined, true)}),(0,b.jsx)(l.az,{marginStart:1,children:(0,b.jsx)(l.N_,{display:"inlineBlock",href:"#",onClick:({event:t,dangerouslyDisableOnNavigation:o})=>{t.preventDefault(),o(),e()},children:(0,b.jsx)(l.KJ,{size:"300",weight:"normal",children:this.props.i18n.bt("Create one for free", "Create one for free", "businessAccountCreate.signupLink.CTA", undefined, true)})},0)})]})}),this.state={accountRecoveryModalType:null,emailValidationError:null,passwordValidationError:null,googleValidationError:null,loading:!1,hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:t}=e,o=t.bt("You missed a bit! Don't forget to add your email address.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true),i=t.bt("That doesn't look like an email address.", "Hmm...that doesn't look like an email address.", " - ", undefined, true),s=t.bt("Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Login.password.onlyASCII", undefined, true);this.emailValidators=[(0,ei.mg)({message:o}),(0,ei.Ps)({message:i})];let n=t.bt("The password you entered is incorrect.", "The password you entered is incorrect.", " - ", undefined, true);this.passwordValidators=[(0,et.A)({shortPassStr:n,samePasswordStr:n,blackPassStr:n})],this.asciiValidators=[(0,ei.Ji)({message:s})]}componentDidMount(){(0,i.A)("Login","/app/packages/desktopLoginModal/Login.tsx");let{isAccountSwitch:e,email:t,nextUrlParam:o,requestContext:a,showResponseMessageModal:s}=this.props;G.Ay.isFullyLoggedIn(a.isAuthenticated,a.loginState)&&!e&&(s?s(!1):G.Ay.handleRedirect(o)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1,t&&this.checkIfSsoUser()}componentWillUnmount(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}loginUser(e,t,o,i){let{container:a="unknown",email:s,flushContextEvents:l,isAccountSwitch:n,loadingIndicatorCallback:r,login:d,pageContext:c,showResponseMessageModal:_,desktopCoreLoginContext:{viewer:u}}=this.props;this.setState({loading:!0}),r(!0);let h=t||{username_or_email:s||"",password:this.props.password},g={container:a,page:c?c.pageType:void 0,component:"Login"},p=V.A.EMAIL;"google"===e?p=V.A.GPLUS:"sso"===e&&(p=V.A.SSO),R.A.pause(B.EQ),l(),d({creds:h,loggingOptions:{loggingData:g,loginAttemptContextEvent:{event_type:7534,element:"google"===e?12981:void 0,aux_data:{...(0,j.A)(u.type),signup_login_method:p}}},isAccountSwitch:n,recaptchaV2Token:o,recaptchaV3Token:this.props.recaptchaV3Token||"default",fingerprintData:i}).then((e={})=>{G.Ay.storeLoginCredentialsToBrowser(h);let t=this.props.nextUrlParam||G.Ay.defaultLoginRedirectUrl();if(n&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){let{user:o}=e.resource_response.data;(0,F.A)(o,"email",a),t="/"+o.username}else G.Ay.storeLoginCredentialsToBrowser(h);_?_(!1):G.Ay.handleRedirect(t)},t=>this.handleLoginFailure(e,t,h))}render(){let{email:e,container:t,magicLinkPrimaryExpGroup:o,hideTermsOfService:i,isBusiness:a,shouldExpandQRCode:s}=this.props,n="revamped_business_login_page"===t;return(0,b.jsxs)(l.so,{alignItems:"center",direction:"column",children:[(0,b.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:s||n?"100%":268,children:[(0,b.jsx)(u.A,{email:e||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),n&&this.renderTextAndLinkToSignup()]}),(0,b.jsxs)(l.az,{paddingY:4*!!o?.endsWith("lite"),width:n?"100%":g.lt,children:[a&&(0,b.jsx)(f.A,{}),!i&&a&&(0,b.jsx)(Y.A,{})]})]})}}function ec(e){(0,a.useEffect)(()=>{(0,i.A)("Login","/app/packages/desktopLoginModal/Login.tsx")},[]);let t=(0,y.A)(),{flushContextEvents:o,logContextEvent:l}=(0,d.o)(),r=(0,C.rc)(),_=(0,s.zy)(),u=(0,s.Zp)(),{recaptchaV3Token:h,refreshToken:g}=(0,J.c)(),m=(0,p.Mm)(),{country:f}=(0,$._8)(),A=(0,E.A)(),[w,x]=(0,a.useState)(""),{viewType:P,viewParameter:k}=(0,c.WQ)(),z=(0,L.C)(),{trackConversionUpsell:v}=(0,Z.A)(),{authenticateWithSso:S,verifySsoUser:j}=(0,K.Ay)(),T=(0,X.A)();e.requestContext.experimentsClient.checkExperiment("qr_code_login_disable_ip_check");let{showToast:M}=(0,ee.CG)(),{isLoadingFingerprintContext:I}=(0,n.e)()??{isLoadingFingerprintContext:!1};return(0,a.useEffect)(()=>{e.loadingIndicatorCallback(I)},[I]),(0,a.useEffect)(()=>{(0,D.A)(_)&&(async()=>{try{await (0,U.E)()}catch{}})()},[]),(0,b.jsx)(ed,{...e,authenticateWithSso:S,desktopCoreLoginContext:m,flushContextEvents:o,i18n:t,isLineAuthenticationEnabled:"JP"===f,logContextEvent:l,login:A,navigate:u,pageContext:r,password:w,recaptchaV3Token:h,refreshRecaptchaV3Token:g,setPassword:x,showToast:M,trackConversionUpsell:v,trackInteraction:T,unauthDesktopSignupModalPageContext:z,verifySsoUser:j,viewParameter:k,viewType:P})}},305178(e,t,o){o.d(t,{A:()=>j});var i=o(61163),a=o(859471),s=o(19821),l=o(658289),n=o(586733),r=o(896208),d=o(26530),c=o(168079),_=o(871840),u=o(562615);let h={width:0,height:0,display:"none",border:"none"},g={display:"flex",height:"100%",width:"100%",position:"fixed",top:0,left:0,zIndex:10001,inset:0,border:"none"};function p({component:e,experimentGroup:t,startTimeMs:o,onChallengeCompleted:s}){(0,a.useEffect)(()=>{(0,i.A)("ArkoseIframe","/app/common/react/components/head/fingerprint/ArkoseIframe.tsx")},[]);let p=t===d.DG.ENABLED_ARKOSE_IFRAME,[m,f]=(0,a.useState)(!1),{logContextEvent:A}=(0,n.o)();if((0,c.A)(()=>{p&&window.addEventListener("message",t=>{if(!t.data||"object"==typeof t.data||t.origin!==r.SW)return;let i=JSON.parse(t.data);switch(i.eventId){case"challenge-loaded":A({event_type:8109,component:e,element:18039,aux_data:{time_in_ms:Math.round(performance.now()-o),is_iframe:!0}});break;case"challenge-complete":i.payload?.sessionToken&&s(i.payload.sessionToken),f(!1);break;case"challenge-show":f(!0);break;case"challenge-hide":f(!1)}})}),p){let e=document.getElementById(_.HU);return e&&(0,l.createPortal)((0,u.jsx)("iframe",{id:"arkoseFrame",src:`${r.SW}/${(0,r.YA)()}/lightbox.html`,style:m?g:h,title:"Arkose Challenge"}),e)}return null}var m=o(87524);let f=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"];var A=o(988852),y=o(314174),w=o(538329),x=o(542975),b=o(558508),P=o(353090),k=o(446627),z=o(601185),v=o(752159),S=o(811154),L=o(971289),E=o(343520);function j({buttonText:e,buttonTextLabel:t,container:o="",disableEmailLogin:l,email:r,emailFieldHasError:d,emailLabel:_,emailText:h,emailValidationError:g,hideEmailField:j,hideGoogleButton:C,hidePasswordField:T,isSsoEmail:M,isLogin:I=!1,onButtonClick:R,onEmailBlur:B,onEmailChange:O,onPasswordChange:F,password:D,passwordResetLink:U,passwordText:N,passwordValidationError:W,signupForm:G,suppressFocus:V,component:q}){(0,a.useEffect)(()=>{(0,i.A)("RegisterForm","/app/packages/desktopLoginModal/RegisterForm/RegisterForm.tsx")},[]);let K=(0,w.A)(),[J,$]=(0,a.useState)(!!G),[H,Q]=(0,a.useState)(null),[Y,X]=(0,a.useState)(""),{trackConversionUpsell:Z}=(0,S.A)(),{checkExperiment:ee}=(0,z.A)(),{logContextEvent:et}=(0,n.o)(),eo=(0,L.qJ)(),ei=(0,a.useRef)(performance.now()),{fingerprintData:ea,setupFingerprintSdks:es}=(0,m.e)()??{};(0,c.A)(()=>{es?.()});let el=async()=>{if(B?.(),G)if(r)try{let{userExists:e,fieldsValidationResponse:t}=await (0,k.A)({email:r,checkExperiment:ee,isDesktop:eo});e?((0,v.PM)("web.unauth.signup.email_entered"),J&&$(!1)):(J||$(!0),t||await G.checkEmailValidation(r))}catch(e){$(!0)}else $(!0);let e=e=>{X(e),r===e?Q(null):(Q(e),(0,v.PM)("unauth.email_domain_typo_suggestion.shown"))},t=r&&-1!==r.indexOf("@")?r.split("@"):[];if(r&&r!==Y||Q(null),r&&t&&r.length<60){if(2===t.length){let o=t[1],i=o&&-1!==o.indexOf(".")?o.split("."):[];i.length>=2&&"gmail"===i[0]&&("com"!==i.slice(1).join(".")?e(t[0]+"@gmail.com"):Q(null))}let o=t[1]&&f.includes(t[1])?null:t[1]&&f.map(e=>{let o=(0,b.A)(e,t[1]);return 2===o||1===o?e:null}).filter(e=>"string"==typeof e);o&&o.length&&e(o[0]?`${t[0]}@${o[0]}`:"")}},en=g;!en&&(T||l)&&!C&&(en=K.bt("Your account is connected to Google - use the Google button to log in", "Your account is connected to Google - use the Google button to log in", "Customized desktop login for users with Google", undefined, true));let er=T||M,ed="revamped_business_login_page"===o;return(0,u.jsxs)(a.Fragment,{children:[void 0!==ea&&(0,u.jsx)(p,{component:q,experimentGroup:ea.current.experimentGroup,onChallengeCompleted:e=>{ea.current.arkoseSessionToken=e},startTimeMs:ei.current}),(0,u.jsxs)("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),ea&&!ea.current.submitTriggeredTime&&(ea.current.submitTriggeredTime=performance.now()),et({event_type:16896,component:13096,element:31,aux_data:{score_source:"zxcvbn",score:(0,E.Tg)(D),surface:"SET_PASSWORD_ARR"}}),R(e,ea)},children:[!j&&(0,u.jsx)(s.az,{marginBottom:ed?4:1,marginStart:2,children:!ee("dweb_unauth_login_signup_form_vr").anyEnabled&&(0,u.jsx)(s.JU,{htmlFor:"email",children:(0,u.jsx)(s.KJ,{size:ed?"300":"200",children:K.bt("Email address", "Email", "registerForm.label.email", undefined, true)})})}),!j&&(0,u.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{marginBottom:ed?36:7}},children:(0,u.jsx)(y.A,{autoComplete:"email",dataTestId:"emailInputField",disabled:!!G?.registerRestricted,domainError:H?(0,x.vQ)(K.bt("Did you mean {{ newEmail }}?", "Did you mean {{ newEmail }}?", " - ", undefined, true),{newEmail:(0,u.jsx)(s.KJ,{color:"error",inline:!0,size:"200",weight:"bold",children:H},"err_text")}):void 0,focused:!V,hasError:!!g||!!d,id:"email",inputLabel:K.bt("Email address", "Email", "registerForm.label.email", undefined, true),label:_,name:"id",onBlur:el,onChange:O,placeholder:h,tooltip:en,type:"email",value:r})}),!er&&(0,u.jsx)(s.az,{marginBottom:ed?4:1,marginStart:2,marginTop:4*!!ed,children:!ee("dweb_unauth_login_signup_form_vr").anyEnabled&&(0,u.jsx)(s.JU,{htmlFor:"password",children:(0,u.jsx)(s.KJ,{size:ed?"300":"200",children:K.bt("Password", "Password", "registerForm.label.password", undefined, true)})})}),!er&&(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)(y.A,{autoComplete:I?"current-password":"new-password",dataTestId:"passwordInputField",disabled:!!l||!!G?.registerRestricted,focused:!!j&&!V,hasError:!!W,id:"password",inputLabel:K.bt("Password", "Password", "registerForm.label.password", undefined, true),label:K.bt("Use 8 or more letters, numbers and symbols", "Use 8 or more letters, numbers and symbols", "passwordStrengthMeter.description", undefined, true),name:"password",onChange:F,onFocus:()=>{(0,v.uq)("focus_password")},placeholder:N,tooltip:W,type:"password",value:D}),(0,u.jsx)(s.az,{"data-test-id":"password-reset-button",children:U??null}),G&&(0,u.jsx)(P.default,{password:D})]}),window.recaptchaCount&&window.recaptchaCount>0?(0,u.jsx)("div",{className:"g-recaptcha",id:`recaptcha_placeholder_${window.recaptchaCount}`,style:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"}}):null,G&&!M&&(0,u.jsx)(A.A,{...G.birthdayProps}),G?.registerRestricted&&(0,u.jsx)(s.az,{marginTop:2,children:(0,u.jsx)(s.KJ,{color:"error",size:"100",children:K.bt("Sorry, you’re not eligible to sign up for Pinterest just now.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Signup.AgeStep.underageError", undefined, true)})}),!T&&(0,u.jsx)(s.az,{"data-test-id":"registerFormSubmitButton",marginBottom:M?2:void 0,marginTop:ed?7:2,children:(0,u.jsx)(s.$n,{accessibilityLabel:t,color:"primary",disabled:l||!!G?.registerRestricted,fullWidth:!0,onClick:()=>{Z({element:14214===q?12019:30,eventType:14689}),J?((0,v.uq)("press_signup_continue"),(0,v.mY)({event:"start",provider:"email"})):((0,v.XB)({event:"start",provider:"email"}),(0,v.uq)("press_login_continue"))},text:e,type:"submit"})})]})]})}},988852(e,t,o){o.d(t,{A:()=>c});var i=o(61163),a=o(859471),s=o(19821),l=o(173415),n=o(538329),r=o(752159),d=o(562615);function c({birthday:e,birthdayValidationError:t,disabled:o,setBirthdayValidationError:c,onBirthdayChange:_}){(0,a.useEffect)(()=>{(0,i.A)("RegisterFormBirthdaySection","/app/packages/desktopLoginModal/RegisterForm/RegisterFormBirthdaySection.tsx")},[]);let u=(0,n.A)(),h=u.bt("To help keep Pinterest safe, we now require your date of birth. Your date of birth also helps us provide more personalised recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "registerForm.label.birthdate.tooltipDescription", undefined, true);return(0,a.useEffect)(()=>{(0,r.PM)("dweb.signup_age_step",{type:"email",format:"birthday"})},[]),(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(s.az,{marginBottom:1,marginStart:2,marginTop:2,children:(0,d.jsxs)(s.so,{children:[(0,d.jsx)(s.az,{marginEnd:2,children:(0,d.jsx)(s.JU,{htmlFor:"birthdate",children:(0,d.jsx)(s.KJ,{size:"200",children:u.bt("Date of birth", "Birthdate", "registerForm.label.birthdate", undefined, true)})})}),(0,d.jsx)(s.m_,{accessibilityLabel:"",idealDirection:"right",text:h,zIndex:l.S,children:(0,d.jsx)(s.az,{tabIndex:0,children:(0,d.jsx)(s.In,{accessibilityLabel:h,icon:"circle-information"})})})]})}),(0,d.jsx)(s.az,{"data-test-id":"signup-birthdate-field",children:(0,d.jsx)(s.A_,{autoComplete:"bday",disabled:o,errorMessage:t,id:"birthdate",onChange:e=>{_(e),c("")},size:"lg",type:"date",value:e||""})})]})}},698489(e,t,o){o.d(t,{A:()=>d});var i=o(61163),a=o(859471),s=o(19821),l=o(79906),n=o(538329),r=o(562615);function d({type:e,onDismiss:t}){(0,a.useEffect)(()=>{(0,i.A)("SocialAuthDisabledModal","/app/packages/desktopLoginModal/SocialAuthDisabledModal.tsx")},[]);let o=(0,n.A)(),d="facebook"===e?o.bt("Facebook isn't available", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):o.bt("Google isn't available", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),c="facebook"===e?o.bt("It looks as though Facebook isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):o.bt("It looks as though Google isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,r.jsx)(l.Ay,{accessibilityModalLabel:d,footer:(0,r.jsx)(s.so,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(s.az,{"data-test-id":"SocialAuthDisabledModal",paddingX:1,children:(0,r.jsx)(s.$n,{color:"primary",onClick:t,size:"md",text:o.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true)})})}),heading:d,isOpen:!0,onDismiss:t,children:(0,r.jsx)(s.az,{paddingX:5,children:(0,r.jsx)(s.KJ,{align:"center",children:c})})})}},314174(e,t,o){o.d(t,{A:()=>c});var i=o(61163),a=o(859471),s=o(19821),l=o(812917),n=o(131094),r=o(844255),d=o(562615);function c({label:e,autoComplete:t="on",disabled:o,domainError:c,focused:_,hasError:u,helperText:h,id:g,inputLabel:p,name:m,onBlur:f,onChange:A,onFocus:y,placeholder:w,tooltip:x,type:b,useExperimentalTextfield:P,value:k,dataTestId:z}){(0,a.useEffect)(()=>{(0,i.A)("TextInputField","/app/packages/desktopLoginModal/TextInputField.tsx")},[]);let v=(0,a.useRef)(_),S=(0,a.useRef)(null),L=(0,a.useRef)(u),E=(0,r._8)(),j=E.experimentsClient.checkExperiment("dweb_unauth_login_signup_form_vr").anyEnabled;return(0,a.useEffect)(()=>{v.current&&S.current?.focus()},[]),(0,a.useEffect)(()=>{!1===L.current&&u&&S.current?.focus(),L.current=u},[u]),(0,d.jsxs)(s.az,{"data-test-id":"textFieldWrapper",position:"relative",children:[(0,d.jsx)(s.az,{display:"visuallyHidden",children:(0,d.jsx)(s.JU,{htmlFor:g,children:e??w??""})}),E.userAgent.browserName?.includes("Edge")&&(0,d.jsx)(n.A,{unsafeCSS:l.ss}),(0,d.jsx)(s.A_,{ref:S,autoComplete:P?void 0:t,dataTestId:z,disabled:o,errorMessage:x?P&&c||x:"",helperText:P?void 0:h,id:g,label:j?p:void 0,name:m,onBlur:f,onChange:({event:e})=>A(e),onFocus:y,placeholder:w,size:P?void 0:"lg",type:b,value:k||""})]})}},105151(e,t,o){o.d(t,{A:()=>r});var i=o(61163),a=o(859471),s=o(19821),l=o(567176),n=o(562615);function r({zIndex:e,...t}){return(0,a.useEffect)(()=>{(0,i.A)("ToastForDesktopLoginModal","/app/packages/desktopLoginModal/ToastForDesktopLoginModal.tsx")},[]),(0,n.jsx)(s.Wd,{children:(0,n.jsx)(s.az,{bottom:!0,display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:e,children:(0,n.jsx)(l.A,{...t})})})}},276890(e,t,o){o.d(t,{A:()=>n});var i=o(61163),a=o(859471),s=o(19821),l=o(562615);function n({message:e,anchor:t}){(0,a.useEffect)(()=>{(0,i.A)("Tooltip","/app/packages/desktopLoginModal/Tooltip.tsx")},[]);let[o,n]=(0,a.useState)(!0);return o?(0,l.jsx)(s.fT,{anchor:t,idealDirection:"right",onDismiss:()=>n(!1),children:(0,l.jsx)(s.az,{padding:3,children:(0,l.jsx)(s.KJ,{color:"light",size:"200",weight:"bold",children:e})})}):null}},930399(e,t,o){o.d(t,{A:()=>g});var i=o(61163),a=o(859471),s=o(19821),l=o(148867),n=o(406230),r=o(251407),d=o(567176),c=o(538329),_=o(583725),u=o(752159),h=o(562615);let g=({birthday:e,onEditBirthday:t,onConfirmBirthday:o=()=>{}})=>{(0,a.useEffect)(()=>{(0,i.A)("UnderageConfirmation","/app/packages/desktopLoginModal/UnderageConfirmation.tsx")},[]);let g=(0,c.A)(),[p,m]=(0,a.useState)(!1);return(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(s.az,{"data-test-id":"underageconfirmation-modal",padding:8,children:(0,h.jsxs)(s.so,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,h.jsx)(s.az,{"data-test-id":"underageconfirmation-title",marginBottom:5,width:420,children:(0,h.jsx)(s._Y,{align:"center",size:"700",children:(0,n.wq)(e||"",g)})}),(0,h.jsx)(s.az,{marginBottom:10,maxWidth:540,children:(0,h.jsx)(s.KJ,{align:"center",children:(0,n.QI)(g)})}),(0,h.jsx)(s.az,{children:(0,h.jsxs)(s.so,{children:[(0,h.jsx)(s.az,{marginEnd:2,children:(0,h.jsx)(s.$n,{onClick:()=>{(0,u.PM)("dweb.underageconfirmation.edit"),r.hZ(l.W$,"0",(0,r.N_)(l.W$)),t()},text:g.bt("Edit", "Edit", "signup.underageconfirmation.edit", undefined, true)})}),(0,h.jsx)(s.$n,{color:"primary",onClick:()=>{m(!0),(0,u.PM)("dweb.underageconfirmation.confirm"),o(),setTimeout(()=>{_.Ay.handleRedirect("/")},4e3)},text:g.bt("Confirm", "Confirm", "signup.underageconfirmation.confirm", undefined, true),type:"submit"})]})})]})}),p&&(0,h.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,h.jsx)(d.A,{duration:3500,onHide:()=>m(!p),text:g.bt("Sorry, you’re not eligible to sign up for Pinterest just now.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.underageconfirmation.error", undefined, true)})})]})}},584863(e,t,o){o.d(t,{Gj:()=>c,Gk:()=>r,Sk:()=>d,VD:()=>l,b:()=>s,ii:()=>n,lt:()=>_});var i=o(19821),a=o(969030);let s=new i.K5([a.A]),l={attributionLabel:"unauth_hybrid_banner",source:"login",container:"bottom.right.upsell.email",reason:"CLICK_LOGIN_OR_SIGNUP"},n=350,r=286,d=5e3,c=new i.rk(10001),_=320},350306(e,t,o){o.d(t,{A:()=>a});var i=o(641467);let a=e=>"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?i.A.LIMITED:i.A.DEFAULT}},455148(e,t,o){o.d(t,{qK:()=>i,rc:()=>a});let{Provider:i,getMaybe:a}=(0,o(987628).A)("pageContext")},992456(e,t,o){function i(e){e&&e.focus()}o.d(t,{A:()=>i})},760742(e,t,o){o.d(t,{K:()=>l});var i=o(871292),a=o(441961),s=o(635924);let l=(e,t,o)=>{let l=window.location.origin,n=`/signup/sso-business-account?email=${e}`;o&&(n=(0,a.A)(n,o)),l===s.Lj?t(n):(0,i.A)(`${s.Lj}${n}`)}},611842(e,t,o){o.d(t,{A:()=>h});var i=o(61163),a=o(859471),s=o(19821),l=o(538329),n=o(542975),r=o(173832),d=o(562615);function c({apiErrorCode:e,errorMessage:t,onClickPasswordReset:o}){(0,a.useEffect)(()=>{(0,i.A)("PasswordResetErrorMessage","/app/packages/desktopLoginModal/PasswordResetErrorMessage.tsx")},[]);let c=(0,l.A)(),_=({text:e})=>(0,d.jsx)(s.az,{display:"inlineBlock",children:(0,d.jsx)(s.Rp,{onTap:o,children:(0,d.jsx)(s.KJ,{color:"error",size:"200",underline:!0,children:e},"err_text")})}),u=(e=>{switch(e){case r.WT:case r.k8:return(0,n.vQ)(c.bt("We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.", "We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.", "Error message when user is soft banned", undefined, true),{resetPasswordLink:(0,d.jsx)(_,{text:c.bt("Reset your password", "Reset your password", "Link text for password reset", undefined, true)})});case r._c:return(0,n.vQ)(c.bt("Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}", "Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,d.jsx)(_,{text:c.bt("set a password.", "set a password.", "Link text to set password for user with account with only google auth", undefined, true)})});case r.h8:return(0,n.vQ)(c.bt("Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}", "Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,d.jsx)(_,{text:c.bt("set a password.", "set a password.", "Link text to set password for user with account with only facebook auth", undefined, true)})});case r.f7:return(0,n.vQ)(c.bt("Your account is connected to Apple. This option only works on the Pinterest iOS app. To log in to Pinterest here, you’ll need to {{ resetPasswordLink }}", "Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you’ll need to {{ resetPasswordLink }}", "unauth.web.emailLogin", undefined, true),{resetPasswordLink:(0,d.jsx)(_,{text:c.bt("set a password.", "set a password.", "Link text to set password for user with account with only apple auth", undefined, true)})});case r.Ty:return(0,n.vQ)(c.bt("The password you entered is incorrect. Try again or {{ resetPasswordLink }}", "The password you entered is incorrect. Try again or {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,d.jsx)(_,{text:c.bt("Reset your password", "Reset your password", "Link text for password reset", undefined, true)})});default:return[t]}})(e);return(0,d.jsx)(s.az,{"data-test-id":"touchableErrorMessage",children:u.map((e,t)=>(0,d.jsx)(s.KJ,{color:"error",inline:!0,size:"200",children:e},`err_message_${t}`))})}var _=o(752159);let u=[...r.yE,429,r.Ty,r.f7].filter(e=>e!==r.IR&&e!==r.PI);function h({error:e,onClickPasswordReset:t,source:o}){(0,_.PM)("unauth.login.error.GENERIC_FAILURE",{apiErrorCode:e.api_error_code,httpStatus:e.httpStatus,isArkoseChallengeRequired:e.isArkoseChallengeRequired??!1,message:e.message?.toString(),source:o});let i=e.api_error_code;429===(e.http_status||e.httpStatus)&&(i=429);let a=i&&u.includes(i)?(0,d.jsx)(c,{apiErrorCode:i,errorMessage:e.message??"",onClickPasswordReset:t}):e.message;if(a)switch(i){case r.Ty:case r.IR:return{passwordValidationError:a};case r.h8:return{facebookValidationError:a};case r._c:return{googleValidationError:a};case r.Um:return{emailValidationError:a};case r.T0:return{passwordValidationError:a};default:return{emailValidationError:a}}return(0,_.PM)(`unauth.login.error.SERVER_ERROR.unknown.${String(i)}.${o}`),null}},199725(e,t,o){o.d(t,{A:()=>d});var i=o(859471),a=o(35458),s=o(457315),l=o(257300),n=o(752159),r=o(971289);function d(e,t){let o=(0,r.qJ)()?"dweb.desktop_login_modal.":"mweb.mobile_login_form.";return{checkEmailBounce:(0,i.useCallback)(async i=>{try{let i=await (0,l.A)({url:"/v3/email/validation/",data:{email:e}}),s=a.z.object({is_valid:a.z.boolean()}).safeParse(i.resource_response.data);if(!s.success)throw Error("response type error");let{data:r}=s;r.is_valid?(0,n.PM)(`${o}${t}.not_bounced_email`):(0,n.PM)(`${o}${t}.bounced_email`)}catch(e){if(i?.(),e instanceof Error)return void(0,n.PM)(`${o}${t}.email_bounced_check.error.type_error`);(0,n.PM)(`${o}${t}.email_bounced_check.error.${(0,s.A)(e,"api_error_code")}`)}},[e,o,t])}}},11925(e,t,o){o.d(t,{A:()=>i});let i=(e,t)=>{let o=new URL(e,"https://pinterest.com");return o.search=new URLSearchParams(t).toString(),o.toString().substring(o.origin.length)}},718600(e,t,o){o.d(t,{A:()=>i});let i=e=>async()=>{let{Password:t}=await Promise.all([o.e("18324"),o.e("21694")]).then(o.bind(o,501713));return t(e)}},199664(e,t,o){async function i(e,t){let o;for(let i of t){let t=i(e);if(t instanceof Promise){let i=(await t)(e);if(i.errors.length>0){o=i.errors[0];break}}else if(t.errors.length>0){o=t.errors[0];break}}return o}o.d(t,{A:()=>a,X:()=>i});let a=(e,t)=>{let o;return t.some(t=>{let i=t(e);return i.errors.length>0&&(o=i.errors[0],!0)}),o}},843754(e){e.exports="https://s.pinimg.com/webapp/birthday-d809c2dd.png"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97432.en_GB-0e814821fe2776c4.mjs.map