(self.modernJsonp=self.modernJsonp||[]).push([["44332"],{542433(e,t,n){var a,i,o,l;n.r(t),n.d(t,{default:()=>r});let s={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"MobileSignupModalUpsellNavigationControllerQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"topInterest",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MobileSignupModalUpsellNavigationControllerQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"873b81b83ac56d5112ea75c6e0e940b6cae5116f9c9481cf142085a2bba4d407",metadata:{},name:"MobileSignupModalUpsellNavigationControllerQuery",operationKind:"query",text:null}};s.hash="576beb8013f7da67a032afbb79100afb";let r=s},497656(e,t,n){n.d(t,{A:()=>S});var a=n(61163),i=n(859471),o=n(19821),l=n(676692),s=n(201593),r=n(538329),d=n(542975),c=n(607685),u=n(743372),_=n(67765),p=n(562615);function g({href:e,viewType:t,viewParameter:n,dataTestId:l,trackItem:s,element:r=8012,children:d}){(0,i.useEffect)(()=>{(0,a.A)("TermsLink","/app/packages/TermsOfService/TermsLink.tsx")},[]);let c=(0,_.A)(),g=(0,u.A)();return(0,p.jsx)(o.N_,{dataTestId:l,display:"inline",href:e,onClick:()=>{s&&c({action:"click",item:s}),t&&g({view_type:t,view_parameter:n,element:r,event_type:102})},target:"blank",children:d})}let m="SIGNUP_PERSONAL",h="CONVERSION_PERSONAL",b="SIGNUP_BUSINESS",f="CONVERSION_BUSINESS",y=(e,t,n)=>n[`${t?"CONVERSION":"SIGNUP"}_${e?"BUSINESS":"PERSONAL"}`];function w({isBusiness:e,textColor:t,alignText:n,viewType:l,viewParameter:s,isConversion:u=!1}){(0,i.useEffect)(()=>{(0,a.A)("DefaultTerms","/app/packages/TermsOfService/DefaultTerms.tsx")},[]);let _=(0,r.A)(),w=y(e,u,{[m]:_.bt("By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "termOfService.text.default", undefined, true),[b]:_.bt("By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "termOfService.business.text.default", undefined, true),[h]:_.bt("By converting, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "By converting, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "termOfService.conversion.text.default", undefined, true),[f]:_.bt("By converting, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "By converting, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "termOfService.business.conversion.text.default", undefined, true)});return(0,p.jsx)(o.KJ,{align:"left"===n?"start":"center",color:t,inline:!0,overflow:"normal",size:"100",children:(0,d.$w)({text:w,jsxReplacements:{1:({innerHtmlStrings:t})=>(0,p.jsx)(g,{dataTestId:e?"business-tos":"tos",href:e?c.W5M:c.EoC,trackItem:"business-tos",viewParameter:s,viewType:l,children:t},e?"business-tos":"tos"),2:({innerHtmlStrings:e})=>(0,p.jsx)(g,{dataTestId:"privacy",href:c.MY6,trackItem:"privacy-policy",viewParameter:s,viewType:l,children:e},"privacy"),3:({innerHtmlStrings:e})=>(0,p.jsx)(g,{dataTestId:"noticeAtCollection",href:c.KpT,trackItem:"notice-at-collection",children:e},"noticeAtCollection")}})},"tos-defaultTerms")}function v({isBusiness:e,textColor:t,alignText:n,viewType:l,viewParameter:s,isConversion:u=!1}){(0,i.useEffect)(()=>{(0,a.A)("FloridaTerms","/app/packages/TermsOfService/FloridaTerms.tsx")},[]);let _=(0,r.A)(),w=y(e,u,{[m]:_.bt("By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "termOfService.text.floridaCompliance", undefined, true),[b]:_.bt("By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "termOfService.business.text.floridaCompliance", undefined, true),[h]:_.bt("By converting, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "By converting, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "termOfService.conversion.text.floridaCompliance", undefined, true),[f]:_.bt("By converting, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "By converting, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "termOfService.business.conversion.text.floridaCompliance", undefined, true)});return(0,p.jsx)(o.KJ,{align:"left"===n?"start":"center",color:t,inline:!0,overflow:"normal",size:"100",children:(0,d.$w)({text:w,jsxReplacements:{1:({innerHtmlStrings:t})=>(0,p.jsx)(g,{dataTestId:e?"business-tos":"tos",href:e?c.W5M:c.EoC,trackItem:"business-tos",viewParameter:s,viewType:l,children:t},e?"business-tos":"tos"),2:({innerHtmlStrings:e})=>(0,p.jsx)(g,{dataTestId:"privacy",element:8004,href:c.MY6,trackItem:"privacy-policy",viewParameter:s,viewType:l,children:e},"privacy"),3:({innerHtmlStrings:e})=>(0,p.jsx)(g,{dataTestId:"deleteYourAccount",href:c.W$c,children:e},"deleteYourAccount")}})})}function x({isBusiness:e,textColor:t,alignText:n,viewType:l,viewParameter:s,isConversion:u=!1}){(0,i.useEffect)(()=>{(0,a.A)("ItalyTerms","/app/packages/TermsOfService/ItalyTerms.tsx")},[]);let _=(0,r.A)(),w=y(e,u,{[m]:_.bt("By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. Your data helps us to provide you with <a id=\"3\">personalised ads</a>, which allow us to finance our services. <a id=\"4\">Notice at collection.</a>", "By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. Your data helps us to present you <a id=\"3\">personalized ads</a>, which allow us to finance our services. <a id=\"4\">Notice at Collection.</a>", "termOfService.text.italyCompliance", undefined, true),[b]:_.bt("By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. Your data helps us to provide you with <a id=\"3\">personalised ads</a>, which allow us to finance our services. <a id=\"4\">Notice at collection.</a>", "By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. Your data helps us to present you <a id=\"3\">personalized ads</a>, which allow us to finance our services. <a id=\"4\">Notice at Collection.</a>", "termOfService.business.text.italyCompliance", undefined, true),[h]:_.bt("By converting, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. Your data helps us to provide you with <a id=\"3\">personalised ads</a>, which allow us to finance our services. <a id=\"4\">Notice at collection.</a>", "By converting, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. Your data helps us to present you <a id=\"3\">personalized ads</a>, which allow us to finance our services. <a id=\"4\">Notice at Collection.</a>", "termOfService.conversion.text.italyCompliance", undefined, true),[f]:_.bt("By converting, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. Your data helps us to provide you with <a id=\"3\">personalised ads</a>, which allow us to finance our services. <a id=\"4\">Notice at collection.</a>", "By converting, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. Your data helps us to present you <a id=\"3\">personalized ads</a>, which allow us to finance our services. <a id=\"4\">Notice at Collection.</a>", "termOfService.business.conversion.text.italyCompliance", undefined, true)});return(0,p.jsx)(o.KJ,{align:"left"===n?"start":"center",color:t,inline:!0,overflow:"normal",size:"100",children:(0,d.$w)({text:w,jsxReplacements:{1:({innerHtmlStrings:t})=>(0,p.jsx)(g,{dataTestId:e?"business-tos":"tos",href:e?c.W5M:c.EoC,trackItem:"business-tos",viewParameter:s,viewType:l,children:t},e?"business-tos":"tos"),2:({innerHtmlStrings:e})=>(0,p.jsx)(g,{dataTestId:"privacy",element:8004,href:c.MY6,trackItem:"privacy-policy",viewParameter:s,viewType:l,children:e},"privacy"),3:({innerHtmlStrings:e})=>(0,p.jsx)(g,{dataTestId:"personalizedAds",element:8004,href:c.MY6,trackItem:"personalized-ads",children:e},"personalizedAds"),4:({innerHtmlStrings:e})=>(0,p.jsx)(g,{dataTestId:"noticeAtCollection",href:c.KpT,trackItem:"notice-at-collection",children:e},"noticeAtCollection")}})})}var A=n(406054),P=n(999813);function S({isMwebHomepageRedesignEnabled:e,isMobileHomepage:t,isBusiness:n=!1,alignText:r="center",isSignupStep:d=!1,isConversion:c=!1,noPaddingX:u=!1}){(0,i.useEffect)(()=>{(0,a.A)("TermsOfServices","/app/packages/TermsOfService/TermsOfServices.tsx")},[]);let{isRequirementEnabled:_,state:g}=(0,A.AE)(),{viewType:m,viewParameter:h}=(0,l.WQ)(),{isDarkMode:b}=(0,s.D2)(),f=t&&!e?"default":"subtle";b||!t||e||(f="inverse");let y=d||c,S=y&&_({requirementEnum:0,viewType:m}),j=y&&_({requirementEnum:2,viewType:m});return y&&g===A.GX.LOADING?(0,p.jsx)(P.A,{}):(0,p.jsx)(o.az,{alignItems:"left"===r?"start":"center",alignSelf:"center","data-test-id":n?"business-terms-of-service":"terms-of-service",direction:"row",display:"flex",justifyContent:"center",paddingX:5*!u,wrap:!0,children:(0,p.jsx)(S?v:j?x:w,{alignText:r,isBusiness:n,isConversion:c,textColor:f,viewParameter:h,viewType:m})})}},570068(e,t,n){n.d(t,{Tw:()=>a,hw:()=>i,m5:()=>o});let a=(e,t)=>{let n=2*Math.random()*Math.PI;return{x:Math.floor(t/2*Math.cos(n)),y:Math.floor(e/2*Math.sin(n))}},i=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join(`
`)).join(`
`)},922442(e,t,n){n.d(t,{A:()=>l});var a=n(979638),i=n(290172),o=n(971289);function l(){let e=(0,a.Zp)(),t=(0,o.qJ)();return n=>{t?(0,i.A)(n,{disableOriginCheck:!0}):e(n)}}},55891(e,t,n){n.d(t,{A:()=>i});var a=n(803489);let i=e=>{if(!e||!e.search)return!1;let t=(0,a.A)(e.search);return"PaidMedia"===t.utm_medium&&"string"==typeof t.creative_id&&t.creative_id.includes("Incentive")}},456251(e,t,n){n.d(t,{A:()=>a});let a=(e,t)=>{let n=new Date;return new Date(1e3*e)<=new Date(n.getFullYear()-(t||18),n.getMonth(),n.getDate())}},584863(e,t,n){n.d(t,{Gj:()=>c,Gk:()=>r,Sk:()=>d,VD:()=>l,b:()=>o,ii:()=>s,lt:()=>u});var a=n(19821),i=n(969030);let o=new a.K5([i.A]),l={attributionLabel:"unauth_hybrid_banner",source:"login",container:"bottom.right.upsell.email",reason:"CLICK_LOGIN_OR_SIGNUP"},s=350,r=286,d=5e3,c=new a.rk(10001),u=320},532726(e,t,n){n.d(t,{A:()=>l});var a=n(61163),i=n(859471),o=n(562615);let l=({size:e=56})=>((0,i.useEffect)(()=>{(0,a.A)("Google","/app/packages/gestalt-custom-svg/dynamicSVGs/Google.tsx")},[]),(0,o.jsxs)("svg",{display:"block",fill:"none",fillRule:"evenodd",height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,o.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,o.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,o.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,o.jsx)("path",{d:"M20 20h472v472H20V20z"})]}))},79898(e,t,n){n.d(t,{A:()=>i});var a=n(562615);let i=(0,a.jsx)("svg",{height:"40px",version:"1.1",viewBox:"0 0 40 40",width:"40px",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:(0,a.jsx)("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",fill:"#FFFFFF",fillRule:"nonzero",id:""})})})},824638(e,t,n){n.r(t),n.d(t,{default:()=>b});var a=n(61163),i=n(859471),o=n(19821),l=n(642883),s=n(201593),r=n(995273),d=n(538329),c=n(123576),u=n(844255),_=n(911127),p=n(752159),g=n(971289),m=n(826258),h=n(562615);function b({accessibilityModalLabel:e,align:t="center",allowClickAndDrag:n,allowScroll:b=!1,cancelButtonBackgroundColor:f,customizedHeading:y,children:w,closeOnOutsideClick:v=!0,footer:x,heading:A,isOpen:P,mobileAccessibilityCloseIconLabel:S,mobileHeadingSize:j,mobileHideCloseIcon:z,mobileIsFooter:T,mobileIsFullscreen:E,mobileIsFullpage:k,mobileIsSlideUp:I,onCloseButtonClick:C,onDismiss:L,shouldMoveCancelButtonRight:O=!1,subHeading:U,type:M,zIndex:R,mobileCancelButtonPaddingTop:B,mobileCancelButtonPaddingRight:N,mobileTopOffset:F}){(0,i.useEffect)(()=>{(0,a.A)("MobileModal","/app/packages/gestaltExtensions/Modal/MobileModal.tsx")},[]);let D=(0,d.A)(),{isRTL:G}=(0,u._8)(),W=(0,i.useRef)(null),[K,V]=(0,i.useState)(!1),{setAppFocusState:$}=(0,m.Y)(),H=(0,g.Ay)(),{isDarkMode:J}=(0,s.D2)();(0,i.useEffect)(()=>(W.current=(0,l.A)(()=>{W.current&&V(!0)}),()=>{"u">typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&W.current&&(window.cancelAnimationFrame(W.current),W.current=null)}),[]),(0,i.useEffect)(()=>(P?(c.A.pause(),$(!1),(0,p.PM)(`mweb_unauth.mobile_modal.${M||"unknown_type"}.did_mount.is_open.true`)):(c.A.resume(),$(!0)),()=>{P&&(c.A.resume(),$(!0),(0,p.PM)(`mweb_unauth.mobile_modal.${M||"unknown_type"}.did_mount.is_open.false`))}),[$,P]),(0,i.useEffect)(()=>{let e=P&&!b;return e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}},[P,b]);let Y=()=>k?"fullpage":E?"fullscreen":"euPrompt"===M?"euPrompt":"tablet"===H?"tablet":T?"footer":"signup"===M||"visual_signup"===M?"signup":"repinPage"===M?"repinPage":void 0;if(!P)return null;let q=S&&!z;return(0,h.jsx)(_.A,{allowClickAndDrag:n,children:(0,h.jsx)(o.Wd,{children:(0,h.jsxs)(o.az,{"aria-label":e,display:"inlineBlock",height:"100%",position:"relative",role:"dialog",zIndex:R||r.QN,children:[(0,h.jsx)(o.Rp,{accessibilityLabel:D.bt("Mobile sign-up modal mask", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),dataTestId:"mobile-modal-mask-overlay",onTap:({event:e})=>{e.clientX&&e.clientY&&(0,p.fu)(`mweb_unauth.mobile_modal.wash_tap.${M||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),v&&L()},tapStyle:"none",children:(0,h.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:R||r.QN})}),(0,h.jsxs)(o.az,{color:"default",dangerouslySetInlineStyle:I?(0,r.aj)({isFullscreen:E,isTablet:"tablet"===H,isShowing:K,isRelatedInterestsModal:"related_interests_modal"===M,isDarkMode:J}):{...(0,r.ou)({isDarkMode:J,variant:Y()}),__style:{...(0,r.ou)({isDarkMode:J,variant:Y()}).__style,transform:((0,r.ou)({isDarkMode:J,variant:Y()}).__style?.transform||"")+(()=>{if(!F||I||!(()=>{if("u"<typeof window)return!1;let e=Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth),t=Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight);return e<=380||t<=760})())return"";let e=Math.min(1,(Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth)-12)/380,(Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight)-12)/600);return e=Math.max(.8,e),` scale(${e})`})()}},"data-test-id":"mobile-signup-mask",position:"fixed",zIndex:R||r.QN,children:[(0,h.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:f||"rgba(0, 0, 0, 0)"}},children:(0,h.jsxs)(o.so,{alignItems:"center",gap:{row:2,column:0},justifyContent:O?"end":"start",width:"100%",children:[q&&!O&&(0,h.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{paddingTop:B??void 0,paddingRight:N??void 0}},"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,h.jsx)(o.K0,{accessibilityLabel:S,icon:"close",iconColor:J?"subtle":"default",onClick:C||L,padding:4,size:"lg"})}),!O&&z&&"visual_signup"!==M&&(0,h.jsx)(o.az,{padding:3}),A?(0,h.jsx)(o.so.Item,{flex:"grow",children:(0,h.jsx)(o.so,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,h.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:S&&!z?{marginRight:G?-10:50,marginLeft:G?50:-10,paddingTop:16}:{paddingTop:16}},"data-test-id":"mobile-modal-heading",children:[E?A:(0,h.jsx)(o.KJ,{align:t,size:j||"400",weight:"bold",children:A}),U?(0,h.jsx)(o.KJ,{align:t,children:U}):null]})})}):null,y&&(0,h.jsx)(o.so.Item,{flex:"grow",children:(0,h.jsx)(o.so,{alignItems:"center",direction:"column",justifyContent:"center",children:y})}),q&&O&&(0,h.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{paddingLeft:2,paddingTop:B??2,paddingBottom:2,paddingRight:N??void 0}},"data-test-id":"mobile-modal-cancel-button",children:(0,h.jsx)(o.K0,{accessibilityLabel:S,icon:"close",iconColor:J?"subtle":"default",onClick:C||L,padding:4,size:"lg"})}),O&&z&&"visual_signup"!==M&&(0,h.jsx)(o.az,{padding:3})]})}),(0,h.jsxs)(o.az,{overflow:"auto",children:[w,x]})]})]})})})}},219053(e,t,n){let a;n.d(t,{A:()=>h});var i=n(825193),o=n(669897),l=n(61515),s=n(679902),r=n(969462),d=n(7819);let c=(0,s.A)(),u=new Set,_="";"u">typeof window&&(a=new o.Environment({network:o.Network.create((0,d.b3)(()=>({"x-pinterest-correlation-id":_}))),store:new o.Store(new o.RecordSource)}));let p=function({query:e,variables:t,correlationId:n}){!a||u.has(n)||(u.add(n),_=n,(0,o.fetchQuery)(a,(0,o.getRequest)(e),t,{fetchPolicy:"network-only"}))};var g=n(859471),m=n(33658);let h=function({strategy:e,query:t,variables:n,options:a,useGetLegacyResource:s,useGetLegacyPaginatedResource:d,useGetLegacyData:u}){let _;if("GraphQL"===e){let e=(0,o.getRequest)(t);return(0,i.useLazyLoadQuery)(e,n,a)}if(null!=s&&null!=d&&null!=u)throw Error(`Only pass one of those calls from the list: 
[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]
to useLazyLoadQueryOrLegacy`);let{actualVariables:h,refetch:b}=function(e,t){let n=(0,g.useRef)(e),a=(0,g.useRef)(null),[,i]=(0,g.useState)({}),o=(0,m.Ay)(e,n.current)?null==a.current?n.current:a.current:(n.current=e,a.current=null,n.current),l=(0,g.useCallback)(e=>{let n={...o,...e||{}};(0,m.Ay)(o,n)&&t(),a.current=n,i({})},[o,t]);return{actualVariables:o,refetch:l}}(n,()=>{_()}),f=(0,o.getRequest)(t),y=null;if("LegacyWithShadowGraphQL"===e){var w;let e;w=f.operation.name,e=function(e,t=!0){let n=0;if(0===e.length)return n;for(let t=0;t<e.length;t+=1)n=(n<<5)-n+e.charCodeAt(t)|0;return t?btoa(n.toString(10)):n}(`${w}-${JSON.stringify((0,r.A)(h))}`),p({query:t,variables:h,correlationId:y=`${e}-${c}`})}if(null!=u){let e=u(h,{correlationId:y});if(!e)return null;let{selections:n}=(0,o.getRequest)(t).fragment;return _=()=>{},(0,l.A)(n,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:b},paginationInfo:null})}if(null!=s){let e=s(h,{correlationId:y}),{data:n}=e;if(_=e.refresh,null==n)return null;let{selections:a}=(0,o.getRequest)(t).fragment;return(0,l.A)(a,{kind:"LegacyData",singularLegacyData:n,refetchInfo:{refetch:b},paginationInfo:null})}if(null!=d){let e=d(h,{correlationId:y}),{data:n,isFetching:a,isAtEnd:i,fetchMore:s}=e;if(_=e.refresh,null==n)return null;let{selections:r}=(0,o.getRequest)(t).fragment;return(0,l.A)(r,{kind:"PaginationLegacyData",paginationLegacyData:n,refetchInfo:{refetch:b},paginationInfo:{isLoadingNext:a,hasNext:!i,loadNext:s}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},537536(e,t,n){n.d(t,{M4:()=>r,T$:()=>d,Tp:()=>u,YL:()=>c,rz:()=>s});var a=n(55891),i=n(484409),o=n(803489);let l="validated_campaign_offer",s=e=>{let t=(0,o.A)(e),n=t.utm_campaign,a=t.creative_id;return n&&a&&"string"==typeof n&&"string"==typeof a?{utmCampaign:n,creativeId:a,timestamp:Date.now()}:null},r=e=>{try{i.Ay.setItem(l,JSON.stringify(e))}catch{}},d=()=>{try{let e=i.Ay.getItem(l);if(!e)return null;let t=JSON.parse(e);if(!t.timestamp)return t;if((Date.now()-t.timestamp)/36e5>24){try{i.Ay.removeItem(l)}catch{}return null}return t}catch{return null}},c=(e,t)=>{let n=(0,o.A)(e.search),a=!1;if(t.forEach(e=>{n[e]&&(a=!0,delete n[e])}),!a)return;let i=Object.entries(n).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"),l=i?`?${i}`:"",s=`${e.pathname}${l}${e.hash}`;"u">typeof window&&window.history&&window.history.replaceState({},"",s)},u=e=>{if(!(0,a.A)(e))return e.search;if(!e.search)return"";let t=(e.search.startsWith("?")?e.search.slice(1):e.search).split("&").filter(e=>{let[t]=e.split("=");return"utm_campaign"!==t&&"creative_id"!==t});return t.length>0?`?${t.join("&")}`:""}},101295(e,t,n){n.d(t,{A:()=>a});function a({embedSrc:e,embedType:t,imagesUrls:n,preferredResolution:a,excludeOriginals:i}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";if(!n)return"";if(a){let e="474x"===a&&n["474x"]||"236x"===a&&n["236x"]||n["736x"];if(e)return e}let o=Object.keys(n).reduce((e,t)=>{try{let a=t.split("x")[0];if(Number.isNaN(Number(a)))return{...e,[t]:n[t]};return{...e,[a]:n[t]}}catch(t){return e}},{}),l=Object.keys(o);return i&&"orig"===l[l.length-1]&&l.pop(),o[l.pop()??""]??""}},86767(e,t,n){n.d(t,{A:()=>a});let a={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9,QR_CODE:10,OTP:11,PHONE_NUMBER:12}},155729(e,t,n){n.d(t,{A:()=>p});var a=n(148867),i=n(706114),o=n(251407),l=n(998556),s=n(208360),r=n(607685),d=n(365910),c=n(803489);let u="u">typeof window,_=u?`${window.location.origin}/oauth/line/redirect`:"";function p(e,t){let n;if(!u)return void t.error?.({message:"Window is undefined"});let p=(0,s.A)(10),g=async e=>{if(!e.isTrusted)return;let s=e instanceof MessageEvent?(({origin:e,data:t})=>t&&e===window.location.origin?String(t):null)(e):(({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==i.BD)return null;let n=(0,l.y1)().getItem(i.BD);return(0,l.y1)().removeItem(i.BD),n})(e),r=(0,c.A)(s);if(r.state&&r.code&&r.state===p){t.fetching?.(),n&&!n.closed&&n.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(o.Jt(a.mh))}`},method:"POST",body:(0,d.A)({code:r.code,redirect_uri:_})}),{id_token:n,access_token:i}=await e.json();n&&i?t.success({line_id_token:n,line_access_token:i}):t.error?.({message:"No tokens returned"})}catch(e){t.error?.(e)}finally{n&&!n.closed&&n.close(),window.removeEventListener("message",g),window.removeEventListener("storage",g),t.complete?.()}}};window.addEventListener("message",g),window.addEventListener("storage",g),n=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${r.DtS}&redirect_uri=${encodeURIComponent(_)}&state=${p}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},515913(e,t,n){n.d(t,{A:()=>a});let a=e=>JSON.parse(decodeURIComponent(atob((e.split(".")[1]||"").replace(/-/g,"+").replace(/_/g,"/")).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},208360(e,t,n){n.d(t,{A:()=>a});function a(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}},199988(e,t,n){n.d(t,{A:()=>o});var a=n(859471),i=n(506651);let o=(e,t)=>{let n=(0,i.A)();(0,a.useEffect)(()=>{if(!t)return;let{top:n,left:a,bottom:i,right:o}=t.getBoundingClientRect(),{innerHeight:l,innerWidth:s}=window;e(i<0||o<0||n>l||a>s)},[n,t,e])}},506651(e,t,n){n.d(t,{A:()=>l});var a=n(859471),i=n(63661),o=n(284966);let l=(e="throttle")=>{let[t,n]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let t="throttle"===e?(0,o.A)(()=>n(window.scrollY),10):(0,i.A)(()=>n(window.scrollY),10);return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[e]),t}},265903(e,t,n){n.d(t,{A:()=>A});var a=n(61163),i=n(859471),o=n(586733),l=n(601185),s=n(844255),r=n(685858),d=n(734469),c=n(980470),u=n(365962),_=n(441961),p=n(956384),g=n(636032),m=n(81920);let h="http://play.google.com/store/apps/details?id=com.pinterest",b=["access_token","new_password","new_password_confirm","password","next"],f=(e,t)=>t?(0,_.A)(e,{invite_code:t}):e,y=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?f(e,n):"ios"===t||"ipad"===t?f(e.iOS,n):"android"===t?f(e.android,n):null};var w=n(562615);function v({children:e,invite_code:t}){let{isAuthenticated:n,isBot:a,unauthId:i,userAgent:{platform:r,raw:f}}=(0,s._8)(),{logContextEvent:w}=(0,o.o)(),{checkExperiment:v}=(0,l.A)();return e(async(e,o,l)=>{w({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:o}}),(({isAuthenticated:e,checkExperiment:t,deeplinkUri:n,fallbackUrl:a,invite_code:i,logContextEvent:o,platform:l,redirectToLite:s,unauthId:r,userAgent:d,app_upsell_type:f})=>{if(o?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),n){let w=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:a,unauthId:i,app_upsell_type:o,checkExperiment:l})=>{let s=(0,u.mt)(),r=s.length>0&&"android"===n&&l?.("ap_android_landing_signals_deeplink_feature_gate").group==="enabled"?s.map(({pageType:e,...t})=>t).slice(0,10):null;return{deeplink_path:y(e,n,t),current_page_url:(0,g.A)("u">typeof window?window.location.href:"",b),install_id:i,utm_source:140,utm_medium:2152,app_upsell_type:o,...a?{af_r:a}:null,...r?{landing_signals:JSON.stringify({unauth_visited_pages:r})}:null}})({isAuthenticated:e,deeplinkUri:n,fallbackUrl:a,invite_code:i,platform:l,unauthId:r,userAgent:d,app_upsell_type:f,checkExperiment:t});if((0,m.GV)("mweb.deeplink",{sampleRate:1,tags:{platform:l}}),i&&(0,m.GV)("mweb.deeplink.invite_code",{sampleRate:1}),(0,m.GV)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!r}}),s){(0,m.GV)("mweb.deeplink.lite_link",{sampleRate:1}),o?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}});let e=(({unauthId:e,app_upsell_type:t})=>({referrer:encodeURI((0,p.A)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t}))}))({unauthId:r,app_upsell_type:f});window.location.href=(0,_.A)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===l){let e=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:a,app_upsell_type:i,checkExperiment:o})=>{let l=(0,u.mt)(),s=l.length>0&&"android"===n&&o?.("ap_android_landing_signals_deeplink_feature_gate").group==="enabled"&&o?.("ap_android_landing_signals_deeplink_playstore_gate").group==="enabled"?l.map(({pageType:e,...t})=>t).slice(0,10):null,r=JSON.stringify({deeplink_path:y(e,n,t),current_page_url:(0,g.A)("u">typeof window?window.location.href:"",b),install_id:a,...s?{landing_signals:{unauth_visited_pages:s}}:null});return{referrer:(0,p.A)({utm_source:"mweb",utm_medium:"upsell",utm_content:r,app_upsell_type:i})}})({deeplinkUri:n,invite_code:i,platform:l,unauthId:r,app_upsell_type:f,checkExperiment:t});(0,c.i)()?(0,c.A)().then(t=>{if(t.length>0){let e=window.location.href.endsWith("/login")?window.location.href.replace("/login","string"==typeof n?n:n.android):window.location.href,t=(0,_.A)(e,w);o?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f,...w.landing_signals?{landing_signals:w.landing_signals}:null}}),window.open(t)||o?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}})}else o?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f,...w.landing_signals?{landing_signals:w.landing_signals}:null}}),window.location.href=(0,_.A)(h,e)}).catch(()=>{(0,m.GV)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(o?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f,...w.landing_signals?{landing_signals:w.landing_signals}:null}}),window.location.href=(0,_.A)(h,e))}else{if((0,m.GV)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===l&&"u">typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,_.A)("https://pinterest.com/pinterest-predicts",w);return}o?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:f}}),window.location.href=(0,_.A)("https://pinterest.onelink.me/TVSr/21e04bfd",w)}}})({isAuthenticated:n,checkExperiment:v,deeplinkUri:e,fallbackUrl:l,invite_code:t,logContextEvent:w,platform:r,redirectToLite:(0,d.$m)({isBot:a,platform:r,userAgent:f}),unauthId:i,userAgent:f,app_upsell_type:o})})}let x=e=>{(0,i.useEffect)(()=>{(0,a.A)("DeepLinkNavigator","/app/www/DeepLinkNavigator.tsx")},[]);let t=(0,r.d)();return(0,w.jsx)(v,{...e,invite_code:t})};x.displayName="DeepLinkNavigator";let A=x},999813(e,t,n){n.d(t,{A:()=>r});var a=n(61163),i=n(859471),o=n(19821),l=n(538329),s=n(562615);let r=({isInModal:e})=>{(0,i.useEffect)(()=>{(0,a.A)("FullPageSpinner","/app/www/FullPageSpinner.tsx")},[]);let t=(0,l.A)();return(0,s.jsx)(o.az,{alignItems:"center",color:"default",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.rk(1),children:(0,s.jsx)(o.y$,{accessibilityLabel:t.bt("Loading", "Loading", "Full page loading state", undefined, true),show:!0})})}},994795(e,t,n){n.d(t,{A:()=>s});var a=n(61163),i=n(859471),o=n(19821),l=n(562615);function s({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:s,rounding:r,fullWidth:d=!1,pressState:c="none",accessibilityLabel:u,role:_,dataTestId:p}){(0,i.useEffect)(()=>{(0,a.A)("LegacyTapArea","/app/www/LegacyTapArea.tsx")},[]);let g=(Array.isArray(c)?c:[c]).includes("compress"),m=(0,i.useCallback)(e=>t?.(e.event),[t]),h=(0,i.useCallback)(e=>n?.(e.event),[n]),b=(0,i.useCallback)(e=>s?.(e.event),[s]);return(0,l.jsx)(o.Rp,{accessibilityLabel:u,dataTestId:p,fullWidth:d,onMouseEnter:t?m:void 0,onMouseLeave:n?h:void 0,onTap:s?b:void 0,role:_,rounding:r,tapStyle:g?"compress":"none",children:e})}},602825(e,t,n){n.r(t),n.d(t,{default:()=>tw});var a,i=n(61163),o=n(859471),l=n(106386),s=n(979638),r=n(148867),d=n(401691),c=n(284772),u=n(586733),_=n(251407),p=n(926608),g=n(668014),m=n(932369),h=n(115795),b=n(675201),f=n(768583),y=n(601185),w=n(844255),v=n(618243),x=n(59152),A=n(397778),P=n(484409),S=n(752159),j=n(476084),z=n(420818),T=n(803489),E=n(971289),k=n(168079),I=n(637616),C=n(576830),L=n(741383),O=n(427471),U=n(457315),M=n(267037),R=n(19821),B=n(917348);function N({children:e}){return!(0,B.A)()&&e}var F=n(567176),D=n(538329),G=n(173832),W=n(86767),K=n(706466),V=n(242437),$=n(36217),H=n(562615);let J="mweb.unauth.ios_keychain_autologin";function Y({container:e}){let[t,n]=(0,o.useState)(""),[a,i]=(0,o.useState)(""),l=(0,o.useRef)(!1),r=!!t&&!!a,c=(0,V.A)(),u=(0,o.useRef)(null),_=(0,$.v)(),p=(0,s.Zp)(),g=(0,s.zy)(),m=(0,D.A)(),{showToast:h}=(0,K.CG)();(0,o.useEffect)(()=>{u.current&&u.current.focus()},[]);let b=({errorReason:e,errorCode:t,errorMessage:n})=>{let a=e||t===G.Ty?"invalid_password":t===G.Um?"invalid_email":"login";(0,S.PM)(`${J}.failure.${a}`),(0,P.V2)().setItem(d.Xc,!0),p("/login",{state:{keychainiOSAutologinError:{code:t,message:n}}})};(0,o.useEffect)(()=>{l.current!==r&&(l.current=r,(0,P.V2)().setItem(d.Xc,!0),_({username_or_email:t,password:a},p,g.pathname,{isAutologin:!0,component:"EligibleKeychainiOSAutologin",container:e},{event_type:7534,view_type:9,view_parameter:63,aux_data:{signup_login_method:W.A.EMAIL,upsell_reason:"autologin_keychain"}}).then(()=>{(0,S.PM)(`${J}.login_success`),c(),h(({hideToast:e})=>(0,H.jsx)(F.A,{onHide:e,text:m.bt("You're logged in!", "You're logged in!", "mweb.unauth.ios_keychain_autologin.login_success_toast", undefined, true)}))}).catch(e=>{b({errorCode:(0,U.A)(e,"api_error_code"),errorMessage:(0,U.A)(e,"message")})}))});let f=({value:e,type:t})=>{1===e.length?b({errorReason:"manual_input_attempt"}):"email"===t?n(e):i(e)},y=()=>{r||(0,S.PM)(`${J}.failure.user_dismissed_prompt`),(0,P.V2)().setItem(d.Xc,!0)};return(0,H.jsx)(R.az,{dangerouslySetInlineStyle:{__style:{zIndex:-100}},opacity:0,position:"absolute",top:!0,children:(0,H.jsxs)("form",{"aria-hidden":"true",autoComplete:"on",onSubmit:e=>{e.preventDefault()},children:[(0,H.jsx)(R.A_,{ref:u,autoComplete:"username",id:"username",onBlur:y,onChange:({value:e})=>f({value:e,type:"email"}),size:"lg",type:"email",value:t}),(0,H.jsx)(R.A_,{autoComplete:"current-password",id:"current-password",onBlur:y,onChange:({value:e})=>f({value:e,type:"password"}),size:"lg",type:"password",value:a})]})})}function q({container:e}){return(()=>{let e=(0,s.zy)(),{isBot:t,userAgent:{browserName:n}}=(0,w._8)();return!t&&"Mobile Safari"===n&&((0,h.j9)(e)||(0,h.GA)(e)||(0,h.Jw)(e)||(0,h.nV)(e)||(0,h.d3)(e)||(0,h.iK)(e))&&!(0,P.V2)().getItem(d.Xc)})()&&(0,H.jsx)(Y,{container:e})}function X({container:e}){return(0,o.useEffect)(()=>{(0,i.A)("KeychainiOSAutologin","/app/www/login/duplo/KeychainiOSAutologin.tsx")},[]),(0,H.jsx)(N,{children:(0,H.jsx)(q,{container:e})})}n(224989);var Q=n(219053),Z=n(811154),ee=n(335081),et=n(996209);let en=()=>{if("u"<typeof window)return!1;let e=P.Ay.getItem("susdst"),t=P.Ay.getItem("susdd");return!!e&&!!t&&new Date().getTime()-e<=t},ea=({newLocation:e,oldLocation:t})=>e&&!!e.key&&(0,h.dM)(e)&&((0,h.dM)(t)||(0,h.iK)(t)||(0,b.A)(t)||(0,h._p)(t))&&!(0,P.V2)().getItem(d.E7)&&!en();function ei(e,t){let n;return(e&&!!e.key&&((0,h.dM)(e)||(0,h.iK)(e)||(n=new URLSearchParams(e.search),!!e.pathname.match(/\/search\/(pins|videos|boards|users|buyable_pins)\//)&&!!n.get("q")))||!!t&&(0,h.wd)(e))&&!(0,P.V2)().getItem(d.E7)&&!en()}var eo=n(438662),el=n(577675),es=n(806762),er=n(132804);let ed=(void 0!==a||(a=n(542433)).hash&&"576beb8013f7da67a032afbb79100afb"!==a.hash&&console.error("The definition of 'MobileSignupModalUpsellNavigationControllerQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),ec=(e,t)=>{switch(e){case 3:return{backgroundColor:"#FCD8FC",mainText:t.bt("Filter by skin tone", "Filter by skin tone", "mobileSignupModal.upsell.beauty.mainText", undefined, true),subText:t.bt("Search with skin tone ranges for more styles that look good on you using the Pinterest app", "Search with skin tone ranges for more styles that look good on you, using the Pinterest app", "mobileSignupModal.upsell.beauty.subText", undefined, true),imageSource:"https://s.pinimg.com/webapp/beauty-0faa4e17.png",highlight:void 0};case 14:return{backgroundColor:"#D0E2A8",mainText:t.bt("Create boards together", "Create boards together", "mobileSignupModal.upsell.homeDecor.mainText", undefined, true),subText:t.bt("Group boards make it easy to share home décor ideas with others in the Pinterest app", "Group boards make it easy to share home decor ideas with others, in the Pinterest app", "mobileSignupModal.upsell.homeDecor.subText", undefined, true),imageSource:"https://s.pinimg.com/webapp/home-decor-5d73838f.png",highlight:"home decor"};case 23:return{backgroundColor:"#FFD3D1",mainText:t.bt("Visual search for inspo", "Visual search for inspo", "mobileSignupModal.upsell.fashion.mainText", undefined, true),subText:t.bt("Discover fashion ideas that match your vibe using visual search in the Pinterest app", "Discover fashion ideas that match your vibe, using visual search in the Pinterest app", "mobileSignupModal.upsell.fashion.subText", undefined, true),imageSource:"https://s.pinimg.com/webapp/womens-fashion-df82fa84.png",highlight:"fashion"};default:return}},eu=(e,t,n)=>{if(!e||null==t)return!1;switch(t){case 3:return n("mweb_nav_upsell_beauty").anyEnabled;case 14:return n("mweb_nav_upsell_home_decor").anyEnabled;case 23:return n("mweb_nav_upsell_womens_fashion").anyEnabled;default:return!1}};function e_({context:e}){return(({mobileSignupModalContext:e})=>{let t,n=(0,D.A)(),a=(0,s.zy)(),i=(0,o.useRef)(a),l=(0,ee.Ay)(),{checkExperiment:r}=(0,y.A)(),{trackConversionUpsell:c}=(0,Z.A)(),{pageThreshold:u,isBrowserStorageAllowed:_}=function(){let{isSEO:e,isBrowserStorageAllowed:t}=(0,f.A)(),{checkExperiment:n}=(0,y.A)();if(e){let e=n("mweb_q2_mau_push_pc_advanced").anyEnabled,a=n("mweb_q2_mau_push_pc_advanced_row").anyEnabled,i=n("mweb_q2_mau_push_pc_emergency_row").anyEnabled;if(e||a)return{pageThreshold:1,isWashDismissible:!1,isBrowserStorageAllowed:t};if(i)return{pageThreshold:0,isWashDismissible:!1,isBrowserStorageAllowed:t}}return{pageThreshold:4,isWashDismissible:!0,isBrowserStorageAllowed:t}}(),[p,g]=(0,o.useState)(0),[m,b]=(0,o.useState)(!1),w=(0,j.A)(),v=r("migration_upsell_manager_redux").anyEnabled||r("migration_upsell_manager_redux_mweb").anyEnabled||r("migration_upsell_manager_redux_mweb_global").anyEnabled,[x,A]=(0,o.useState)(null),S=(0,et.A)(a.pathname),T=void 0===S?null:S,E=(t=(0,Q.A)({strategy:"GraphQL",query:ed,variables:{pinId:T||"0"},useGetLegacyPaginatedResource:()=>({auxData:null,data:null,fetchMore:()=>{},isAtEnd:!0,isFetching:!1,isLoaded:!1,isRefreshing:!1,refresh:()=>{}})}),(0,o.useMemo)(()=>T&&t?.v3GetPinQuery?.__typename==="V3GetPin"&&t.v3GetPinQuery.data?.topInterest!=null?t.v3GetPinQuery.data.topInterest:null,[T,t?.v3GetPinQuery]));(0,o.useEffect)(()=>{w((0,z.Pm)(E))},[E,w]);let{showMobileSignupModal:k,dismissMobileSignupModal:I,incrementUpsellEligibleNavigationCount:C,upsellIsEnabledGlobally:L,upsellEligibleNavigationCount:O,modal:{isShown:U}}=e;(0,o.useEffect)(()=>{x&&!U&&(k({...x}),A(null))},[x,U,k,E]),(0,o.useEffect)(()=>{let e,t=i.current,o="?source=swipe"===a.search;if(t!==a&&!(t===a||t&&a&&t.pathname===a.pathname)&&!((e=a.pathname).includes("_created")||e.includes("boards")))if((0,es.F)(a),v)w((0,z.ib)({oldLocation:t,newLocation:a,isNavigationFromSwipe:o,pageThreshold:u,isWashDismissible:!0,isUpsellEnabledGlobally:l.isUpsellEnabledGlobally(),isModalCurrentlyShown:l.isModalShown??!1,hasSeenModal:l.modalHasShown,currentNavigationCount:(l.upsellEligibleNavigationCount??0)+1,canShowSignupModalOnRouteChange:ei,canShowSignupModalOnRouteChangeControl:ea}));else if(_){let e=!!a&&(0,eo.A)(r,a),i=O+1;if(U)I();else if(L()&&!o&&(r("mweb_unauth_navigational_pages_upsell").anyEnabled?ei(a,e):ea({newLocation:a,oldLocation:t}))){if(i>=u&&!P.Ay.getItem(d.sX)){let e=(0,h.dM)(a),o=(0,el.A)(r),l=!!o,s=!l&&eu(e,E,r),c=s?ec(E,n):void 0,_="none";o?_=o.bundle.headingType:s&&(_="navigation_upsell_custom");let p=!0;if(o){let e=(0,er.rh)(o.bundle.configKey,o.experimentGroup,n._);e&&(p=e.isWashDismissible)}A({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`navigation_${u}_${i}`,navigationTriggeredUpsell:{newLocation:a,oldLocation:t},headingType:_,allowCloseOnOutsideClick:p,shouldMoveCancelButtonRight:s||l,...s&&{customUpsellConfig:c}}),P.Ay.setItem(d.sX,!0)}C()}}else{let e=p+1;if(m)I();else if(L()&&!o){if(e>=u&&!m){let i=(0,h.dM)(a),o=(0,el.A)(r),l=!!o,s=!l&&eu(i,E,r),d=s?ec(E,n):void 0,c="none";o?c=o.bundle.headingType:s&&(c="navigation_upsell_custom");let _=!0;if(o){let e=(0,er.rh)(o.bundle.configKey,o.experimentGroup,n._);e&&(_=e.isWashDismissible)}A({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`navigation_${u}_${e}`,navigationTriggeredUpsell:{newLocation:a,oldLocation:t},headingType:c,allowCloseOnOutsideClick:_,shouldMoveCancelButtonRight:s||l,...s&&{customUpsellConfig:d}}),b(!0)}g(e)}}i.current=a},[a,e,r,u,_,m,p,O,U,I,C,L,A,E,n,w,l,v,c,T])})({mobileSignupModalContext:e}),null}var ep=n(654657),eg=n(165357),em=n(584863),eh=n(67765),eb=n(781314),ef=n(506651);let ey=()=>{(0,o.useEffect)(()=>{(0,i.A)("UnauthBoardUpsellMwebBanner","/app/www/board/duplo/UnauthBoardUpsellMwebBanner.tsx")},[]);let{checkExperiment:e}=(0,y.A)(),t=(0,eh.A)(),n=(0,eg.R)(),a=!!n?.hasScrolledPastMainContent,l=!!n?.hasDraggedDrawerToFullScreen,s=(0,E.wI)(),r=(0,ef.A)(),[d,c]=(0,o.useState)(!1),[u,_]=(0,o.useState)(!1),p=(0,eb.A)({dangerouslySkipActivation:!0}),g=(0,o.useRef)(r),m=(0,D.A)();return(0,o.useEffect)(()=>{p?c(!1):s?r>200?c(!0):s&&c(!1):(c(r>700&&r>g.current),g.current=r)},[r,s,a,l,e,p]),(0,H.jsx)(R.az,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{transition:"transform 225ms ease-in-out",transform:`translateY(${d&&!u?"-143px":"120%"})`}},direction:"column",display:"flex",left:!0,marginEnd:4,marginStart:4,position:"fixed",right:!0,zIndex:em.b,children:(0,H.jsxs)(R.az,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",boxShadow:"0 3px 12px 0 rgba(0, 0, 0, 0.20)",transform:"translateX(-50%)"}},direction:"column",display:"flex",maxWidth:900,padding:4,position:"fixed",rounding:400,width:"100%",children:[(0,H.jsx)(R.az,{flex:"grow",marginEnd:8,children:(0,H.jsxs)(R.so,{alignItems:"start",gap:2,justifyContent:"start",children:[(0,H.jsx)(R.az,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,H.jsx)(R.In,{accessibilityLabel:"Pin icon",color:"default",icon:"compact-pin-angled",size:20})}),(0,H.jsx)(R.KJ,{size:"300",children:m.bt("Tap the Pin icon to save your favourite ideas for later.", "Tap the Pin icon to save your favorite ideas for later!", "board.unauthBoardUpsellMwebBanner.description", undefined, true)})]})}),(0,H.jsx)(R.az,{dangerouslySetInlineStyle:{__style:{right:"4px",top:"4px"}},position:"absolute",children:(0,H.jsx)(R.K0,{accessibilityLabel:m.bt("Dismiss banner", "Dismiss banner", "board.unauthBoardUpsellBanner.dismissIcon", undefined, true),bgColor:"transparent",icon:"close",iconColor:"default",onClick:()=>{t({action:"click",item:"unauth-board-upsell-banner-dismiss-mweb"}),c(!1),_(!0)},size:"md"})})]})})};var ew=n(693154),ev=n(964788),ex=n(769129),eA=n(348525),eP=n(989457),eS=n(542975),ej=n(607685),ez=n(497656),eT=n(994795),eE=n(991289),ek=n(81920);function eI(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eC={transform:"translateY(0)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},eL={transform:"translateY(350px)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},eO={backgroundColor:"rgba(0, 0, 0, 0.5)",height:"100%",touchAction:"none",width:"100%",zIndex:10001,position:"fixed",top:0,left:0},eU={backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",width:"100%",zIndex:1};class eM extends o.PureComponent{constructor(...e){super(...e),eI(this,"state",{visible:!1,hiding:!1,showWash:!1}),eI(this,"getTitle",()=>{let{invite:e}=this.props,t=e&&e.sender,n=t&&t.first_name;return(this.props.i18n.bt("Join {{ name }} on Pinterest for more ideas", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",n||"")}),eI(this,"getAvatar",()=>{let{invite:e}=this.props,t=e&&e.sender,n=t&&t.image_medium_url,a=t&&t.full_name;return(0,H.jsx)(eP.eu,{name:a||"",size:"sm",src:n||""})}),eI(this,"handleHide",()=>{let{onDismiss:e}=this.props;(0,ek.GV)("mweb_facebook_social_upsell.close"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},1e3)})}),eI(this,"handleHideOutsideTap",()=>{let{onDismiss:e}=this.props;(0,ek.GV)("mweb_facebook_social_upsell.close.outside.modal"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},1e3)})}),eI(this,"handleFBConnect",e=>{(0,ek.GV)(`mweb_facebook_social_upsell.fb_connect_button_click.${e}`)}),eI(this,"handleSignupClick",()=>{let e=this.props.location.state?.attributionLabel;(0,ek.GV)("mweb_facebook_social_upsell.signup_button_click"),this.props.navigate("/",{state:{from:this.props.location.pathname,next:this.props.location.pathname,attributionLabel:e}})}),eI(this,"initializeShowAnimation",()=>{(0,ek.GV)("mweb_facebook_social_upsell.shown"),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{this.setState({visible:!0})},1e3)})})}componentDidMount(){(0,ek.GV)("mweb_facebook_social_upsell.land");let{invite:e}=this.props,t=e?e.invite_channel:null;t&&(0,ek.GV)(`mweb_social_unauth.invite_channel.${t}`),this.initializeShowAnimation()}componentWillUnmount(){void 0!==this.slideInAnimation&&window.cancelAnimationFrame(this.slideInAnimation)}renderDefaultLoginHeader(){return(0,H.jsxs)(R.az,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginBottom:2,children:[(0,H.jsxs)(R.az,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,children:[(0,H.jsx)(R.az,{children:(0,H.jsx)(R.KJ,{align:"start",size:"400",weight:"bold",children:this.props.i18n.bt("Sign up to see more", "Sign up to see more", "Title on mobile web signup modal to prompt users to signup for Pinterest.", undefined, true)})}),(0,H.jsx)(R.az,{marginBottom:1}),(0,H.jsx)(R.so,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,H.jsx)(R.KJ,{align:"start",children:this.props.i18n.bt("Free, unlimited access to ideas", "Free, unlimited access to ideas", "First value prop on mobile web sign up modal", undefined, true)})})]}),(0,H.jsx)(R.cG,{})]})}renderInviterHeader(){return(0,H.jsxs)(R.az,{alignItems:"center",display:"flex",flex:"grow",marginBottom:2,children:[(0,H.jsxs)(R.az,{alignItems:"center",direction:"row",display:"flex",paddingY:3,children:[(0,H.jsx)(R.az,{children:(0,H.jsx)(R.KJ,{align:"start",size:"400",weight:"bold",children:this.getTitle()})}),(0,H.jsx)(R.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"26%"}},children:this.getAvatar()})]}),(0,H.jsx)(R.cG,{})]})}render(){let{location:e,invite:t}=this.props,{visible:n,hiding:a,showWash:i}=this.state,o=ej.aW1,l=t?t.sender:null;return(0,H.jsxs)(R.az,{dangerouslySetInlineStyle:{__style:i?eO:{}},children:[n&&!a?(0,H.jsx)(eT.A,{onTouch:this.handleHideOutsideTap,pressState:"none",children:(0,H.jsx)(R.az,{dangerouslySetInlineStyle:{__style:eU},left:!0,opacity:100,position:"fixed",top:!0})}):null,(0,H.jsx)(R.az,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{...n&&!a?eC:eL,boxShadow:"0 1px 5px 0 rgba(0,0,0,0.25)",paddingBottom:"5%",paddingTop:"2%",touchAction:"none"}},paddingX:6,position:"fixed",width:"100%",zIndex:new R.rk(10001),children:(0,H.jsxs)(R.az,{marginEnd:"auto",marginStart:"auto",maxWidth:400,children:[(0,H.jsx)(R.az,{paddingY:2}),(0,H.jsx)(R.az,{left:!0,marginStart:4,marginTop:2,position:"absolute",top:!0,children:(0,H.jsx)(R.K0,{accessibilityLabel:this.props.i18n.bt("Close modal", "Close modal", "Close the modal for facebook upsell", undefined, true),icon:"close",iconColor:"subtle",onClick:this.handleHide,size:"sm"})}),(0,H.jsx)(R.az,{paddingY:2}),l?this.renderInviterHeader():this.renderDefaultLoginHeader(),(0,H.jsx)(R.az,{height:40,marginBottom:1,children:(0,H.jsx)(eE.A,{attributionLabel:e.state?.attributionLabel,container:"FacebookSocialUpsell",fbConnectHandler:this.handleFBConnect,from:e.pathname,next:e.pathname})}),(0,H.jsx)(R.az,{marginBottom:1,marginTop:2,children:(0,H.jsx)(R.$n,{color:"secondary",fullWidth:!0,onClick:this.handleSignupClick,text:this.props.i18n.bt("Sign Up", "Sign Up", "Button to redirect user to Signup Page on mweb", undefined, true)})}),(0,H.jsx)(R.az,{marginTop:3,children:(0,H.jsx)(R.KJ,{align:"center",color:"subtle",size:"100",children:(0,eS.vQ)(this.props.i18n.bt("Have an account? {{ logIn }}", "Have an account? {{ logIn }}", "Asking users if they already have an account", undefined, true),{logIn:(0,H.jsx)(R.N_,{display:"inlineBlock",href:o,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:(0,H.jsx)(R.KJ,{color:"subtle",inline:!0,size:"100",weight:"bold",children:this.props.i18n.bt("Log in", "Log in", "Mobile web link to log in page", undefined, true)})})})})}),(0,H.jsx)(R.az,{marginTop:3,children:(0,H.jsx)(ez.A,{size:"xs"})})]})})]})}}function eR(e){(0,o.useEffect)(()=>{(0,i.A)("FacebookSocialUpsell","/app/www/signup/FacebookSocialUpsell/FacebookSocialUpsell.tsx")},[]);let t=(0,s.Zp)(),n=(0,s.zy)(),a=(0,D.A)();return(0,H.jsx)(eM,{...e,i18n:a,location:n,navigate:t})}var eB=n(676692),eN=n(970042),eF=n(824638);let eD=({children:e,isOpen:t,onDismiss:n,type:a})=>((0,o.useEffect)(()=>{(0,i.A)("MobileFooterModal","/app/www/MobileFooterModal.tsx")},[]),(0,H.jsx)(eF.default,{accessibilityModalLabel:"",isOpen:t,mobileAllowScroll:!0,mobileHideCloseIcon:!0,mobileIsFooter:!0,onDismiss:n,type:a,children:(0,H.jsx)(R.az,{padding:4,children:e})}));var eG=n(610850);class eW extends o.PureComponent{constructor(...e){var t,n,a;super(...e),t="handleJoinBoardClick",n=({event:e})=>{e.stopPropagation();let{navigate:t,socialCollabGroupBoardPath:n}=this.props;(0,ek.GV)("mweb.social.group_board.public.modal.display"),t("/signup/step1/",{state:{next:n||"",isFromGroupBoardsInvite:!0}})},(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){let{inviteObject:e}=this.props,t=e?e.invite_channel:null;(0,ek.GV)("mweb.social.group_board.public.modal.display"),t&&(0,ek.GV)(`mweb.social.group_board.public.invite_channel.${t}`)}render(){let{viewType:e,viewParameter:t,inviteObject:n,board:a,color:i}=this.props,o=n?n.sender:null,l=o?o.first_name:"",s=o?o.image_medium_url:"",r=o?o.full_name:"",d=l?(this.props.i18n.bt("{{ name }} invited you to join their board", "{{ name }} invited you to join their board", "Mobile Modal prompting users to join a friends({{ name }}) board", undefined, true)).replace("{{ name }}",l):this.props.i18n.bt("Your friends invited you to join their board", "Your friends invited you to join their board", "Mobile Modal prompting users to join a friends board", undefined, true),c=this.props.i18n.bt("Join board", "Join board", "Join Board Button", undefined, true);return(0,H.jsx)(eN.A,{component:13196,viewParameter:t,viewType:e||202,children:(0,H.jsx)(eD,{isOpen:!0,onDismiss:()=>{},type:"groupboard_join",children:a?(0,H.jsxs)(R.az,{padding:3,children:[(0,H.jsxs)(R.az,{children:[(0,H.jsxs)(R.so,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,H.jsx)(R.az,{dangerouslySetInlineStyle:{__style:{marginRight:"5%"}},width:"48px",children:(0,H.jsx)(eP.eu,{color:i,name:r||"",src:s||""})}),(0,H.jsx)(R.az,{maxWidth:"74%",children:(0,H.jsx)(R.KJ,{align:"start",overflow:"normal",weight:"bold",children:d})})]}),(0,H.jsx)(R.az,{marginBottom:4})]}),(0,H.jsx)(R.$n,{color:"primary",fullWidth:!0,onClick:this.handleJoinBoardClick,text:c,type:"button"})]}):(0,H.jsx)(R.az,{padding:3,children:(0,H.jsx)(R.y$,{accessibilityLabel:this.props.i18n.bt("Loading board", "Loading Board", "Accessiblity label for Spinner searching for board", undefined, true),show:!0})})})})}}function eK({inviteObject:e,socialCollabGroupBoardPath:t}){(0,o.useEffect)(()=>{(0,i.A)("GroupBoardsJoinModal","/app/www/signup/GroupBoardsJoinModal.tsx")},[]);let n=(0,D.A)(),a=(0,s.Zp)(),r=(0,ew.A)(),d=r.isAuth?r?.avatar_color_index:void 0,{country:c}=(0,w._8)(),{viewType:u,viewParameter:_}=(0,eB.WQ)(),p=t&&t.split("?")[0]||"",g=(0,l.d4)(e=>(0,eG.A)(e)[p]);return(0,H.jsx)(eW,{board:g,color:d,country:c,i18n:n,inviteObject:e,navigate:a,socialCollabGroupBoardPath:t,viewParameter:_,viewType:u})}var eV=n(743372),e$=n(828773),eH=n(201593),eJ=n(101295),eY=n(948079),eq=n(686453),eX=n(427276),eQ=n(256169),eZ=n(699613),e0=n(654557);function e1({children:e,isShown:t}){(0,o.useEffect)(()=>{(0,i.A)("ConditionalTapArea","/app/www/unauth/ConditionalTapArea.tsx")},[]);let n=(0,eh.A)(),a=(0,A.E)(),{checkExperiment:l}=(0,y.A)(),r=l("mweb_floating_app_upsell_login_q2_mau_boost").anyEnabled,d=l("mweb_q2_mau_push_pc_eu_safe").anyEnabled,c="floating-conversion-upsell",u=(0,s.Zp)(),_=(0,s.zy)();return r||d?t?(0,H.jsx)(R.Rp,{onTap:()=>{n({action:"click",item:c}),a&&u({pathname:"/login/",search:_.search},{state:{next:"/",attributionLabel:c}})},children:e}):null:(0,H.jsx)(e0.A,{app_upsell_type:"unauth-floating-upsell",componentType:14156,isShown:t,children:({handleOpenApp:t})=>(0,H.jsx)(R.Rp,{onTap:()=>{n({action:"click",item:"floating-app-upsell"}),t()},children:e})})}var e2=n(598650),e5=n(140671);let e3=e2.rj,e4=({onDismiss:e})=>{let t=(0,D.A)(),{viewType:n,viewParameter:a}=(0,eB.WQ)(),i=(0,p.YG)(),r=(0,e$.A)(i).length,d=(()=>{let e=(0,s.zy)(),t=(0,s.g)(),{countryFromIp:n,isBot:a,userAgent:{isMobile:i}}=(0,w._8)(),o=(0,eZ.HR)(),r=t.id?o(t.id):void 0;return(0,l.d4)(t=>{let l=(0,eG.A)(t)[e.pathname],s=l?.cover_pin?.pin_id,d=s&&r?o(s):void 0,c=r||d,{session:{isSocialBot:u}}=t,_=(0,eQ.A)(n||"",a||u,!i)&&["Dialup","Cellular"].includes(c?.pinner?.connection_type||""),p=(0,eJ.A)({imagesUrls:c?.images?Object.keys(c.images).reduce((e,t)=>t&&c.images?.[t]?.url?{...e,[t]:c.images[t].url}:e,{}):void 0,embedSrc:c?.embed?.src,embedType:c?.embed?.type,preferredResolution:_&&"236x"||"736x",excludeOriginals:!a&&!u})||l&&l.image_cover_url||"";return p?{color:(c||{}).dominant_color,src:p}:null})})(),c=(0,eV.A)(),{trackAppUpsellDismiss:u}=(0,eq.A)(),_=(0,eh.A)(),g=(0,E.wI)(),{isDarkMode:m}=(0,eH.D2)(),{checkExperiment:h}=(0,y.A)(),{locale:b}=(0,w._8)(),f=b.startsWith("en")&&h("mweb_floating_app_upsell_login_q2_mau_boost").anyEnabled,v=h("mweb_q2_mau_push_pc_eu_safe").anyEnabled,x="";return x=f||v?t.bt("Log in to see more", "Log in to see more", "unauth.mweb.floating_app_modal.main_text.experimental", undefined, true):g?t.bt("Get the free Pinterest app to see more", "Get the free Pinterest app to see more", "unauth.mweb.floating_app_modal.main_text", undefined, true):t.bt("Get the app to see more", "Get the app to see more", "unauth.mweb.floating_app_modal.main_text.experimental", undefined, true),(0,H.jsxs)(o.Fragment,{children:[(0,H.jsx)(R.az,{alignSelf:g?"end":void 0,dangerouslySetInlineStyle:{__style:{flexGrow:g?void 0:0}},"data-test-id":"cancel-button",display:"flex",children:(0,H.jsx)(R.K0,{accessibilityLabel:t.bt("Cancel", "Cancel", "unauth.mweb.floating_app_modal.cancel_button", undefined, true),icon:"close",iconColor:g?"subtle":"default",onClick:({event:t})=>{(0,S.fu)("mweb_unauth.float_app_upsell.dismiss_tap",{x:t?.pageX||-1,y:t?.pageY||-1}),(0,S.PM)(`pcons_dismiss_floating_app_upsell_after_${r}_rp_clicks`),(0,S.uq)("click_dismiss_float_app_upsell"),c({component:14156,element:75,event_type:102,view_type:n,view_parameter:a}),u({appUpsellType:"unauth-floating-upsell",viewType:n,viewParameter:a,component:14156,element:75}),_({action:"click",item:"close-button",within:"unauth-floating-upsell"}),t.stopPropagation(),e()},size:"sm"})}),(0,H.jsx)(R.az,{dangerouslySetInlineStyle:{__style:{flexGrow:g?void 0:1}},children:(0,H.jsxs)(R.az,{"data-test-id":"interest-image",display:"flex",margin:2*!!g,children:[g?d&&(0,H.jsx)(R.az,{height:64,marginEnd:4,minWidth:48,overflow:"hidden",rounding:200,children:(0,H.jsx)(R._V,{alt:"image",color:d.color||"white",fit:"cover",naturalHeight:64,naturalWidth:48,src:d.src})}):(0,H.jsx)(R.az,{dangerouslySetInlineStyle:{__style:{paddingRight:16}},children:(0,H.jsx)(R.az,{color:m?"inverse":"default",dangerouslySetInlineStyle:{__style:{padding:"6px"}},rounding:100,children:(0,H.jsx)(R.In,{accessibilityLabel:"Pinterest logo",color:"primary",icon:"pinterest",size:28})})}),(0,H.jsxs)(R.so,{alignItems:"stretch",direction:"column",justifyContent:g?"start":"center",children:[(0,H.jsx)(R.az,{children:(0,H.jsx)(R.KJ,{weight:g?"bold":void 0,children:t.bt("Loving these ideas?", "Loving these ideas?", "unauth.mweb.floating_app_modal.main_text", undefined, true)})}),(0,H.jsx)(R.KJ,{weight:g?void 0:"bold",children:x})]})]})})]})},e6=()=>{let e=(0,D.A)(),t=(0,s.zy)();return(0,H.jsxs)(R.az,{alignItems:"center",direction:"column",display:"flex",paddingX:2,paddingY:4,children:[(0,H.jsx)(R.az,{flex:"grow",children:(0,H.jsxs)(R.az,{marginBottom:6,children:[(0,H.jsx)(R.az,{marginBottom:2,children:(0,H.jsx)(R._Y,{align:"center",overflow:"normal",size:"400",children:e.bt("You are signed out", "You are signed out", "Heading on the bottom right upsell suggesting user is not signed in", undefined, true)})}),(0,H.jsx)(R.KJ,{align:"center",overflow:"normal",children:e.bt("Sign in to get the best experience", "Sign in to get the best experience", "Subheader value prop on the bottom right upsell", undefined, true)})]})}),(0,H.jsxs)(o.Fragment,{children:[(0,H.jsx)(eE.A,{attributionLabel:t.state?.attributionLabel,container:"UnauthFloatingUpsell",google:!0,line:!0,next:(0,eX.A)(t),showEmailButton:!0}),(0,H.jsx)(R.az,{marginTop:-3,paddingX:6,children:(0,H.jsx)(ez.A,{})})]})]})};function e8({onDismiss:e}){(0,o.useEffect)(()=>{(0,i.A)("UnauthFloatingUpsell","/app/www/unauth/UnauthFloatingUpsell.tsx")},[]);let{checkExperiment:t}=(0,y.A)(),n=(0,eh.A)(),a=(0,eg.R)(),{isDarkMode:l}=(0,eH.D2)(),r=!!a?.hasScrolledPastMainContent,d=!!a?.hasDraggedDrawerToFullScreen,c=(0,E.wI)(),u=(0,s.zy)(),_=(0,ef.A)(),[p,g]=(0,o.useState)(!1),{viewType:m,viewParameter:h}=(0,eB.WQ)(),b=(0,eb.A)({dangerouslySkipActivation:!0}),f=(t("mweb_better_related_pins_drawer").group||"").includes("draggable"),w=(0,o.useRef)(_);return(0,o.useEffect)(()=>{b?g(!1):c?_>200?g(!0):c&&g(!1):(g(_>700&&_>w.current),w.current=_)},[_,c,r,f,d,t,b]),(0,o.useEffect)(()=>{n({action:"trigger",item:p?"show-floating-app-upsell":"hide-floating-app-upsell"})},[p,u,n]),(0,H.jsx)(eN.A,{component:13130,viewParameter:h,viewType:m||202,children:(0,H.jsx)(e1,{isShown:p,children:(0,H.jsx)(R.az,{alignItems:c?"center":void 0,bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:l?eH.be:"#fff",marginTop:c?void 0:16,transition:"transform 225ms ease-in-out",transform:c?`translateY(${p?0:c?145:-120}%)`:`translateY(${p?"-84px":"120%"})`,marginBottom:c?84:void 0,paddingRight:c?void 0:"8px",flexDirection:c?void 0:"row-reverse"}},"data-test-id":"floating-app-upsell",direction:"column",display:"flex",elevation:"shadowFloating",justifyContent:c?"center":void 0,left:!c,marginEnd:4,marginStart:4*!c,maxHeight:c?void 0:96,maxWidth:c?350:void 0,opacity:100,padding:4,position:"fixed",right:!0,rounding:c?600:400,top:!1,zIndex:c?e3:new R.rk(2),children:c?(0,H.jsx)(e6,{}):(0,H.jsx)(e4,{onDismiss:e})})})})}function e7(){(0,o.useEffect)(()=>{(0,i.A)("UnauthFloatingUpsell","/app/www/unauth/UnauthFloatingUpsell.tsx")},[]);let{viewType:e,viewParameter:t}=(0,eB.WQ)(),[n,a]=(0,o.useState)(!1),l=(0,e5.A)(),s=(0,j.A)(),{checkExperiment:r}=(0,y.A)(),d=r("migration_upsell_manager_redux").anyEnabled||r("migration_upsell_manager_redux_mweb").anyEnabled||r("migration_upsell_manager_redux_mweb_global").anyEnabled,c=!!eY.wz.mobile.shouldShowFloatingBanner?.evaluate({checkExperiment:r});return(0,H.jsx)(eN.A,{component:13198,viewParameter:t,viewType:e||202,children:(0,H.jsx)(R.az,{children:c&&l&&!n&&(0,H.jsx)(e8,{onDismiss:()=>{a(!0),d&&s((0,z.WJ)({isDismissedByUser:!0}))}})})})}var e9=n(770697);function te({inviterAvatarUrl:e,inviterName:t}){(0,o.useEffect)(()=>{(0,i.A)("UnauthMobileReplyToSenderSheet","/app/www/unauth/UnauthMobileReplyToSenderSheet.tsx")},[]);let n=(0,D.A)(),a=(0,eh.A)(),l=(0,s.Zp)(),r=(0,s.zy)(),d=(0,j.A)(),{isGradientUpsellTriggerInView:c}=(0,L.F0)()||{},u=(0,eV.A)(),[_,p]=(0,o.useState)(!1),[g,m]=(0,o.useState)(!1),[h,b]=(0,o.useState)(!1);(0,k.A)(()=>{u({event_type:18028,component:15529})}),(0,o.useEffect)(()=>{let e=!1,t=()=>{e||(e=!0,requestAnimationFrame(()=>{b(window.scrollY>=window.innerHeight),e=!1}))};return window.addEventListener("scroll",t,{passive:!0}),t(),()=>{window.removeEventListener("scroll",t)}},[]),(0,o.useEffect)(()=>{let e=requestAnimationFrame(()=>p(!0));return()=>cancelAnimationFrame(e)},[]);let f=new R.K5([e9.f]),y=[{id:"love_it",label:n.bt("Love it!", "Love it!", "unauth.splp.reply_to_sender.button.love_it", undefined, true)},{id:"red_heart_emoji",label:n.bt("❤️", "❤️", "unauth.splp.reply_to_sender.button.red_heart", undefined, true)},{id:"lets_do_it",label:n.bt("Let's do it!", "Let's do it!", "unauth.splp.reply_to_sender.button.lets_do_it", undefined, true)},{id:"thumbs_up_emoji",label:n.bt("👍", "👍", "unauth.splp.reply_to_sender.button.thumbs_up", undefined, true)},{id:"hmm",label:n.bt("Hmm...", "Hmm...", "unauth.splp.reply_to_sender.button.hmm", undefined, true)}],w=()=>{d((0,z.J4)())};return(0,H.jsxs)(R.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"var(--sema-color-background-default)",boxShadow:"0px -2px 8px 0px rgba(0, 0, 0, 0.12)",borderRadius:"24px 24px 0 0",paddingTop:"20px",paddingBottom:"16px",...(0,eA.jt)({isVisible:_&&!(h||c)&&!g})}},direction:"column",display:"flex",justifyContent:"end",left:!0,onTransitionEnd:()=>{g&&w()},position:"fixed",right:!0,zIndex:f,children:[(0,H.jsxs)(R.az,{direction:"row",display:"flex",justifyContent:"between",marginBottom:3,paddingX:4,children:[(0,H.jsxs)(R.so,{alignItems:"center",direction:"row",gap:2,children:[(0,H.jsx)(eP.eu,{name:t,size:"sm",src:e}),(0,H.jsx)(R.KJ,{size:"300",weight:"bold",children:(n.bt("Reply to {{ name }}", "Reply to {{ name }}", "unauth.splp.reply_to_sender.text", undefined, true)).replace("{{ name }}",t)})]}),(0,H.jsx)(R.K0,{accessibilityLabel:"Close",icon:"close",onClick:()=>{g||u({event_type:18029,component:15529}),m(!0)},padding:1,size:"sm"})]}),(0,H.jsx)(R.az,{overflow:"scrollX",paddingX:4,children:(0,H.jsx)(R.az,{display:"inlineBlock",width:"max-content",children:(0,H.jsx)(R.so,{gap:2,children:y.map(({id:e,label:t})=>(0,H.jsx)(R.$n,{onClick:()=>(({quickReplyId:e})=>{a({action:"click",item:"unauth-social-quick-reply",within:"unauth-social-reply-to-sender-sheet",tags:{quick_reply_id:e}}),u({event_type:18030,component:15529,aux_data:{quick_reply_id:e}}),w();let t=new URLSearchParams(r.search);t.set(eA.h3,eA.mz.SPLP_QUICK_REPLY),l({pathname:"/signup/step1/",search:`?${t.toString()}`},{state:{next:r.pathname,..."object"==typeof r.state?r.state:{}}})})({quickReplyId:e}),text:t},e))})})})]})}var tt=n(199988),tn=n(447109);let ta=new R.rk(1e3);function ti({handleDismissSocialSecondaryBanner:e}){let t;(0,o.useEffect)(()=>{(0,i.A)("UnauthMobileSocialSecondaryScrollBanner","/app/www/unauth/UnauthMobileSocialSecondaryScrollBanner.tsx")},[]);let n=(0,D.A)(),a=(0,s.Zp)(),l=(0,o.useRef)(null),[r,d]=(0,o.useState)(!1),c=(0,L.AT)(),{secondaryExpGroup:u="",inviterName:_=""}=c?.data?.upsellData||{},p=(0,L.F0)(),g=p?.pinImageUrl||"";(0,o.useEffect)(()=>{let e=document.querySelector('[data-test-id="pin-closeup-image"]');e&&(l.current=e)},[]);let m=(0,o.useCallback)(e=>{d(e)},[]);(0,tt.A)(m,l.current);let h=()=>{e(),a("/signup"),(0,ek.GV)("unauth.mweb.social.pin.secondary_upsell",{sampleRate:1,tags:{secondary_exp_group:u,action:"navigate_to_signup"}})},b=()=>{e(),(0,ek.GV)("unauth.mweb.social.pin.secondary_upsell.dismiss",{sampleRate:1,tags:{secondary_exp_group:u}})};if(!r)return null;"enabled_banner_reply"===u?t=(0,H.jsxs)(R.KJ,{children:[(0,H.jsx)(R.KJ,{inline:!0,weight:"bold",children:(0,eS.vQ)(n.bt("Let {{ name }} know what you think! ", "Let {{ name }} know what you think! ", "mweb.unauth.social.secondary.reply.upsell.text", undefined, true),{name:_})}),(0,H.jsx)(R.KJ,{inline:!0,children:n.bt("Join Pinterest or log in to reply", "Join Pinterest or log in to reply", "mweb.unauth.social.secondary.reply.upsell.text", undefined, true)})]}):"enabled_banner_social"===u?t=(0,H.jsx)(R.KJ,{children:(0,eS.vQ)(n.bt("{{ name }} sent you this Pin. Join Pinterest to share your own ideas!", "{{ name }} sent you this Pin. Join Pinterest to share your own ideas!", "mweb.unauth.social.secondary.join.upsell.text", undefined, true),{name:_})}):"enabled_banner_reactions"===u&&(t=(0,H.jsx)(R.KJ,{children:(0,eS.vQ)(n.bt("Let {{ name }} know what you think", "Let {{ name }} know what you think", "mweb.unauth.social.secondary.reactions.upsell.text", undefined, true),{name:(0,H.jsx)(R.KJ,{inline:!0,weight:"bold",children:_})})}));let f="";"enabled_banner_reply"===u?f=n.bt("Reply", "Reply", "unauth.mweb.secondary.reply.button.text", undefined, true):"enabled_banner_social"===u&&(f=n.bt("Join", "Join", "unauth.mweb.secondary.join.button.text", undefined, true));let y=n.bt("Not now", "Not now", "unauth.mweb.secondary.dismiss.button.text", undefined, true);return(0,H.jsx)(R.ib,{bottom:16,zIndex:ta,children:(0,H.jsx)(R.az,{padding:2,width:"100vw",children:["enabled_banner_reply","enabled_banner_social"].includes(u)?(0,H.jsxs)(R.az,{color:"default",elevation:"shadowRaised",padding:4,rounding:400,children:[(0,H.jsxs)(R.az,{display:"flex",marginBottom:2,children:[(0,H.jsx)(R.az,{marginEnd:2,children:g&&(0,H.jsx)(R.az,{borderColor:"decorative",borderWidth:"sm",height:48,overflow:"hidden",rounding:200,width:48,children:(0,H.jsx)(R._V,{alt:n.bt("Pin image", "Pin image", "mweb.unauth.social.secondary.pin.image.alt", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:g})})}),(0,H.jsx)(R.az,{children:t})]}),(0,H.jsxs)(R.so,{justifyContent:"end",children:[(0,H.jsx)(R.az,{marginEnd:1,children:(0,H.jsx)(R.$n,{onClick:b,size:"md",text:y})}),(0,H.jsx)(R.az,{children:(0,H.jsx)(R.$n,{color:"primary",onClick:h,size:"md",text:f})})]})]}):(0,H.jsxs)(R.az,{color:"default",elevation:"shadowRaised",padding:4,rounding:400,children:[(0,H.jsxs)(R.so,{alignItems:"center",children:[(0,H.jsx)(R.az,{marginEnd:2,children:g&&(0,H.jsx)(R.az,{borderColor:"decorative",borderWidth:"sm",height:48,overflow:"hidden",rounding:200,width:48,children:(0,H.jsx)(R._V,{alt:n.bt("Pin image", "Pin image", "mweb.unauth.social.secondary.pin.image.alt", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:g})})}),(0,H.jsx)(R.az,{display:"flex",flex:"grow",marginEnd:1,children:(0,H.jsx)(R.KJ,{children:t})}),(0,H.jsx)(R.az,{children:(0,H.jsx)(R.K0,{accessibilityLabel:n.bt("Dismiss", "Dismiss", "mweb.unauth.social.secondary.upsell.dismiss.text", undefined, true),icon:"close",onClick:b,size:"md"})})]}),(0,H.jsx)(R.az,{display:"flex",justifyContent:"between",marginBottom:2,marginTop:2,children:tn.WA.map(e=>{let t=tn.UK[e];return(0,H.jsx)(R.Rp,{onTap:h,children:(0,H.jsx)(R.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#e2e2e2"}},height:48,padding:3,rounding:400,width:48,children:(0,H.jsx)(R._V,{alt:t.alt,fit:"contain",naturalHeight:t.height,naturalWidth:t.width,src:t.asset})})},e)})}),(0,H.jsx)(R.az,{marginBottom:2,children:(0,H.jsx)(R.Rp,{onTap:h,children:(0,H.jsx)(R.az,{borderColor:"decorative",borderWidth:"sm",padding:3,rounding:400,children:(0,H.jsx)(R.KJ,{color:"subtle",children:n.bt("Type a message", "Type a message", "mweb.unauth.social.secondary.type.message.placeholder", undefined, true)})})})})]})})})}var to=n(275439);let tl=[5,18,17,6,19],ts=(0,o.lazy)(()=>n.e("66995").then(n.bind(n,602891))),tr=({isUpsellManagerReduxExperimentEnabled:e})=>{let t=(()=>{let e=(0,ew.A)(),t=e&&e.isAuth,{referrerFromCookie:n}=(0,w._8)(),a=(0,x.Eb)((0,x.G2)(n??"")),i=(0,l.d4)(({session:e})=>e.unauthSavePinId&&!t),{unauthCommentPinId:o,removeUnauthCommentPinId:s}=(0,ev.m)(),r=o&&t,{unauthFollowUserId:d,removeUnauthFollowUserId:c}=(0,ex.H)(),u=d&&t,_=(0,l.wA)(),p=(0,eh.A)();return()=>{i&&_((0,ep.R)()),r&&s(),u&&c(),(0,S.uq)("hide_dismissable_modal"),p({action:"dismiss",item:"signup-modal"});let e=(0,P.V2)(),t=e.getItem("sumdc")||0;t+=1,e.setItem("sumdc",t);let n=1===t;a&&n&&(P.Ay.getItem("susdd")||P.Ay.setItem("susdd",6e4),P.Ay.setItem("susdst",new Date().getTime()))}})(),n=(0,E.Ay)(),a=(0,A.E)(),i=(0,L.F0)(),o=(0,j.A)(),s=(0,L.AT)(),{socialFeatureEducationExpGroup:r=""}=s?.data?.upsellData||{};if(!a||!a.modal.isShown)return null;let{dismissMobileSignupModal:d,modal:{displayProps:c,pinId:u}}=a;return(0,H.jsx)(g.A,{name:"SafeSuspense_UnauthPageWrapper_SignupModal",children:(0,H.jsx)(v.A,{fallback:(0,H.jsx)(R.az,{}),children:(0,H.jsx)(ts,{displayProps:c,isTablet:"tablet"===n,onDismiss:()=>{d(),t(),i?.setHasDismissedLoginModal(!0),r&&e&&setTimeout(()=>{o((0,z.LB)())},1e3)},pinId:u})})})};function td(){(0,o.useEffect)(()=>{(0,i.A)("UnauthMobileUpsellsWrapper","/app/www/unauth/UnauthMobileUpsellsWrapper.tsx")},[]);let e=(0,s.zy)(),t=(0,to.A)(),n=(0,l.wA)(),a=(0,j.A)(),{checkExperiment:r}=(0,y.A)(),d=r("migration_upsell_manager_redux").anyEnabled||r("migration_upsell_manager_redux_mweb").anyEnabled||r("migration_upsell_manager_redux_mweb_global").anyEnabled,u=(0,l.d4)(({upsell:e})=>e.showReplyToSenderSheet),_=(0,o.useRef)(e.pathname);(0,o.useEffect)(()=>{e.pathname!==_.current&&(_.current=e.pathname,u&&a((0,z.J4)()))},[e.pathname,u,a]);let p=(0,l.d4)(({session:e})=>e.unauthInterstitialDismissed),m=(()=>{let e=(0,s.zy)(),t=(0,eg.R)(),{locale:n,userAgent:{platform:a,raw:i}}=(0,w._8)();if(!t)return!1;let{appInstallBannerIsEnabled:o,pinPageGlobalContext:l}=t,r=!!(0,T.A)(e.search).invite_code;return o&&!(0,c.by)(i)&&!(n.includes("ar")&&"ios"!==a)&&!(l?.isStoryPin===!0&&r)})(),h=(()=>{let e=(0,s.zy)(),t=(0,eg.R)(),n=(0,l.d4)(e=>e.upsell.appUpsells.floatingUpsell),{locale:a,userAgent:{platform:i,raw:o}}=(0,w._8)(),r=!1;if(t){let{appInstallBannerIsEnabled:l,pinPageGlobalContext:s}=t,d=!!(0,T.A)(e.search).invite_code;r=l&&!(0,c.by)(o)&&!(a.includes("ar")&&"ios"!==i)&&!(s?.isStoryPin===!0&&d)&&(n?.shouldShow??!1)&&!n?.isDismissed}return{shouldShow:r,isDismissed:n?.isDismissed??!1}})(),b=d?h.shouldShow:m&&!p,f=(0,A.E)(),[x,P]=(0,o.useState)(!1),[S,E]=(0,o.useState)(!1),k=!!f?.modal.isShown,{country:I}=(0,w._8)(),O=(0,L.AT)(),{inviterAvatarUrl:U="",inviterName:M="",limitedRelatedPinsExpGroup:B="",secondaryExpGroup:N=""}=O?.data?.upsellData||{},F=B?.startsWith("enabled"),D=(0,C.X)(),{inviterAvatarUrl:G="",inviterName:W="",showDefaultUpsell:K=!1}=D?.data?.upsellData||{};(0,o.useEffect)(()=>{N.startsWith("enabled_banner")&&E(!0)},[N]),(0,o.useEffect)(()=>{k&&(P(!0),n((0,ep.uw)()),d&&a((0,z.WJ)({isDismissedByUser:!1})))},[k,n,d,a]);let V=k&&(0,H.jsx)(tr,{isUpsellManagerReduxExperimentEnabled:d});if(!V&&t&&t.invite){let{invite:n,pageType:a}=t;"board"!==a||n.sender?.invite_category!==4||K?tl.includes(n.invite_channel??0)&&!x&&(V=(0,H.jsx)(eR,{invite:n,onDismiss:()=>P(!0)})):V=(0,H.jsx)(g.A,{name:"SafeSuspense_UnauthPageWrapper_GroupBoardsJoinModal",children:(0,H.jsx)(v.A,{children:(0,H.jsx)(eK,{inviteObject:n,socialCollabGroupBoardPath:`${e.pathname}${e.search}`})})})}let{anyEnabled:$}="US"===I&&r("unauth_save_upsell_mweb",{dangerouslySkipActivation:!0})||{anyEnabled:!1};return(0,H.jsxs)(o.Fragment,{children:[b&&!S&&!$&&!F&&(0,H.jsx)(e7,{}),$&&(0,H.jsx)(ey,{}),(0,H.jsx)(R.az,{children:V}),!k&&u&&(0,H.jsx)(te,{inviterAvatarUrl:G||U,inviterName:W||M}),S&&(0,H.jsx)(ti,{handleDismissSocialSecondaryBanner:()=>{E(!1)}})]})}var tc=n(501407),tu=n(533614),t_=n(177808);let tp=["CA","VA","CO","CT"];var tg=n(831184),tm=n(215731);let th=(0,o.lazy)(()=>n.e("32852").then(n.bind(n,690911))),tb=(0,o.lazy)(()=>n.e("88710").then(n.bind(n,832658))),tf=({logContextEvent:e,contextEvent:t})=>{t.aux_data&&JSON.stringify(t.aux_data).length>8192?(0,S.PM)("unauth_page_wrapper_footer_logs.aux_data_too_large"):e(t)},ty=(e,t,n)=>({...{isAuthenticated:n.isAuthenticated,country:n.country,region:n.region,isStorageAllowed:n.isStorageAllowed,downloadedPinsCount:n.downloadCount,visitedUnauthPages:n.visitedPages,closeupPins:n.closeupPins,completedSearches:n.completedSearches,clickthroughPins:n.clickthroughPins,savedPins:n.savedPins,isQUS:n.isQUS,revisitationState:n.revisitationState,daysSinceLastRevisitation:n.daysSinceLastRevisitation},browserEventName:t,event:e});function tw(){(0,o.useEffect)(()=>{(0,i.A)("UnauthPageWrapperFooter","/app/www/PageWrapper/UnauthPageWrapperFooter.tsx")},[]);let e=(0,E.qJ)(),t=(0,s.zy)(),n=(0,tm.p)(),{checkExperiment:a}=(0,y.A)(),{logContextEvent:R}=(0,u.o)(),B=(0,w._8)(),{country:N,language:F,isBot:D}=B,G=(0,L.AT)(),{showDefaultUpsell:W}=G?.data?.upsellData||{},K=(0,C.X)(),{showDefaultUpsell:V}=K?.data?.upsellData||{};(0,o.useEffect)(()=>{n&&setTimeout(()=>{n.preload?.((0,tg.DS)("login.js"))},500)},[]);let{referrerFromCookie:$,userAgent:J}=(0,w._8)(),Y=(0,A.E)(),q=t&&t.search?(0,T.A)(t.search):"",Q=!!q&&"1"===q.ur,Z=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{!Z.current&&Q&&(0,es.F)(t),Z.current=Q,"GSA"===J.browserName&&"ios"===J.platform?(0,S.PM)("pcons.gsa_and_ios_session.platform"):"GSA"===J.browserName&&"iOS"===J.osName&&(0,S.PM)("pcons.gsa_and_ios_session.osName")}),(0,o.useEffect)(()=>{(0,S.PM)("mweb.unauth_seo.referrer",{referrer:$,docReferrer:document.referrer})},[$]),(0,o.useEffect)(()=>{setTimeout(()=>{tf({logContextEvent:R,contextEvent:{event_type:7686,view_type:51,aux_data:{seo_interlinking:JSON.stringify((0,x.VO)({country:N,language:F,isBot:D,hostname:window.location.hostname||"",pathname:t.pathname||""}))}}})},5e3)},[t.pathname,R,D,N,F,B,a]),((e,t=!1)=>{let n=(0,s.zy)(),{checkExperiment:a}=(0,y.A)(),{isPaid:i,isSocial:r,isDirect:u,isSEO:_,isBrowserStorageAllowed:p}=(0,f.A)(),{userAgent:g}=(0,l.d4)(e=>e.session),[m,w]=(0,o.useState)(!1),v=a("migration_upsell_manager_redux").anyEnabled||a("migration_upsell_manager_redux_mweb").anyEnabled||a("migration_upsell_manager_redux_mweb_global").anyEnabled,x=(0,l.wA)(),A=(0,j.A)();(0,o.useEffect)(()=>{if(e)if(v)A((0,z.HI)({location:n,isPaid:i,isSocial:r,isDirect:u,isSEO:_,showUnauthMwebSocialDefaultModalUpsell:t}));else{let{showMobileSignupModal:o,incrementUpsellEligibleNavigationCount:l,upsellIsEnabledGlobally:s}=e;if(!p&&!m||p&&s()&&!P.Ay.getItem(d.sX)){let e=a("mweb_on_land_full_page_signup_upsell").anyEnabled;if(!((0,h.dM)(n)||(0,h.iK)(n)||(0,b.A)(n)||(0,h._p)(n)||(0,h.ZX)(n)))return;let s=_&&(a("mweb_seo_q2_upper_bound").anyEnabled||a("mweb_q2_mau_push_pc_emergency_row").anyEnabled),m=u&&(a("mweb_direct_q2_upper_bound").anyEnabled||a("mweb_q2_mau_push_pc_advanced").anyEnabled||a("mweb_q2_mau_push_pc_advanced_row").anyEnabled||a("mweb_q2_mau_push_pc_emergency_row").anyEnabled),f=i&&(a("mweb_paid_q2_upper_bound").anyEnabled||a("mweb_q2_mau_push_pc_advanced").anyEnabled||a("mweb_q2_mau_push_pc_advanced_row").anyEnabled||a("mweb_q2_mau_push_pc_emergency_row").anyEnabled),y=r&&a("mweb_social_q2_upper_bound").anyEnabled,v=!((0,c.SS)(g)&&a("mweb_unauth_social_iab_upsell_boost_experiment",{dangerouslySkipActivation:!0}).anyEnabled)&&t;if(!(e||s||m||f||y||v))return;o({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"navigation_0",navigationTriggeredUpsell:{newLocation:n,oldLocation:n},headingType:v?"social":"none",allowCloseOnOutsideClick:!(m||f)}),p?(P.Ay.setItem(d.sX,!0),l()):w(!0),(0,S.PM)("mweb.nav.upsell.show.0"),v&&(0,ek.GV)("unauth.mweb.social.pin.upsell",{sampleRate:1})}}},[e,n,a,i,r,u,_,p,m,w,g,x,A,v,t])})(Y,W||V),!function(){let{country:e,countryFromHostName:t,countryFromIp:n,isBot:a,regionFromIp:i,unauthId:l}=(0,w._8)(),s=new Set(tc.A),r=s.has(e)||s.has(t)||s.has(n),d=tp.includes(i),c=ej.wnl.includes(i),u="u">typeof window&&!!window.navigator&&!!window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl;(0,o.useEffect)(()=>{r||d||u&&c||(0,tu.n)({country:e,regionFromIp:i,isBot:a})&&(0,t_.L_)({id:"flashtalking-m-ses",eventName:"Mobile"})},[e,r,l,a,i,d,c,u])}(),(({requestContext:e})=>{let t=(0,p.Ay)(),{logContextEvent:n}=(0,u.o)(),a=(0,s.zy)(),i=(0,l.wA)(),{isBot:o,userAgent:{raw:g}}=e,h=e=>{tf({logContextEvent:n,contextEvent:{event_type:7686,view_type:51,aux_data:{unauth_data:JSON.stringify(ty("site_entry",e,t)),unauth_revisitation:t.revisitationState.sessionTimestamps.length,unauth_previously_logged_out:_.Jt(r.N5)}}})};(0,k.A)(()=>{let e=e=>{t.trackSessionEnd(),tf({logContextEvent:n,contextEvent:{event_type:7686,view_type:51,aux_data:{unauth_data:JSON.stringify(ty("site_exit",e,t)),unauth_revisitation:t.revisitationState.sessionTimestamps.length,unauth_previously_logged_out:_.Jt(r.N5)}}})},a=!0,i=()=>{let{visibilityState:t}=document;if("visible"===t&&!a){a=!0,h("visibilitychange");return}a=!1,e("visibilitychange")},l=()=>{a=!1,e("beforeunload")};return o?()=>{}:(document.addEventListener("visibilitychange",i),window.addEventListener("beforeunload",l),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("beforeunload",l)})}),(0,k.A)(()=>{if((a.search||"").includes("amp_client_id")&&(0,S.PM)("amp_duplo_redirect"),!o){let e;i((0,m.xL)([1000180],o)),(e=O.A.create("UnauthUserDataResource"),new Promise((t,n)=>{e.callGet().then(e=>{let a=e.resource_response.data,i=!!_.Jt(r.vS);return a?((0,M.uo)(a.medium_image_url)&&(a.medium_image_url=""),(0,S.PM)(`mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_${i?"true":"false"}`),t(a)):((0,S.PM)(`mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_${i?"true":"false"}`),n({}))}).catch(e=>{let t=(0,U.A)(e,"message");if(t){let e=t.replace(/\s/g,"_").toLowerCase();(0,S.PM)(`mweb.unauth.personalized_login.fetch_user_info.error.${e}`)}else(0,S.PM)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})).then(e=>{i((0,ep.aK)(e))},()=>{i((0,ep.aK)())}),h("onMount")}(0,c.by)(g)&&(0,P.V2)().setItem(d.E7,I.bG)})})({requestContext:B}),(0,H.jsxs)(o.Fragment,{children:[!(0,h.MT)(t)&&!(0,h.tV)(t)&&(0,H.jsx)(g.A,{name:"SafeSuspense_UnauthPageWrapper_AutoLogin",children:(0,H.jsx)(v.A,{children:(0,H.jsx)(th,{container:"UnauthPageWrapperFooter"})})}),(0,H.jsx)(g.A,{name:"SafeSuspense_UnauthPageWrapper_GoogleOneTap",children:(0,H.jsx)(v.A,{children:(0,H.jsx)(tb,{})})}),(0,H.jsx)(X,{container:"UnauthPageWrapperFooter"}),!e&&(0,H.jsx)(td,{}),Y&&(0,H.jsx)(e_,{context:Y})]})}},970042(e,t,n){n.d(t,{A:()=>l});var a=n(859471),i=n(743372),o=n(752159);function l(e){let{auxData:t,clientTrackingParams:n,children:l,component:s,element:r,objectIdStr:d,viewData:c,viewParameter:u,viewType:_}=e,p=(0,i.A)(),g=JSON.stringify(t),m=JSON.stringify(c);return(0,a.useEffect)(()=>{(({viewType:e,viewParameter:t,viewData:n,auxData:a,objectIdStr:i,component:l,clientTrackingParams:s,element:r},d)=>{let c,u=Object.keys(c={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:a,object_id_str:i,component:l,clientTrackingParams:s,element:r}).reduce((e,t)=>(void 0===c[t]&&delete e[t],e),{...c});-1===Object.keys(u).indexOf("view_type")&&(0,o.PM)("mweb.logging.null_view_type"),d(u)})(e,p)},[p,g,n,s,r,d,m,u,_]),a.Children.only(l)}},654557(e,t,n){n.d(t,{A:()=>h});var a=n(61163),i=n(859471),o=n(979638),l=n(586733),s=n(676692),r=n(844255),d=n(752159),c=n(67765),u=n(942795),_=n(210429),p=n(265903),g=n(81920),m=n(562615);function h({children:e,componentType:t,app_upsell_type:n,isShown:h=!0}){(0,i.useEffect)(()=>{(0,a.A)("AppUpsellController","/app/www/appupsell/AppUpsellController.tsx")},[]);let b=(0,o.zy)(),{flushContextEvents:f,logContextEvent:y}=(0,l.o)(),{viewType:w,viewParameter:v}=(0,s.WQ)(),x=(0,c.A)(),{userAgent:{platform:A}}=(0,r._8)();(0,i.useEffect)(()=>{x({action:"view",item:"download-button",within:n})},[b,n,x]);let P=(0,i.useRef)(!1);(0,i.useEffect)(()=>{h&&w&&202!==w?(y({component:t||13106,element:10308,event_type:9976,view_type:w,view_parameter:v,aux_data:{app_upsell_type:n,app_upsell_is_dupe:P.current}}),P.current=!0):(0,g.GV)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:w,view_parameter:v,app_upsell_type:n,app_upsell_is_dupe:P.current}})},[w,v,t,n,y,h]);let S=(0,_.A)();return(0,i.useEffect)(()=>{S||(0,d.PM)(`mweb.app_upsell.forbidden_upsell.${n}`)},[S,n]),(0,m.jsx)(p.A,{children:a=>e({handleOpenApp:e=>{x({action:"click",item:"download-button",within:n}),(0,d.uq)("press_open_app",!0),y({component:t||13106,element:10308,event_type:102,view_type:w||202,view_parameter:v,aux_data:{app_upsell_type:n}}),y({component:t||13106,element:10308,event_type:9977,view_type:w||202,view_parameter:v,aux_data:{app_upsell_type:n}}),f(),a&&(y({component:t||13106,element:10308,event_type:1701,view_type:w||202,view_parameter:v,aux_data:{app_upsell_type:n}}),a(e?.deepLinkUri??(0,u.A)(b,"android"===A),n))}})})}},942795(e,t,n){n.d(t,{A:()=>i});var a=n(115795);function i(e,t){return"/"===e.pathname?"/":(0,a.iK)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1)}},686453(e,t,n){n.d(t,{A:()=>i});var a=n(586733);function i(){let{logContextEvent:e}=(0,a.o)();return{trackAppUpsellDismiss:({appUpsellType:t,viewType:n,viewParameter:a,component:i,element:o})=>{e({event_type:10220,view_type:n??202,view_parameter:a,component:i,element:o,aux_data:{app_upsell_type:t}})}}}},567584(e,t,n){n.d(t,{A:()=>o});var a=n(957760),i=n(752159);async function o(e){let t=await (0,a.Oe)(),n=t?{user_ids:Object.keys(t)}:{};(0,i.fu)(`mweb_multiple_accounts_${e}`,n)}},402101(e,t,n){n.d(t,{Q:()=>_,q6:()=>g,nB:()=>p});var a=n(607685),i=n(286622),o=n(584469),l=n(201447),s=n(598948),r=n(602719),d=n(479123);let c=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"];var u=n(81920);let _=e=>e&&(0,l.A)(e)&&a.UU5!==e?(0,s.A)(e).relative:"/",p=(e,t)=>{let n,a=(0,i.A)(e);return n=new URL(a,t),c.some(e=>!!(0,d.B6)({path:e,end:!0},n.pathname))||(0,o.A)(a)===r.A.TRUSTED_DIFFERENT_ORIGIN},g=({checkExperiment:e,forceFullPageNavigation:t,isPartner:n,navigate:a,next:o,noLocationReplace:l,origin:s})=>{let r=(0,i.A)(o);if(p(o,s)||!a||t)t&&(0,u.GV)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(r);else{let t=_(r),i="/"===t&&!n&&e?.("mweb_res_user_nudge_to_home").anyEnabled?"/search/":t;l?a(_(i)):a(_(i),{replace:!0})}}},427276(e,t,n){n.d(t,{A:()=>a});function a(e){return e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null}},242437(e,t,n){n.d(t,{A:()=>l});var a=n(859471),i=n(601185),o=n(639650);let l=()=>{let{checkExperiment:e}=(0,i.A)();return(0,a.useCallback)(()=>{let t=(0,o.q)();if(t?.includes("pin/[id]")){let{anyEnabled:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});if(!t){let{anyEnabled:t}=e("auth_mweb_graphql_autologin_reload");t&&window.location.reload()}}},[e])}},760771(e,t,n){n.d(t,{A:()=>c});var a=n(61163),i=n(859471),o=n(19821),l=n(79906),s=n(538329),r=n(752159),d=n(562615);function c({onDismiss:e}){(0,i.useEffect)(()=>{(0,a.A)("LoginRateLimitedModal","/app/www/login/duplo/LoginRateLimitedModal.tsx")},[]);let t=(0,s.A)();(0,i.useEffect)(()=>{(0,r.PM)("unauth_mweb.login_rate_limited.view")},[]);let n=t.bt("Too many login attempts", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true);return(0,d.jsxs)(l.Ay,{accessibilityModalLabel:n,heading:(0,d.jsxs)(o.az,{"data-test-id":"login-rate-limited-header",children:[(0,d.jsx)(o.az,{display:"flex",justifyContent:"center",padding:6,children:(0,d.jsx)(o.In,{accessibilityLabel:t.bt("Pinterest logo", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"primary",icon:"pinterest",size:40})}),(0,d.jsx)(o._Y,{accessibilityLevel:1,align:"center",size:"600",children:n})]}),isOpen:!0,onDismiss:e,children:[(0,d.jsx)(o.az,{"data-test-id":"login-rate-limited-text",marginBottom:8,marginTop:4,paddingX:12,children:(0,d.jsx)(o.KJ,{align:"center",children:t.bt("You have reached the maximum number of login attempts. Try again in 30 minutes.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,d.jsx)(o.az,{"data-test-id":"login-rate-limited-footer",marginBottom:8,paddingX:12,children:(0,d.jsx)(o.$n,{color:"primary",fullWidth:!0,onClick:e,text:t.bt("OK", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true)})})]})}},577675(e,t,n){n.d(t,{A:()=>o});var a=n(132804);let i=[{bundleId:"social_visual_upsell_bundle",experimentKey:a.v_.SOCIAL_VISUAL_UPSELLS,configKey:a.v_.SOCIAL_VISUAL_UPSELLS,headingType:"social_visual_upsell"},{bundleId:"feature_upsell_copy_visual_combination_v5_bundle",experimentKey:a.v_.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V5,configKey:a.v_.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V5,headingType:"mweb_feature_upsell_copy_visual_combination_v5"},{bundleId:"feature_upsell_copy_visual_combination_v4_bundle",experimentKey:a.v_.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V4,configKey:a.v_.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V4,headingType:"mweb_feature_upsell_copy_visual_combination_v4"},{bundleId:"feature_upsell_copy_visual_combination_v3_bundle",experimentKey:a.v_.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V3,configKey:a.v_.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V3,headingType:"mweb_feature_upsell_copy_visual_combination_v3"},{bundleId:"feature_upsell_copy_visual_combination_v2_bundle",experimentKey:a.v_.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V2,configKey:a.v_.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V2,headingType:"mweb_feature_upsell_copy_visual_combination_v2"}];function o(e,t){for(let n of i){let i=a.c5[n.configKey];if(!i||i.shouldActivate&&!i.shouldActivate(e,t))continue;let o=i.getExperimentGroup?i.getExperimentGroup(e,t):null;if(o){let e=i.variants[o];if(e)return{bundle:n,experimentGroup:o,config:e}}}return null}},132804(e,t,n){n.d(t,{v_:()=>r,c5:()=>_,rh:()=>m});let a="https://s.pinimg.com/webapp/unauth_social_visual_upsell-f522e115.png",i="https://s.pinimg.com/webapp/UnauthUpsell_MediaModal_VP1-d3bf1155.png";var o=n(807749);let l="https://s.pinimg.com/webapp/UnauthUpsell_MediaModal_VP2_V2-40a0d16f.png";var s=n(805739);let r={MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V2:"mweb_feature_upsell_copy_visual_combination_v2",MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V3:"mweb_feature_upsell_copy_visual_combination_v3",MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V4:"mweb_feature_upsell_copy_visual_combination_v4",MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V5:"mweb_feature_upsell_copy_visual_combination_v5",SOCIAL_VISUAL_UPSELLS:"social_visual_upsells"},d="BACKGROUND_IMAGE_UPSELL",c=["enabled","enabled_no_legal","enabled_copy_2"],u=["enabled_copy_2_no_legal","enabled_copy_2_with_legal"],_={[r.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V2]:{type:d,experimentName:"mweb_feature_upsell_copy_visual_combination_v2",variants:{enabled:{backgroundImage:l,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v2.enabled.header",defaultText:"More ideas, just for you",description:"Header text for enabled variant of v2 experiment"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",tracking:{attributionLabel:"visual_combination_upsell_v2"}}},fallback:{backgroundImage:i,headerText:{i18nKey:"mweb.unauth.signup_modal.title",defaultText:"Welcome to Pinterest",description:"Title on the mobile web home page"},subHeaderText:{i18nKey:"mweb.unauth.signup_modal.value_prop",defaultText:"Free, unlimited access to ideas",description:"First value prop on mobile web sign up modal"},tracking:{attributionLabel:"visual_combination_upsell_v2"}},shouldActivate:e=>"enabled"===e("mweb_feature_upsell_copy_visual_combination_v2").group,getExperimentGroup:e=>"enabled"===e("mweb_feature_upsell_copy_visual_combination_v2").group?"enabled":null},[r.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V4]:{type:d,experimentName:"mweb_feature_upsell_copy_visual_combination_v4",variants:{enabled_copy_2_no_legal:{backgroundImage:o,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v3.enabled.header",defaultText:"More ideas, just for you",description:"Header text for v4 enabled_copy_2_no_legal"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",showLegalTerms:!1,loginTextUnderline:!0,tracking:{attributionLabel:"visual_combination_upsell_v4_copy_2_no_legal"}},enabled_copy_2_with_legal:{backgroundImage:o,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v3.enabled.header",defaultText:"More ideas, just for you",description:"Header text for v4 enabled_copy_2_with_legal"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",showLegalTerms:!0,loginTextUnderline:!0,tracking:{attributionLabel:"visual_combination_upsell_v4_copy_2_with_legal"}}},fallback:{backgroundImage:i,headerText:{i18nKey:"mweb.unauth.signup_modal.title",defaultText:"Welcome to Pinterest",description:"Title on the mobile web home page"},subHeaderText:{i18nKey:"mweb.unauth.signup_modal.value_prop",defaultText:"Free, unlimited access to ideas",description:"First value prop on mobile web sign up modal"},showLegalTerms:!0,tracking:{attributionLabel:"visual_combination_upsell_v4"}},shouldActivate:e=>{let t=e("mweb_feature_upsell_copy_visual_combination_v4")?.group??"";return u.includes(t)},getExperimentGroup:e=>{let t=e("mweb_feature_upsell_copy_visual_combination_v4")?.group??"";return u.includes(t)?t:null}},[r.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V5]:{type:d,experimentName:"mweb_feature_upsell_copy_visual_combination_v5",variants:{enabled_copy_2_no_legal:{backgroundImage:o,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v3.enabled.header",defaultText:"More ideas, just for you",description:"Header text for v5 enabled_copy_2_no_legal"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",showLegalTerms:!1,loginTextUnderline:!0,tracking:{attributionLabel:"visual_combination_upsell_v5_copy_2_no_legal"}},enabled_copy_2_with_legal:{backgroundImage:o,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v3.enabled.header",defaultText:"More ideas, just for you",description:"Header text for v5 enabled_copy_2_with_legal"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",showLegalTerms:!0,loginTextUnderline:!0,tracking:{attributionLabel:"visual_combination_upsell_v5_copy_2_with_legal"}},enabled_copy_2_no_legal_3_2:{backgroundImage:s,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v3.enabled.header",defaultText:"More ideas, just for you",description:"Header text for v5 enabled_copy_2_no_legal_3_2"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",showLegalTerms:!1,loginTextUnderline:!0,tracking:{attributionLabel:"visual_combination_upsell_v5_copy_2_no_legal_3_2"}},enabled_copy_2_with_legal_3_2:{backgroundImage:s,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v3.enabled.header",defaultText:"More ideas, just for you",description:"Header text for v5 enabled_copy_2_with_legal_3_2"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",showLegalTerms:!0,loginTextUnderline:!0,tracking:{attributionLabel:"visual_combination_upsell_v5_copy_2_with_legal_3_2"}}},fallback:{backgroundImage:i,headerText:{i18nKey:"mweb.unauth.signup_modal.title",defaultText:"Welcome to Pinterest",description:"Title on the mobile web home page"},subHeaderText:{i18nKey:"mweb.unauth.signup_modal.value_prop",defaultText:"Free, unlimited access to ideas",description:"First value prop on mobile web sign up modal"},showLegalTerms:!0,tracking:{attributionLabel:"visual_combination_upsell_v5"}},shouldActivate:e=>{let t=e("mweb_feature_upsell_copy_visual_combination_v5")?.group??"";return"enabled_copy_2_no_legal"===t||"enabled_copy_2_with_legal"===t||"enabled_copy_2_no_legal_3_2"===t||"enabled_copy_2_with_legal_3_2"===t},getExperimentGroup:e=>{let t=e("mweb_feature_upsell_copy_visual_combination_v5")?.group??"";return"enabled_copy_2_no_legal"===t||"enabled_copy_2_with_legal"===t||"enabled_copy_2_no_legal_3_2"===t||"enabled_copy_2_with_legal_3_2"===t?t:null}},[r.MWEB_FEATURE_UPSELL_COPY_VISUAL_COMBINATION_V3]:{type:d,experimentName:"mweb_feature_upsell_copy_visual_combination_v3",variants:{enabled:{backgroundImage:l,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v3.enabled.header",defaultText:"More ideas, just for you",description:"Header text for enabled variant of v3 experiment"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",showLegalTerms:!0,loginTextUnderline:!0,tracking:{attributionLabel:"visual_combination_upsell_v3"}},enabled_no_legal:{backgroundImage:l,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v3.enabled_no_legal.header",defaultText:"More ideas, just for you",description:"Header text for enabled_no_legal variant of v3 experiment"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",showLegalTerms:!1,loginTextUnderline:!0,tracking:{attributionLabel:"visual_combination_upsell_v3_no_legal"}},enabled_copy_2:{backgroundImage:o,headerText:{i18nKey:"mweb_feature_upsell_copy_visual_combination_v3.enabled.header",defaultText:"More ideas, just for you",description:"Header text for enabled variant of v3 experiment"},subHeaderText:null,isWashDismissible:!0,sidePaddingColor:"#F6F6F3",showLegalTerms:!0,loginTextUnderline:!0,tracking:{attributionLabel:"visual_combination_upsell_v3_copy_2"}}},fallback:{backgroundImage:i,headerText:{i18nKey:"mweb.unauth.signup_modal.title",defaultText:"Welcome to Pinterest",description:"Title on the mobile web home page"},subHeaderText:{i18nKey:"mweb.unauth.signup_modal.value_prop",defaultText:"Free, unlimited access to ideas",description:"First value prop on mobile web sign up modal"},showLegalTerms:!0,tracking:{attributionLabel:"visual_combination_upsell_v3"}},shouldActivate:e=>{let t=e("mweb_feature_upsell_copy_visual_combination_v3")?.group??"";return c.includes(t)},getExperimentGroup:e=>{let t=e("mweb_feature_upsell_copy_visual_combination_v3")?.group??"";return c.includes(t)?t:null}},[r.SOCIAL_VISUAL_UPSELLS]:{type:"SOCIAL_VISUAL_UPSELL",variants:{social_visual_1:{backgroundImage:a,headerText:{i18nKey:"social_visual_upsell.social_visual_1.header",defaultText:"Join {{ name }} on Pinterest for more ideas",description:"Header text for social_visual_1 variant of mobile web sign up modal, name:inviter first name"},subHeaderText:null,sidePaddingColor:"var(--sema-color-background-secondary, #E0E0D9)",tracking:{attributionLabel:"social_upsell"}},social_visual_2:{backgroundImage:a,headerText:{i18nKey:"social_visual_upsell.social_visual_2.header",defaultText:"Start discovering ideas with {{ name }}",description:"Header text for social_visual_2 variant of mobile web sign up modal, name:inviter first name"},subHeaderText:{i18nKey:"social_visual_upsell.social_visual_2.subtext",defaultText:"Join Pinterest to collect ideas together",description:"Subtext for social_visual_2 variant of mobile web sign up modal"},sidePaddingColor:"var(--sema-color-background-secondary, #E0E0D9)",tracking:{attributionLabel:"social_upsell"}},social_visual_3:{backgroundImage:a,headerText:{i18nKey:"social_visual_upsell.social_visual_3.header",defaultText:"{{ name }} has great taste!",description:"Header text for social_visual_3 variant of mobile web sign up modal, name:inviter first name"},subHeaderText:{i18nKey:"social_visual_upsell.social_visual_3.subtext",defaultText:"Join Pinterest to see what else {{ name }} is into",description:"Subtext for social_visual_3 variant of mobile web sign up modal, name:inviter first name"},sidePaddingColor:"var(--sema-color-background-secondary, #E0E0D9)",tracking:{attributionLabel:"social_upsell"}}},shouldActivate:()=>!0,getExperimentGroup:(e,t)=>t?.startsWith("social_visual")?t:null}};function p(e,t){let n="string"==typeof e?e:e.defaultText;return t&&Object.entries(t).forEach(([e,t])=>{n=n.replace(RegExp(`{{ ${e} }}`,"g"),t)}),n}function g(e,t,n,a){let i=e(t,n,a);return i&&i!==t?i:n}function m(e,t,n,a){var i,o;let l,s=(i=e,o=t,(l=_[i])?l.variants[o]||(l.type===d&&l.fallback?l.fallback:null):null);if(!s)return null;let r="string"==typeof s.headerText?p(s.headerText,a):p(g(n,s.headerText.i18nKey,s.headerText.defaultText,s.headerText.description),a),c=null;return s.subHeaderText&&(c="string"==typeof s.subHeaderText?p(s.subHeaderText,a):p(g(n,s.subHeaderText.i18nKey,s.subHeaderText.defaultText,s.subHeaderText.description),a)),{headerText:r,subHeaderText:c,backgroundImage:s.backgroundImage,isWashDismissible:s.isWashDismissible??!0,sidePaddingColor:s.sidePaddingColor,showLegalTerms:s.showLegalTerms??!0,loginTextUnderline:s.loginTextUnderline??!1,attributionLabel:s.tracking.attributionLabel}}},700944(e,t,n){let a;n.d(t,{A:()=>b});var i=n(859471),o=n(19821),l=n(570068),s=n(131094),r=n(909179);let d={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},c="DelightfulBubbles__",u=[`${c}fadeIn {
  to {
    opacity: 1;
  }
}
`,`${c}growShrink {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
`,`${c}swirl {
  0% {
    transform: rotate(0deg) translateX(-50%);
  }
  100% {
    transform: rotate(-360deg) translateX(-50%);
  }
}
`,...(a=(0,r.A)(d)).map(e=>{let t,n,i=(t=a.length,n=a.indexOf(e)+1>=t?0:a.indexOf(e)+1,a[n]);return`${c}colorChange_${e} {
      0% {
        background-color: ${d[e]};
      }
      50% {
        background-color: ${d[i]};
      }
    }
    `})],_=(0,l.m5)(u);var p=n(562615);function g(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m=e=>{let{delay:t,diameter:n,height:a,initialColor:i,width:l,xOffset:s,yOffset:r}=e,u=Math.floor(n/2),_={bubblePositionStyles:{position:"absolute",marginLeft:`${l/2-u}px`,marginTop:`${a/2-u}px`,left:`${s}px`,top:`${r}px`},bubbleSwirlStyles:{animation:`${c}swirl 6s ease-in-out ${t}s infinite forwards`,WebkitAnimation:`${c}swirl 6s ease-in-out ${t}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${c}growShrink 6s ease-in-out ${t}s infinite alternate`,WebkitAnimation:`${c}growShrink 6s ease-in-out ${t}s infinite alternate`},bubbleShapeStyles:{height:`${n}px`,width:`${n}px`,borderRadius:"50%",backgroundColor:d[i],opacity:0,animation:`${c}colorChange_${i} 12s steps(1, start) ${t}s infinite forwards,
      ${c}fadeIn 3s linear ${t}s 1 forwards`,WebkitAnimation:`${c}colorChange_${i} 12s steps(1, start) ${t}s infinite forwards,
      ${c}fadeIn 3s linear ${t}s 1 forwards`}};return(0,p.jsx)(o.az,{dangerouslySetInlineStyle:{__style:_.bubblePositionStyles},children:(0,p.jsx)(o.az,{dangerouslySetInlineStyle:{__style:_.bubbleSwirlStyles},children:(0,p.jsx)(o.az,{dangerouslySetInlineStyle:{__style:_.bubbleGrowShrinkStyles},children:(0,p.jsx)(o.az,{dangerouslySetInlineStyle:{__style:_.bubbleShapeStyles}})})})})};class h extends i.Component{constructor(...e){super(...e),g(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return e.numBubbles!==this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){let{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){let{delayFactor:n,delayOffset:a,numBubbles:i,xRadiusAdjustment:o,yRadiusAdjustment:s}=this.props,c=e+2*s,u=t+2*o,_=[],g=(0,r.A)(d);for(let o=0;o<i;o+=1){let i=16+(0,l.hw)(-4,4),s=g[o%g.length],{x:r,y:d}=(0,l.Tw)(c,u);_.push((0,p.jsx)(m,{delay:o*n+a,diameter:i,height:e,initialColor:s,width:t,xOffset:r,yOffset:d},o))}return _}render(){let{isDesktop:e}=this.props,{height:t,width:n}=this.getSize();return(0,p.jsxs)(o.az,{height:t,position:"relative",width:n,children:[(0,p.jsx)(s.A,{unsafeCSS:_}),(0,p.jsxs)(o.az,{ref:e=>{this.containerElement=e},position:e?void 0:"absolute",children:[this.state.isInitialized&&this.createBubbles(t||0,n||0),(0,p.jsx)(o.az,{position:"relative",children:this.props.children})]})]})}}g(h,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});let b=h},553027(e,t,n){n.d(t,{A:()=>g});var a=n(61163),i=n(859471),o=n(19821),l=n(989346),s=n(348681),r=n(538329),d=n(844255),c=n(999813),u=n(700944),_=n(599254),p=n(562615);function g({isReducedHeader:e,progressBarAnimationDuration:t}){(0,i.useEffect)(()=>{(0,a.A)("WelcomeScreen","/app/www/nux/WelcomeScreen.tsx")},[]);let n=(0,r.A)(),{country:g}=(0,d._8)(),m=(0,_.A)(g);return(0,p.jsx)(i.Fragment,{children:m?(0,p.jsx)(s.A,{log:{view_type:10,view_parameter:259},children:(0,p.jsxs)(o.az,{bottom:!0,color:"default",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,p.jsx)(l.A,{color:"washDark",duration:t||3e3,finalProgress:95}),(0,p.jsxs)(o.so,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,p.jsxs)(o.az,{"data-test-id":"account-creation-heading",margin:10,children:[(0,p.jsx)(o._Y,{overflow:"normal",size:e?"600":"700",children:n.bt("Your account is being created.", "Your account is being created!", "account created heading", undefined, true)}),(0,p.jsx)(o.az,{children:(0,p.jsx)(o.KJ,{overflow:"normal",children:n.bt("You can now save ideas, get personalised recommendations and more", "You can now save ideas, get personalized recommendations, and more", "loading state description while waiting for any sign up registration to complete", undefined, true)})})]}),(0,p.jsx)(o.so,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,p.jsx)(u.A,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,p.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#e2e2e2"}},direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,p.jsx)(o.In,{accessibilityLabel:n.bt("Loading", "Loading", "Loading state for any sign up registration", undefined, true),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,p.jsx)(c.A,{})})}},599254(e,t,n){n.d(t,{A:()=>i});var a=n(637616);let i=e=>new Set([...a.yv,...a.DQ,...a.UT]).has(e)},256169(e,t,n){n.d(t,{A:()=>i});var a=n(637616);let i=(e,t,n)=>!t&&!n&&a.nl.has(e)},36217(e,t,n){n.d(t,{s:()=>U,v:()=>O});var a=n(859471),i=n(106386),o=n(148867),l=n(427471),s=n(706114),r=n(743372),d=n(251407),c=n(557704),u=n(926608),_=n(856748),p=n(26530),g=n(769272),m=n(816492),h=n(516750),b=n(583725),f=n(601185),y=n(700481),w=n(34748),v=n(844255),x=n(805863),A=n(998556),P=n(752159),S=n(550813),j=n(986716),z=n(567584),T=n(402101),E=n(82005),k=n(273919),I=n(639650),C=n(81920);let L=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),O=()=>{let e=(0,r.A)(),t=(0,f.A)(),n=(0,i.wA)(),{country:O,countryFromHostName:U,countryFromIp:M,regionFromIp:R,userAgent:{isTablet:B,isMobile:N}}=(0,v._8)(),F=(0,y.A)(),D=(0,S.A)(),G=(0,m.A)(),W=(0,u.YG)();return(0,a.useCallback)(async(a,i,r="/",u={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1,component:"unspecified",container:"unspecified_container"},m)=>{F();let f=!B&&!N,{isAutologin:y,isSwitchAccount:v,noLocationReplace:S,recaptchaV3Token:K,noImmediateRedirect:V,useAlternativeResourceCall:$,trigger:H,accountUnlinked:J,fingerprintData:Y,component:q,container:X}=u;(0,A.y1)().setItem(s.g0,(0,b.Ds)(a));let Q=t=>{e({...m,event_type:t,aux_data:{...m.aux_data,upsell_reason:m.aux_data?.upsell_reason||(y?"autologin":(0,A.y1)().getItem(s.LU)),upsell_view_count:(0,A.y1)().getItem(s.We)??0}}),7536===t&&(0,A.y1)().setItem(s.We,0)},Z=(0,I.q)(),ee=f?5:6,et={get_user:!0,...a,app_type_from_client:ee,recaptchaV3Token:K,fingerprintData:Y,autologin:y,ui_component:`${X}.${q}`,handler:Z},en=JSON.stringify(W)||"";en&&(et={...et,visited_pages_before_login:en});let ea=(0,E.w)();if(ea&&(et={...et,referrer:ea}),await (0,g.dC)({fingerprintData:Y,source:p.D1.LOGIN,logContextEvent:e}))return Promise.reject({isArkoseChallengeRequired:!0});et=(0,g.Xw)(et);let ei=l.A.create("UserSessionResource",et).callCreate();if($&&a.username_or_email&&a.password&&!t.checkExperiment("identity_deprecate_alternative_resource").anyEnabled){(0,C.GV)("webapp.authentication.useAlternativeResourceCall",{sampleRate:1,tags:{app_type_from_client:ee,is_autologin:y,is_switch_account:v,handler:Z}});let e=new FormData;e.append("username",a.username_or_email),e.append("password",a.password),e.append("ui_component",`${X}.${q}`),e.append("handler",Z||"useAlternativeResourceCall_unspecified_handler"),K&&e.append("recaptchaV3Token",K),Y?.current&&(Y.current.sardineSessionKey&&e.append("sardineSessionKey",Y.current.sardineSessionKey),Y.current.arkoseSessionToken&&e.append("arkoseSessionToken",Y.current.arkoseSessionToken)),ei=fetch("/resource/UserSessionResource/create/",{method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,c.Qm)()||"","X-Requested-With":"XMLHttpRequest","X-Pinterest-PWS-Handler":Z||""}}).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>((0,P.OW)({event:"login_api_call_failure",provider:"email"}),Promise.reject(e)))}try{y?(0,P.OW)({event:"login_api_call_start",provider:a.google_open_id_token?"google":"facebook"}):(0,P.XB)({event:"login_api_call_start",provider:(0,b.Ds)(a)}),Q(7534),D({action:y?"autologin":"login",event:"attempt",type:(0,b.Cn)(a),trigger:H});let e=await ei;y?(0,P.OW)({event:"login_api_call_success",provider:a.google_open_id_token?"google":"facebook"}):(0,P.XB)({event:"login_api_call_success",provider:(0,b.Ds)(a)}),n(L(e.resource_response.data.user));let l=e.client_context,c=e.resource_response.data.user.gatekeeper_experiments;if(c){let{active:e,triggerable:n}=c;e&&n||(0,C.GV)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!e),triggerable:String(!!n)}}),t.updateExperiments(e,n)}else(0,C.GV)("webapp.authentication.updateExperimentsFailed");l&&l.placed_experiences&&n((0,_.vv)(l.placed_experiences)),(0,z.A)("authentication.login_success"),b.Ay.storeLoginCredentialsToBrowser(a),Q(7536),D({action:y?"autologin":"login",event:"success",type:(0,b.Cn)(a),trigger:H}),G(),d.wC(o.N5.name),d.wC(o.vS.name),(0,A.y1)().setItem(s.b$,1),"/"!==r&&(0,k.h)(!0),v?(0,x.A)().then(()=>{let t=`/${e.resource_response.data?.user.username||""}`+(J?`?message=${h.B5}`:"");window.location.href=t}):y&&!f||V||(!a.google_open_id_token&&f&&t.checkExperiment("dweb_arr_modal_post_fb_login").anyEnabled&&(0,j.VY)(),(0,T.q6)({checkExperiment:t.checkExperiment,forceFullPageNavigation:f,navigate:i,next:r,noLocationReplace:S,origin:window.location.toString()})),"facebook"===(0,b.Ds)(a)&&!f&&t.checkExperiment("mweb_arr_modal_post_fb_login").anyEnabled&&(0,j.VY)(),(0,w.A)({country:O,countryFromHostName:U,countryFromIp:M,regionFromIp:R,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(y?(0,P.OW)({event:"login_api_call_failure",provider:a.google_open_id_token?"google":"facebook"}):(0,P.XB)({event:"login_api_call_failure",provider:(0,b.Ds)(a)}),1201!==e.api_error_code||y||f)throw Q(7535),D({action:y?"autologin":"login",event:"fail",type:(0,b.Cn)(a),trigger:H}),v&&(0,z.A)("authentication.login_error"),e;i&&i("/login/mfa/",{state:{creds:a,next:r,phoneNumber:e?.data?.phone_number_end}})}},[n,O,U,M,F,t,N,B,e,R,D,G,W])},U=()=>{let e=(0,f.A)(),t=(0,i.wA)(),n=(0,y.A)();return({client_context:a,resource_response:i})=>{let{data:o}=i;o&&(n(),t(L(o.user)));let l=o.user.gatekeeper_experiments;if(l){let{active:t,triggerable:n}=l;t&&n||(0,C.GV)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,C.GV)("webapp.crossDomainAutologin.updateExperimentsFailed");a&&t((0,_.vv)(a.placed_experiences))}}},300187(e,t,n){n.d(t,{L:()=>C});var a=n(106386),i=n(148867),o=n(427471),l=n(706114),s=n(458345),r=n(743372),d=n(251407),c=n(926608),u=n(457315),_=n(856748),p=n(26530),g=n(769272),m=n(816492),h=n(464755),b=n(173832),f=n(261943),y=n(601185),w=n(700481),v=n(34748),x=n(844255),A=n(805863),P=n(998556),S=n(752159),j=n(550813),z=n(406054),T=n(567584),E=n(82005),k=n(599254),I=n(81920);let C=()=>{let e=(0,y.A)(),t=(0,a.wA)(),{country:n,countryFromHostName:C,countryFromIp:L,regionFromIp:O,isAuthenticated:U}=(0,x._8)(),M=(0,w.A)(),R=(0,r.A)(),B=(0,j.A)(),{isRequirementEnabled:N}=(0,z.AE)(),F=(0,m.A)(),D=(0,c.YG)();return(a,{signupAttemptContextEvent:r})=>{let c=(0,f.yh)(a),m=(0,P.y1)(),y=e=>{R({...r,event_type:e,aux_data:{...r.aux_data,upsell_reason:r.aux_data?.upsell_reason||m.getItem(l.LU)||null,upsell_view_count:m.getItem(l.We)||0}}),7487===e&&m.setItem(l.We,0)};y(7537),B({action:"signup",event:"attempt",type:c}),M();let w=0,x=(0,k.A)(n),j=new Promise(e=>{x?setTimeout(()=>{e(void 0)},3e3):e(void 0)});return new Promise((l,r)=>{let m=async()=>{let x=JSON.stringify(D)||"",P=(0,E.w)(),z={...a,user_behavior_data:JSON.stringify({}),visited_pages:x},k=(0,h.A)({isComplianceFeatureRequired:N,viewType:10});return(k.length>0&&(z={...z,privacy_disclaimer_acknowledge:k}),P&&(z={...z,referrer:P}),(0,I.GV)("webapp.debug_signup_type.redux_registration",{sampleRate:1,tags:{CHECK_TYPE:(0,f.$O)(z,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,f.$O)(z,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,f.$O)(z,"DEPRECATED_CHECK_TRUTHY")}}),"email"===c&&await (0,g.dC)({fingerprintData:z.fingerprintData,source:p.D1.SIGNUP,logContextEvent:R}))?r({isArkoseChallengeRequired:!0}):(z=(0,g.Xw)(z),o.A.create("UserRegisterResource",{...z,get_user:!0}).callCreate().then(i=>j.then(()=>{let o=i.client_context;t({type:"REGISTER_USER",payload:{user:i.resource_response.data.user}});let r=i.resource_response.data.user.gatekeeper_experiments;if(r){let{active:t,triggerable:n}=r;t&&n||(0,I.GV)("webapp.registration.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,I.GV)("webapp.registration.updateExperimentsFailed");o&&o.placed_experiences&&t((0,_.vv)(o.placed_experiences)),U&&(0,T.A)("registration.signup_success");let{email:d,username:u,password:p}=a,g=d||u||null,m=p||null,{credentials:h}=navigator;if(h&&g&&m)try{let e=new window.PasswordCredential({id:g,password:m});(0,S.PM)("unauth_mweb.navigatorCredentials.store.attempt"),h.store(e).then(()=>{(0,S.PM)("unauth_mweb.navigatorCredentials.store.success")})}catch(e){(0,S.PM)("unauth_mweb.navigatorCredentials.store.error")}y(7487),B({action:"signup",event:"success",type:c}),(0,s.A)(),F({isRegister:!0}),U&&(0,A.A)(),(0,v.A)({country:n,countryFromHostName:C,countryFromIp:L,regionFromIp:O,deviceType:"Mobile",eventCategory:"NewUsers"}),l()})).catch(e=>{let t=(0,u.A)(e,"api_error_code");t===b.AT&&((0,S.PM)("multi_step_set_age_restrict_cookie"),d.hZ(i.W$,"1",(0,d.N_)(i.W$))),w<3&&[b.AY,b.L$].includes(t??0)?(w+=1,m()):(y(7488),B({action:"signup",event:"fail",type:c}),U&&(0,T.A)("registration.signup_error"),r(e))}))};m()})}}},654657(e,t,n){n.d(t,{DU:()=>o,Qh:()=>h,R:()=>a,TO:()=>c,Ui:()=>u,WM:()=>i,Zd:()=>_,_7:()=>g,a8:()=>m,aK:()=>f,bP:()=>l,ey:()=>p,iZ:()=>s,ly:()=>y,ml:()=>d,sd:()=>r,uw:()=>b});let a=()=>({type:"DISMISS_UNAUTH_SAVE"}),i=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),o=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),l=()=>({type:"HIDE_NAV_FOOTER"}),s=()=>({type:"SHOW_NAV_FOOTER"}),r=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),d=()=>({type:"SHOW_REPIN_ANIMATION"}),c=()=>({type:"HIDE_REPIN_ANIMATION"}),u=()=>({type:"SHOW_REPIN_CONFETTI_ANIMATION"}),_=()=>({type:"HIDE_REPIN_CONFETTI_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),g=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),m=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),h=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),b=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),f=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},y=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e})},348079(e,t,n){n.d(t,{A:()=>d});var a=n(61163),i=n(859471),o=n(19821),l=n(79906),s=n(538329),r=n(562615);function d({type:e,onDismiss:t}){(0,i.useEffect)(()=>{(0,a.A)("SocialAuthDisabledModal","/app/www/settings/duplo/SocialAuthDisabledModal.tsx")},[]);let n=(0,s.A)(),d="facebook"===e?n.bt("Facebook isn't available", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):n.bt("Google isn't available", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),c="facebook"===e?n.bt("It looks as though Facebook isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):n.bt("It looks as though Google isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,r.jsx)(l.Ay,{accessibilityModalLabel:"",isOpen:!0,mobileHideCloseIcon:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,r.jsxs)(o.az,{padding:5,children:[(0,r.jsx)(o.az,{marginBottom:3,children:(0,r.jsx)(o._Y,{accessibilityLevel:1,size:"600",children:d})}),(0,r.jsx)(o.az,{marginBottom:3,children:(0,r.jsx)(o.KJ,{children:c})}),(0,r.jsx)(o.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,r.jsx)(o.az,{paddingY:1,children:(0,r.jsx)(o.$n,{accessibilityLabel:n.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true),color:"primary",onClick:t,size:"lg",text:n.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true)})})})]})})}},991289(e,t,n){n.d(t,{A:()=>er});var a=n(61163),i=n(859471),o=n(106386),l=n(979638),s=n(19821),r=n(401691),d=n(922442),c=n(743372),u=n(456251),_=n(143539),p=n(457315),g=n(567176),m=n(693154),h=n(538329),b=n(542975),f=n(537536),y=n(173832),w=n(641467),v=n(261943),x=n(86767),A=n(601185),P=n(205392),S=n(844255),j=n(575851),z=n(484409),T=n(752159),E=n(67765),k=n(811154),I=n(706466),C=n(971289),L=n(999813),O=n(706114),U=n(871292),M=n(79898),R=n(998556),B=n(427276),N=n(36217),F=n(562615);let D="id_token=";function G({container:e}){(0,i.useEffect)(()=>{(0,a.A)("AppleConnectButton","/app/www/login/duplo/AppleConnectButton.tsx")},[]);let t=(0,h.A)(),n=(0,l.zy)(),o=(0,N.v)(),r=(0,l.Zp)(),{showToast:d}=(0,I.CG)(),[c,u]=(0,i.useState)(!1),_=(0,E.A)(),p=n.hash.indexOf(D),m=p>=0?n.hash.substring(p+D.length):null,b=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let a=async a=>{(0,T.PM)("in_app_oauth.login.siwa.returned_with_token"),u(!0),o({apple_token:a},r,n.pathname,{noImmediateRedirect:!0,component:"AppleConnectButton",container:e},{event_type:7534,view_type:10}).then(()=>{u(!1),(0,T.PM)("in_app_oauth.login.siwa.login_success");let e=(0,R.y1)().getItem(O.ZH);(0,R.y1)().removeItem(O.ZH),(0,U.A)(e||"/")}).catch(()=>{u(!1),(0,T.PM)("in_app_oauth.login.siwa.login_failure"),d(({hideToast:e})=>(0,F.jsx)(g.A,{onHide:e,text:t.bt("Sorry. You do not have an account connected with Apple. Please try another method.", "Oops! You do not have an account connected with Apple. Please try another method.", "mweb.unauth.oauth_apple_login.login_failure_toast", undefined, true),type:"error"}))})};b.current!==m&&m&&a(m),b.current=m},[r,t,m,n,o,d,e]),c?(0,F.jsx)(s.y$,{accessibilityLabel:t.bt("Loading...", "Loading...", "Loading", undefined, true),show:!0}):(0,F.jsx)(s.Rp,{onTap:()=>{_({action:"click",item:"apple-connect-button"});let e=n.state?.next||(0,B.A)(n),t=e?decodeURIComponent(e):null;(0,R.y1)().setItem(O.ZH,t),(0,U.A)(`https://appleid.apple.com/auth/authorize?client_id=com.pinterest.signinwithapple&redirect_uri=${encodeURIComponent(window.location.origin.toString()+"/oauth/login")}&response_type=${encodeURIComponent("code id_token")}&response_mode=fragment`)},children:(0,F.jsxs)(s.az,{alignItems:"center",color:"washDark",display:"flex",height:40,paddingX:2,paddingY:1,rounding:"pill",width:"100%",children:[(0,F.jsx)(s.az,{marginStart:-3,marginTop:-2,children:M.A}),(0,F.jsx)(s.az,{marginEnd:"auto",marginStart:"auto",children:(0,F.jsx)(s.KJ,{color:"light",weight:"bold",children:t.bt("Continue with Apple", "Continue with Apple", "mweb.unauth.oauth_apple_login.login_button", undefined, true)})})]})})}var W=n(155729);function K(e){(0,i.useEffect)(()=>{(0,a.A)("LineConnectButton","/app/www/login/duplo/LineConnectButton.tsx")},[]);let t=(0,h.A)(),{locale:n}=(0,S._8)();return(0,F.jsx)(s.Rp,{fullWidth:!0,onTap:()=>{e.onTouch(),(0,W.A)(n,{success:t=>"line_id_token"in t?e.onConnectSuccess(t,{...t,type:"line"}):null,error:e.onConnectError})},children:(0,F.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#00C300"}},"data-test-id":"LineConnectContainer",height:40,paddingX:3,rounding:"pill",children:(0,F.jsxs)(s.so,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,F.jsx)(s.az,{height:32,width:32,children:(0,F.jsx)(s._V,{alt:t.bt("line", "line", "accessible label for line icon", undefined, true),naturalHeight:32,naturalWidth:32,src:"https://s.pinimg.com/webapp/btn_base-c86c43dd.png"})}),(0,F.jsx)(s.KJ,{color:"light",size:"300",weight:"bold",children:t.bt("Continue with LINE", "Continue with LINE", "Login page button", undefined, true)})]})})})}var V=n(760771),$=n(515913),H=n(416437),J=n(205756),Y=n(532726),q=n(30764),X=n(348079);function Q(){(0,i.useEffect)(()=>{(0,a.A)("MobileGoogleConnectButtonWithDisabledSDK","/app/www/login/duplo/MobileGoogleConnectButtonWithDisabledSDK.tsx")},[]);let e=(0,h.A)(),[t,n]=(0,i.useState)();return(0,q.p)()?null:(0,F.jsxs)(s.az,{position:"relative",children:[(0,F.jsx)(s.Rp,{onTap:()=>n(!0),children:(0,F.jsxs)(s.az,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",position:"relative",rounding:"pill",children:[(0,F.jsx)(s.az,{height:24,marginTop:1,width:24,children:(0,F.jsx)(Y.A,{size:20})}),(0,F.jsx)(s.az,{marginStart:2,children:(0,F.jsx)(s.KJ,{weight:"bold",children:e.bt("Connect with Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)})})]})}),t&&(0,F.jsx)(X.A,{onDismiss:()=>n(!1),type:"google"})]})}function Z({onGoogleConnectSuccess:e,onTouch:t}){let{locale:n}=(0,S._8)(),a=(0,i.useRef)(null),o=(0,J.Y)(),l=(0,i.useRef)(e),r=(0,E.A)();return(0,i.useEffect)(()=>{l.current=e},[e]),(0,i.useEffect)(()=>{let e=({credential:e,select_by:t})=>{(0,T.PM)(`unauth_mweb.gsi_button.select_by.${t}`),(0,T.uq)("press_google_connect_button");let n=(0,$.A)(e);l.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:n.given_name,last_name:n.family_name,image_url:n.picture})};return(async()=>{await o?.ensureInit("button",e),(0,H.wq)({buttonRef:a,isDesktop:!1,locale:n,onTouch:t})})(),()=>{o?.removeButtonCallback(e)}},[o,n]),(0,F.jsx)(s.az,{position:"relative",children:(0,F.jsx)(s.Rp,{onTap:()=>{r({action:"click",item:"google-connect-button"}),(0,T.XB)({event:"start",provider:"google"})},children:(0,F.jsx)(s.az,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,F.jsx)(s.az,{ref:a,width:"100%"})})})})}function ee({onGoogleConnectSuccess:e,onTouch:t}){(0,i.useEffect)(()=>{(0,a.A)("MobileGoogleConnectButton","/app/www/login/duplo/MobileGoogleConnectButton.tsx")},[]);let{checkExperiment:n}=(0,A.A)(),{anyEnabled:o}=n("mweb_google_disabled");return o?(0,F.jsx)(Q,{}):(0,F.jsx)(Z,{onGoogleConnectSuccess:e,onTouch:t})}function et({onTap:e}){(0,i.useEffect)(()=>{(0,a.A)("PhoneNumberButton","/app/www/login/duplo/PhoneNumberButton.tsx")},[]);let t=(0,h.A)(),{trackConversionUpsell:n}=(0,k.A)();return(0,F.jsx)(s.Rp,{accessibilityHaspopup:!0,accessibilityLabel:"Phone number authentication button",onTap:()=>{n({eventType:14689,element:161}),(0,T.PM)("mweb.phone_number_authentication.click"),e()},children:(0,F.jsxs)(s.az,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",color:"default",display:"flex",height:36,marginBottom:2,padding:4,position:"relative",rounding:300,width:"100%",children:[(0,F.jsx)(s.In,{accessibilityLabel:"Phone",color:"default",icon:"phone",inline:!0,size:"18"}),(0,F.jsx)(s.az,{marginEnd:"auto",marginStart:"auto",children:(0,F.jsx)(s.KJ,{align:"center",size:"200",weight:"bold",children:t.bt("Use phone number", "Use phone number", "unauth.mobileWeb.loginPage.phoneNumberButton", undefined, true)})})]})})}var en=n(553027),ea=n(300187),ei=n(654657),eo=n(629172),el=n(831184),es=n(215731);function er({apple:e,container:t,fbConnectHandler:n,footer:O,from:U,google:M,phoneNumber:R,isBusiness:B,line:D,next:W="/",noImmediateRedirect:$,onLoginTouch:H,onSignupTouch:J,showAppInstallButton:Y,showEmailButton:q,showTextDivider:X,viewParameter:Q,app_upsell_type:Z,attributionLabel:er,disableGoogleSignup:ed,redirectEmailButtonTouchToLogin:ec,isNavigationUpsellExperiment:eu,buttonSize:e_="lg",openDesktopLoginModal:ep}){(0,i.useEffect)(()=>{(0,a.A)("LoginButtons","/app/www/signup/LoginButtons.tsx")},[]);let eg=(0,l.Zp)(),em=(0,l.zy)(),{country:eh}=(0,S._8)(),eb=(0,h.A)(),{showToast:ef}=(0,I.CG)(),ey=(0,c.A)(),ew=(0,E.A)(),ev=(0,o.wA)(),ex=(0,N.v)(),eA=(0,es.p)(),{checkExperiment:eP,flush:eS}=(0,A.A)(),ej=(0,ea.L)(),ez=(0,d.A)(),{isAuth:eT,isLimitedLogin:eE}=(0,m.A)(),[ek,eI]=(0,i.useState)(null),[eC,eL]=(0,i.useState)(!1),[eO,eU]=(0,i.useState)("default"),{trackConversionUpsell:eM}=(0,k.A)(),eR=(0,j.A)(),eB=(0,C.qJ)(),eN=(0,_.C)(),eF="facebook"===eO&&5e3||"google"===eO&&4e3||void 0,eD=z.Ay.getItem(r.IV),eG=ec&&(er?.includes("navigation")||er?.includes("save")||"floating-conversion-upsell"===er);(0,i.useEffect)(()=>{eA&&((O||ec)&&eA.preload?.((0,el.DS)("login.js")),q&&eA.preload?.((0,el.DS)("signup.js")))},[]),(0,i.useEffect)(()=>{q&&(0,P.Uy)("ContinueWithEmailButtonRendered")},[q]);let eW=eT?{login_state:eE?w.A.LIMITED:w.A.DEFAULT}:Object.freeze({}),eK=e=>{ey({view_type:10,view_parameter:Q,element:e,event_type:102,aux_data:eW})},eV=e=>{eM({viewType:10,viewParameter:Q,eventType:14689,element:e})},e$=(e,t)=>{let n,a;switch(t){case"facebook":n=3205,a=x.A.FACEBOOK;break;case"google":n=3204,a=x.A.GPLUS;break;case"line":n=3556,a=x.A.LINE}return{event_type:e,view_type:10,view_parameter:n,element:a===x.A.GPLUS?12981:void 0,aux_data:{...eW,signup_login_method:a,upsell_reason:er}}},eH=e=>(a,i)=>{let o="google"===e?"gsi_btn":"other",l=em.state,s={trigger:o,container:t,component:"LoginButtons"},r=l?.switch_account==="true"?{...s,isSwitchAccount:!0}:{...s,noImmediateRedirect:$};"facebook"===e&&(n?.("success"),(0,T.XB)({event:"receive_credential_response_from_provider",provider:e})),(0,T.uq)(e+"_login_success"),ex(a,eg,W,r,e$(7534,e)).catch(t=>{((e,t,n,a)=>{eI(null);let i=()=>ef(({hideToast:e})=>(0,F.jsx)(g.A,{onHide:e,text:(0,p.A)(t,"api_error_code")&&(0,p.A)(t,"message")||eb.bt("Sorry, we can't log you in.", "Sorry, we can't log you in.", "Error message when user having trouble login in.", undefined, true)}));if(t){if((0,T.PM)(`unauth_mweb.login_error.api_error_code.${String((0,p.A)(t,"api_error_code"))}`),[y.lk,y.Fu,y.dl].includes((0,p.A)(t,"api_error_code")??-1)){if(ed&&"google"===n.type){(0,T.PM)("unauth_mweb.account_recovery.google_account_already_not_linked"),ef(({hideToast:e})=>(0,F.jsx)(g.A,{onHide:e,text:eb.bt("This Google account is not linked to Pinterest. Try another one", "This Google account is not linked to Pinterest. Try another one", "account_recovery.error.google_account_not_linked", undefined, true),type:"error"}));return}(0,T.mY)({event:"start",provider:a}),(()=>{(0,T.PM)("unauth_mweb.facebook_signup_attempt"),n.gender||(0,T.PM)("unauth_mweb.facebook_signup_attempt.nogender");let{birthday:e}=n;if(void 0===e||!(0,u.A)(e)){eS(),eg("/signup/thirdpartyage/",{state:{signupOptions:"facebook"===n.type?{...n,email_source_site:v.IL.FACEBOOK}:n,progressBarAnimationDuration:eF,attributionLabel:er}});return}eI("signup"),eU(a);let t="facebook"===n.type?{...n,email_source_site:v.IL.FACEBOOK,birthday_source_site:v.IL.FACEBOOK,birthday:e}:{...n,birthday:e};(0,T.mY)({event:"signup_api_call_start",provider:a}),ej(t,{signupAttemptContextEvent:e$(7537,a)}).then(()=>{(0,T.uq)("signup_via_login_buttons"),(0,T.mY)({event:"signup_api_call_success",provider:a}),["facebook","google"].includes(a)&&ez(W||"/"),eI(null)},e=>{(0,T.mY)({event:"signup_api_call_failure",provider:a});let t=(0,p.A)(e,"api_error_code");"line"===n.type&&(t===y.gE?eg("/signup/line-email-collect/",{state:{signupOptions:n,attributionLabel:er}}):t===y.YP&&eg("/signup/thirdpartyage/",{state:{signupOptions:n,attributionLabel:er}})),ef(({hideToast:n})=>(0,F.jsx)(g.A,{onHide:n,text:t&&(0,p.A)(e,"message")||eb.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "Error logging on", undefined, true)})),eI(null)})})()}else y.oI.includes((0,p.A)(t,"api_error_code")??0)&&eL(!0);i()}else(0,T.PM)("unauth_mweb.login.unexpected_error"),i()})(0,t,i,e)}),eI("login"),eU(e)},eJ=({event:e})=>{e.stopPropagation(),e.preventDefault(),H?.(),U&&ev((0,ei.sd)(U)),ew({action:"click",item:"login-button"}),eK(30),(0,T.PM)(`unauth_mweb.login_buttons.footer.${O?.type||"button"}`),(0,T.uq)("press_login"),eM({eventType:14689,element:30,viewType:10,viewParameter:Q}),eM({eventType:14688,component:14213,upsellReason:er,incrementUpsellReasonCounter:!1});let t=(0,f.Tp)(em);eg(`${B?"/business/login/":"/login/"}${t}`,{state:{next:W,attributionLabel:er}})};return(0,F.jsxs)(s.az,{"data-test-id":"LoginButtonsContainer",marginEnd:"auto",marginStart:"auto",marginTop:B?-5:0,maxWidth:ed?502:400,children:[eC&&(0,F.jsx)(V.A,{onDismiss:()=>eL(!1)}),X&&(0,F.jsx)(s.az,{marginBottom:3,marginTop:3,children:(0,F.jsx)(s.KJ,{align:"center",size:"100",weight:"bold",children:eb.bt("Or", "OR", "Separator for email login button and social login button", undefined, true)})}),(0,F.jsx)(s.az,{marginBottom:O?.type==="member_link"&&O.hideMemberLink?2:6,children:(0,F.jsxs)(i.Fragment,{children:[Y&&(0,F.jsx)(eo.A,{app_upsell_type:Z}),q&&!eD&&(0,F.jsx)(s.az,{"data-test-id":"continue-email-button",marginBottom:B?-2:2,children:(0,F.jsx)(s.$n,{color:Y?"secondary":"primary",fullWidth:!0,onClick:({event:e})=>{if(e&&(e.stopPropagation(),e.preventDefault()),(0,T.uq)("press_email_signup"),(0,T.mY)({event:"start",provider:"email"}),ew({action:"click",item:"email-signup-button"}),J?.(),U&&ev((0,ei.sd)(U)),eV(13506),eK(31),eM({eventType:14688,component:14215,upsellReason:er,incrementUpsellReasonCounter:!1}),ep&&eN)return void eN.showDesktopSignupModal({attributionLabel:er??"login_buttons_email",source:"login",container:t,reason:"CLICK_LOGIN_OR_SIGNUP",signupFlow:{type:"login"}});let n=(0,f.Tp)(em);eg(`${B?"/business/signup/step1/":ec?"/login/":"/signup/step1/"}${n}`,{state:{next:W,attributionLabel:er}})},size:e_,text:B?eb.bt("Create account", "Create account", "Button text for creating a business account", undefined, true):eb.bt("Continue with email", "Continue with email", "Sign up button", undefined, true)})}),R&&eP("mweb_unauth_phone_number_authentication_v0").anyEnabled&&(0,F.jsx)(et,{onTap:()=>{eg("/signup/step1/",{state:{next:W,attributionLabel:er,isFromPhoneNumberButton:!0}})}}),M&&!eD&&(0,F.jsx)(s.az,{"data-test-id":"google-connect-button",marginBottom:2,children:(0,F.jsx)(ee,{onGoogleConnectSuccess:eH("google"),onTouch:()=>{eV(13504),ed&&ey({event_type:15392,component:15214,element:13504})}})}),D&&"JP"===eh&&!eD&&(0,F.jsx)(s.az,{"data-test-id":"line-connect-button",marginBottom:2,children:(0,F.jsx)(K,{onConnectError:()=>ef(({hideToast:e})=>(0,F.jsx)(g.A,{onHide:e,text:eb.bt("Unable to connect to LINE", "Unable to connect to Line", "Error logging on with Line", undefined, true)})),onConnectSuccess:eH("line"),onTouch:()=>{eV(13507),eK(12277),ew({action:"click",item:"line-connect-button"})}})}),e&&(0,F.jsx)(s.az,{"data-test-id":"apple-connect-button",marginBottom:2,children:(0,F.jsx)(G,{})})]})}),O?.type==="signup_link"&&!eD&&(0,F.jsx)(s.az,{"data-test-id":"signup-member",marginTop:-6,children:(0,F.jsx)(s.Rp,{onTap:({event:e})=>{if(e.stopPropagation(),e.preventDefault(),J?.(),U&&ev((0,ei.sd)(U)),ew({action:"click",item:"signup-link"}),eK(31),eM({eventType:14689,element:31,viewType:10,viewParameter:Q}),eB)eR({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:er??"login_buttons_signup_link",desktopOptions:{modalType:"signup"}});else{let e=(0,f.Tp)(em);eg(`/signup/step1/${e}`,{state:{next:W,attributionLabel:er}})}},tapStyle:"none",children:(0,F.jsx)(s.az,{paddingY:4,children:(0,F.jsx)(s.KJ,{align:"center",size:"200",children:(0,b.$w)({text:eb.bt("New to Pinterest? <a id=\"signupLink\">Join for free</a>", "New to Pinterest? <a id=\"signupLink\">Join for free</a>", "unauth.login_gradient_upsell.signup_prompt", undefined, true),jsxReplacements:{signupLink:({innerHtmlStrings:e})=>(0,F.jsx)(s.Wu,{color:"link",inline:!0,size:"200",children:e},"signup-link")}})})})})}),O&&!eD&&"signup_link"!==O.type&&("member_link"===O.type?!eG&&!O.hideMemberLink&&(0,F.jsx)(s.az,{"data-test-id":"login-member",marginTop:O.isUnauthHomepageOnMobile?10:-4,children:(0,F.jsx)(s.Rp,{onTap:({event:e})=>eJ({event:e}),tapStyle:"none",children:(0,F.jsx)(s.az,{marginBottom:O.increasedSpaceBelow?-1:-2,paddingY:4*!O.noPadding,children:(0,F.jsx)(s.KJ,{align:"center",color:O.textColorIsLight?"light":"default",size:"200",children:(0,F.jsxs)(i.Fragment,{children:[(0,F.jsxs)(s.KJ,{color:O.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"normal",children:[eb.bt("Already a member?", "Already a member?", "Prompt for logging in", undefined, true)," "]}),O.loginTextUnderline?(0,F.jsx)("span",{style:{textDecoration:"underline"},children:(0,F.jsx)(s.KJ,{color:O.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"normal",children:eb.bt("Log in", "Log in", "login.link.text", undefined, true)})}):(0,F.jsx)(s.KJ,{color:O.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"bold",children:eb.bt("Log in", "Log in", "login.link.text", undefined, true)})]})})})})}):(0,F.jsx)(s.az,{"data-test-id":"login-button",marginBottom:5,children:(0,F.jsx)(s.$n,{color:"transparent",fullWidth:!0,onClick:eJ,text:eb.bt("Log in", "Log in", "Login page button", undefined, true)})})),ek&&("signup"===ek?(0,F.jsx)(en.A,{progressBarAnimationDuration:eF}):(0,F.jsx)(L.A,{}))]})}},629172(e,t,n){n.d(t,{A:()=>h});var a=n(61163),i=n(859471),o=n(979638),l=n(19821),s=n(401691),r=n(538329),d=n(675201),c=n(844255),u=n(484409),_=n(67765),p=n(811154),g=n(654557),m=n(562615);function h({app_upsell_type:e}){(0,i.useEffect)(()=>{(0,a.A)("MobileSignupModalAppInstallButton","/app/www/signup/MobileSignupModalAppInstallButton.tsx")},[]);let t=(0,r.A)(),n=(0,o.zy)(),{userAgent:{platform:h}}=(0,c._8)(),b=(0,_.A)(),{trackConversionUpsell:f}=(0,p.A)(),{pathname:y}=n,w=u.Ay.getItem(s.IV);return(0,m.jsx)(l.az,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,m.jsx)(g.A,{app_upsell_type:e??"unauth-signup-modal",componentType:13858,children:({handleOpenApp:a})=>(0,m.jsx)(l.$n,{color:"primary",fullWidth:!0,onClick:()=>{f({element:10308,eventType:14689}),b({action:"click",item:"handle-open-app-button",within:"homepage_top_module"===e?"homepage-top-section":"homepage-bottom-section"}),y&&a({deepLinkUri:"/"===y?"/":(0,d.A)(n)&&("ios"===h||"ipad"===h)?"user"+y:y.substr(1)})},size:"lg",text:w?t.bt("Join Pinterest", "Join Pinterest", "unauth.modal.continue_to_pinterest.button_text", undefined, true):t.bt("Get Pinterest app", "Get Pinterest app", "unauth.modal.get_app.button_text", undefined, true)})})})}},348525(e,t,n){function a({isVisible:e}){return{opacity:+!!e,transform:e?"translateY(0)":"translateY(30px)",transition:"opacity 300ms cubic-bezier(0.25, 0.375, 0.1, 0.975), transform 300ms cubic-bezier(0.25, 0.375, 0.1, 0.975)",pointerEvents:e?"auto":"none",willChange:"opacity, transform"}}n.d(t,{Pq:()=>l,h3:()=>i,jt:()=>a,mz:()=>o,xu:()=>s});let i="signup_upsell_source",o={SPLP_QUICK_REPLY:"splp-quick-reply",SPLP_GROUP_BOARD_EDUCATION:"splp-group-board-education"},l=[o.SPLP_QUICK_REPLY,o.SPLP_GROUP_BOARD_EDUCATION];function s({isDesktop:e}){return e?276:286}},447109(e,t,n){n.d(t,{oX:()=>i,El:()=>l,UK:()=>u,hN:()=>r,WA:()=>c,Ur:()=>d,De:()=>s,XP:()=>a,hm:()=>o});let a=100,i=3e3,o=64,l=64,s=100,r=57,d={width:"100%",height:"auto",display:"flex",justifyContent:"space-between",alignItems:"center"},c=["❤️","😂","😍","😮","👍","👎"],u={"❤️":{asset:"https://s.pinimg.com/webapp/heart-b38c878b.png",alt:"heart",height:20,width:30},"😂":{asset:"https://s.pinimg.com/webapp/joy-e5c9ba00.png",alt:"joy",height:20,width:25},"😍":{asset:"https://s.pinimg.com/webapp/heart_eyes-1e28ea2c.png",alt:"heart eyes",height:20,width:25},"😮":{asset:"https://s.pinimg.com/webapp/open_mouth-9142127d.png",alt:"open mouth",height:20,width:25},"👍":{asset:"https://s.pinimg.com/webapp/thumbs_up-c8f2c4f2.png",alt:"thumbs up",height:20,width:25},"👎":{asset:"https://s.pinimg.com/webapp/thumbs_down-733612c9.png",alt:"thumbs down",height:20,width:25}}},140671(e,t,n){n.d(t,{A:()=>m});var a=n(106386),i=n(979638),o=n(401691),l=n(284772),s=n(115795),r=n(844255),d=n(484409),c=n(971289),u=n(210429),_=n(734469),p=n(806762),g=n(81920);let m=()=>{let{isBot:e}=(0,r._8)(),t=(0,i.zy)(),{userAgentPlatform:n,userAgent:m}=(0,a.d4)(e=>e.session),h=(0,u.A)();return!((0,c.M)()&&!h)&&!(0,_.$m)({isBot:e,platform:n,userAgent:m})&&((0,s.d3)(t)||(0,s.iK)(t))&&!(0,p.K)()&&(!(0,l.lq)(m)||((0,d.V2)().getItem(o.hV)||((0,g.GV)("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,d.V2)().setItem(o.hV,"1")),!1))}},275439(e,t,n){n.d(t,{A:()=>c});var a=n(859471),i=n(979638),o=n(115795),l=n(675201),s=n(31913),r=n(401147),d=n(685858);let c=e=>{let t=(0,d.d)(),n=(0,i.zy)(),[c]=(0,a.useState)(n),u=n.pathname===c.pathname&&n.search===c.search&&((0,o.ZX)(n)&&((0,o.mg)(n)&&"pin"||(0,o.iK)(n)&&"board"||(0,l.A)(n)&&"profile")||null)||null,[_,p]=(0,a.useState)(null),{isLoaded:g,data:m}=(0,s.A)(!e&&t&&u?{url:"/v3/invite_code/{invite_code}/",params:{invite_code:t,fields:r.ff}}:null);return(0,a.useEffect)(()=>{g&&m&&p(m??null)},[g,m]),t&&u?{invite:_,pageType:u}:null}},807749(e){e.exports="https://s.pinimg.com/webapp/UnauthUpsell_MediaModal_VP2-f74e3bc8.png"},805739(e){e.exports="https://s.pinimg.com/webapp/V4_experiment_3_2_ratio_image-d1dd9184.png"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/UnauthPageWrapperFooter.en_GB-30a29866bfd5a916.mjs.map